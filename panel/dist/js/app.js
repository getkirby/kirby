(function(t){function e(e){for(var i,a,o=e[0],u=e[1],c=e[2],p=0,d=[];p<o.length;p++)a=o[p],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);l&&l(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,o=1;o<n.length;o++){var u=n[o];0!==r[u]&&(i=!1)}i&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},r={app:0},s=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var l=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0069":function(t,e,n){"use strict";var i=n("d01b"),r=n.n(i);r.a},"0118":function(t,e,n){},"021f":function(t,e,n){"use strict";var i=n("a60e"),r=n.n(i);r.a},"04a6":function(t,e,n){},"04cb":function(t,e,n){},"0587":function(t,e,n){},"06ef":function(t,e,n){},"088c":function(t,e,n){"use strict";var i=n("9ef9"),r=n.n(i);r.a},"08eb":function(t,e,n){},"0a47":function(t,e,n){},"0d56":function(t,e,n){"use strict";var i=n("e78b"),r=n.n(i);r.a},"0ded":function(t,e,n){},"0faf":function(t,e,n){},"116a":function(t,e,n){"use strict";var i=n("d78f"),r=n.n(i);r.a},"11ae":function(t,e,n){"use strict";var i=n("6624"),r=n.n(i);r.a},1267:function(t,e,n){"use strict";var i=n("a402"),r=n.n(i);r.a},"12fb":function(t,e,n){"use strict";var i=n("5632"),r=n.n(i);r.a},"146c":function(t,e,n){"use strict";var i=n("e123"),r=n.n(i);r.a},"16eb":function(t,e,n){"use strict";var i=n("ab3d"),r=n.n(i);r.a},"170b":function(t,e,n){"use strict";var i=n("53af"),r=n.n(i);r.a},"18dd":function(t,e,n){"use strict";var i=n("3bc3"),r=n.n(i);r.a},1991:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-input",{ref:"input",staticClass:"k-block-type-list-input",attrs:{marks:t.marks,value:t.content.text,type:"list"},on:{input:function(e){return t.update({text:e})}}})},r=[],s={computed:{marks:function(){return this.field("text",{}).marks}},methods:{focus:function(){this.$refs.input.focus()}}},a=s,o=n("2877"),u=Object(o["a"])(a,i,r,!1,null,null,null);e["default"]=u.exports},"19d7":function(t,e,n){"use strict";var i=n("6ec7"),r=n.n(i);r.a},"19ed":function(t,e,n){},"1b3b":function(t,e,n){"use strict";var i=n("c500"),r=n.n(i);r.a},"1bde":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-block-type-code-editor"},[n("k-input",{ref:"code",attrs:{buttons:!1,placeholder:t.placeholder,spellcheck:!1,value:t.content.code,type:"textarea"},on:{input:function(e){return t.update({code:e})}}}),t.languages.length?n("div",{staticClass:"k-block-type-code-editor-language"},[n("k-icon",{attrs:{type:"code"}}),n("k-input",{ref:"language",attrs:{empty:!1,options:t.languages,value:t.content.language,type:"select"},on:{input:function(e){return t.update({language:e})}}})],1):t._e()],1)},r=[],s={computed:{placeholder:function(){return this.field("code",{}).placeholder},languages:function(){return this.field("language",{options:[]}).options}},methods:{focus:function(){this.$refs.code.focus()}}},a=s,o=(n("ae1b"),n("2877")),u=Object(o["a"])(a,i,r,!1,null,null,null);e["default"]=u.exports},"1c4e":function(t,e,n){"use strict";var i=n("6ec76"),r=n.n(i);r.a},"1e3b":function(t,e,n){"use strict";var i=n("79f1"),r=n.n(i);r.a},"217b":function(t,e,n){"use strict";var i=n("32b8"),r=n.n(i);r.a},"21dc":function(t,e,n){"use strict";var i=n("73ca"),r=n.n(i);r.a},2246:function(t,e,n){},"224d":function(t,e,n){"use strict";var i=n("d218"),r=n.n(i);r.a},2426:function(t,e,n){},2463:function(t,e,n){},"24a4":function(t,e,n){},"24c1":function(t,e,n){"use strict";var i=n("44d0"),r=n.n(i);r.a},"27c1":function(t,e,n){"use strict";var i=n("bc9b"),r=n.n(i);r.a},"288b":function(t,e,n){},"2bfd":function(t,e,n){},"2d1c":function(t,e,n){},"310e":function(t,e,n){"use strict";var i=n("f4ad"),r=n.n(i);r.a},3273:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{on:{dblclick:t.open}},[0===t.content.images.length?[n("li"),n("li"),n("li"),n("li"),n("li")]:t._l(t.content.images,(function(t){return n("li",{key:t.id},[n("img",{attrs:{src:t.url,alt:t.alt}})])}))],2)},r=[],s=(n("1b3b"),n("2877")),a={},o=Object(s["a"])(a,i,r,!1,null,null,null);e["default"]=o.exports},"32b8":function(t,e,n){},3342:function(t,e,n){"use strict";var i=n("2d1c"),r=n.n(i);r.a},"342a":function(t,e,n){},"35cb":function(t,e,n){"use strict";var i=n("06ef"),r=n.n(i);r.a},"367b":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-block-title",{attrs:{content:t.content,fieldset:t.fieldset},on:{dblclick:function(e){return t.$emit("open")}}})},r=[],s=(n("5f34"),n("2877")),a={},o=Object(s["a"])(a,i,r,!1,null,null,null);e["default"]=o.exports},3787:function(t,e,n){"use strict";var i=n("e913"),r=n.n(i);r.a},3915:function(t,e,n){},"3a85":function(t,e,n){"use strict";var i=n("e077"),r=n.n(i);r.a},"3bc3":function(t,e,n){},"3cf3":function(t,e,n){"use strict";var i=n("6d68"),r=n.n(i);r.a},"3d84":function(t,e,n){},"3fec":function(t,e,n){},4041:function(t,e,n){"use strict";var i=n("e0eb"),r=n.n(i);r.a},"414d":function(t,e,n){"use strict";var i=n("5796"),r=n.n(i);r.a},"41cf":function(t,e,n){},"41d3":function(t,e,n){},"42e4":function(t,e,n){"use strict";var i=n("e808"),r=n.n(i);r.a},4333:function(t,e,n){"use strict";var i=n("58e5"),r=n.n(i);r.a},4433:function(t,e,n){"use strict";var i=n("8f9d"),r=n.n(i);r.a},4439:function(t,e,n){},"44d0":function(t,e,n){},"455b":function(t,e,n){"use strict";var i=n("c092"),r=n.n(i);r.a},"46b2":function(t,e,n){},"49aa":function(t,e,n){},"4a4b":function(t,e,n){"use strict";var i=n("716d"),r=n.n(i);r.a},"4ab0":function(t,e,n){},"4cb2":function(t,e,n){"use strict";var i=n("a9b5"),r=n.n(i);r.a},"4eb7":function(t,e,n){},"532d":function(t,e,n){},5332:function(t,e,n){"use strict";var i=n("d0f9"),r=n.n(i);r.a},"53af":function(t,e,n){},"53c5":function(t,e,n){"use strict";var i=n("5772"),r=n.n(i);r.a},5632:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("4160"),n("b0c0"),n("ac1f"),n("1276"),n("159b"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var i,r,s,a,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.$store.state.system.info.isBroken?n("div",{staticClass:"k-panel"},[n("main",{staticClass:"k-panel-view"},[n("k-error-view",[t.debug?n("p",[t._v("\n        "+t._s(t.$store.state.system.info.error)+"\n      ")]):n("p",[t._v("\n        The Panel cannot connect to the API\n      ")])])],1)]):n("div",{staticClass:"k-panel",attrs:{"data-dragging":t.$store.state.drag,"data-loading":t.$store.state.isLoading,"data-route":t.$route.name,"data-topbar":t.inside,"data-translation":t.translation,"data-translation-default":t.defaultTranslation,tabindex:"0"}},[n("keep-alive",[n("k-icons")],1),t.inside?n("header",{staticClass:"k-panel-header"},[n("k-topbar",{on:{register:function(e){return t.$refs.registration.open()},search:function(e){return t.$refs.search.open()}}})],1):t._e(),n("main",{staticClass:"k-panel-view"},[n("router-view")],1),t.inside?n("k-form-buttons"):t._e(),t.inside?n("k-search",{ref:"search",attrs:{type:t.searchType,types:t.searchTypes}}):t._e(),n("k-error-dialog"),t.fatal?[n("div",{staticClass:"k-fatal"},[n("div",{staticClass:"k-fatal-box"},[n("k-headline",[t._v("The JSON response of the API could not be parsed:")]),n("iframe",{ref:"fatal",staticClass:"k-fatal-iframe"})],1)])]:t._e(),t.offline?n("div",{staticClass:"k-offline-warning"},[n("p",[t._v("The Panel is currently offline")])]):t._e(),t.inside?n("k-registration",{ref:"registration"}):t._e()],2)},u=[],c=(n("841c"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"k-icons",attrs:{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",overflow:"hidden"}},[n("defs",t._l(t.$options.icons,(function(e,i){return n("symbol",{key:i,attrs:{id:"icon-"+i,viewBox:"0 0 16 16"},domProps:{innerHTML:t._s(e)}})})),0)])}),l=[],p={icons:window.panel.plugins.icons},d=p,f=n("2877"),h=Object(f["a"])(d,c,l,!1,null,null,null),m=h.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("license.register")},on:{submit:t.submit},model:{value:t.registration,callback:function(e){t.registration=e},expression:"registration"}})},b=[],v=(n("96cf"),n("1da1")),k={props:{cancelButton:{type:[String,Boolean],default:!0},icon:String,submitButton:{type:[String,Boolean],default:!0},size:String,theme:String},methods:{close:function(){this.$refs.dialog.close(),this.$emit("close")},error:function(t){this.$refs.dialog.error(t)},open:function(){this.$refs.dialog.open(),this.$emit("open")},success:function(t){var e=this;this.$refs.dialog.close(),t.route&&this.$go(t.route),t.message&&this.$store.dispatch("notification/success",t.message),t.event&&("string"===typeof t.event&&(t.event=[t.event]),t.event.forEach((function(t){e.$events.$emit(t)}))),!1!==Object.prototype.hasOwnProperty.call(t,"emit")&&!1===t.emit||this.$emit("success")}}},$={mixins:[k],data:function(){return{registration:{license:null,email:null}}},computed:{fields:function(){return{license:{label:this.$t("license.register.label"),type:"text",required:!0,counter:!1,placeholder:"K3-",help:this.$t("license.register.help")},email:{label:this.$t("email"),type:"email",required:!0,counter:!1}}}},methods:{submit:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.system.register(t.registration);case 3:t.$store.dispatch("system/register",t.registration.license),t.success({message:t.$t("license.register.success")}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.$refs.dialog.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},y=$,w=Object(f["a"])(y,g,b,!1,null,null,null),_=w.exports,x=n("5530"),O=window.panel||{},j={assets:"@/assets",api:"/api",site:"http://sandbox.test",url:"/",debug:!0,translation:"en",search:{limit:10}},C=Object(x["a"])(Object(x["a"])({},j),O),S=(n("99af"),n("d81d"),n("9911"),n("2909")),E=function(t){var e=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(n){var i,r,s,a,o,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=n.endpoint,r=n.query,s=n.limit,a=n.fields,o=n.map,e.next=3,t.$api.get(i,{q:r,limit:s||10,select:["id"].concat(Object(S["a"])(a),["panelIcon","panelImage"])});case 3:return u=e.sent,e.abrupt("return",u.data.map((function(t){return Object(x["a"])({id:t.id,icon:Object(x["a"])(Object(x["a"])({},t.panelIcon),{},{back:"black",color:"#fff"}),image:Object(x["a"])(Object(x["a"])({},t.panelImage),{},{back:"pattern",cover:!0})},o(t))})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{pages:{label:t.$t("pages"),icon:"page",search:function(){var n=Object(v["a"])(regeneratorRuntime.mark((function n(i){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e(Object(x["a"])(Object(x["a"])({},i),{},{endpoint:"site/search",fields:["title"],map:function(e){return{title:e.title,link:t.$api.pages.link(e.id),info:e.id}}})));case 1:case"end":return n.stop()}}),n)})));function i(t){return n.apply(this,arguments)}return i}()},files:{label:t.$t("files"),icon:"image",search:function(){var n=Object(v["a"])(regeneratorRuntime.mark((function n(i){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e(Object(x["a"])(Object(x["a"])({},i),{},{endpoint:"files/search",fields:["filename","parent"],map:function(e){return{title:e.filename,link:t.$api.files.link(t.$api.pages.url(e.parent.id),e.filename),info:e.id}}})));case 1:case"end":return n.stop()}}),n)})));function i(t){return n.apply(this,arguments)}return i}()},users:{label:t.$t("users"),icon:"users",search:function(){var n=Object(v["a"])(regeneratorRuntime.mark((function n(i){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e(Object(x["a"])(Object(x["a"])({},i),{},{endpoint:"users/search",fields:["name","email"],map:function(e){return{title:e.name||e.email,link:t.$api.users.link(e.id),info:e.email,icon:{back:"black",type:"user"}}}})));case 1:case"end":return n.stop()}}),n)})));function i(t){return n.apply(this,arguments)}return i}()}}},R={name:"App",components:{"k-icons":m,"k-registration":_},data:function(){return{offline:!1,dragging:!1,debug:C.debug}},computed:{inside:function(){return!(this.$route.meta.outside||!this.$store.state.user.current)},defaultTranslation:function(){return!!this.$store.state.languages.current&&this.$store.state.languages.current===this.$store.state.languages.default},fatal:function(){return this.$store.state.fatal},searchType:function(){return"users"===this.$store.state.view?"users":"pages"},searchTypes:function(){return E(this)},translation:function(){return!!this.$store.state.languages.current&&this.$store.state.languages.current.code}},watch:{fatal:function(t){var e=this;null!==t&&this.$nextTick((function(){var n=e.$refs.fatal.contentWindow.document;n.open(),n.write(t),n.close()}))}},created:function(){this.$events.$on("offline",this.isOffline),this.$events.$on("online",this.isOnline),this.$events.$on("keydown.cmd.shift.f",this.search),this.$events.$on("drop",this.drop)},destroyed:function(){this.$events.$off("offline",this.isOffline),this.$events.$off("online",this.isOnline),this.$events.$off("keydown.cmd.shift.f",this.search),this.$events.$off("drop",this.drop)},methods:{drop:function(){this.$store.dispatch("drag",null)},isOnline:function(){this.offline=!1},isOffline:function(){!1===this.$store.state.system.info.isLocal&&(this.offline=!0)}}},T=R,L=(n("5c0b"),Object(f["a"])(T,o,u,!1,null,null,null)),I=L.exports,A=(n("4de4"),function(t){return{login:function(e){return Object(v["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i={long:e.remember||!1,email:e.email,password:e.password},n.next=3,t.post("auth/login",i);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))()},logout:function(){return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.post("auth/logout"));case 1:case"end":return e.stop()}}),e)})))()},user:function(e){return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",t.get("auth",e));case 1:case"end":return n.stop()}}),n)})))()},verifyCode:function(e){return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.post("auth/code",{code:e});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}}}),B=(n("5319"),n("a026")),D=function(t){return{breadcrumb:function(e,n){var i=null,r=[];switch(n){case"UserFile":r.push({label:e.parent.username,link:t.users.link(e.parent.id)}),i="users/"+e.parent.id;break;case"SiteFile":i="site";break;case"PageFile":r=e.parents.map((function(e){return{label:e.title,link:t.pages.link(e.id)}})),i=t.pages.url(e.parent.id);break}return r.push({label:e.filename,link:this.link(i,e.filename)}),r},changeName:function(e,n,i){return Object(v["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",t.patch(e+"/files/"+n+"/name",{name:i}));case 1:case"end":return r.stop()}}),r)})))()},delete:function(e,n){return Object(v["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.abrupt("return",t.delete(e+"/files/"+n));case 1:case"end":return i.stop()}}),i)})))()},get:function(e,n,i){return Object(v["a"])(regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.get(e+"/files/"+n,i);case 2:return s=r.sent,!0===Array.isArray(s.content)&&(s.content={}),r.abrupt("return",s);case 5:case"end":return r.stop()}}),r)})))()},link:function(t,e,n){return"/"+this.url(t,e,n)},options:function(e,n,i){var r=arguments,s=this;return Object(v["a"])(regeneratorRuntime.mark((function a(){var o,u,c,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=!(r.length>3&&void 0!==r[3])||r[3],a.next=3,t.get(s.url(e,n),{select:"options"});case 3:return u=a.sent,c=u.options,l=[],"list"===i&&(l.push({click:"download",icon:"open",text:B["a"].i18n.translate("open")}),l.push("-")),l.push({click:"rename",icon:"title",text:B["a"].i18n.translate("rename"),disabled:!c.changeName}),l.push({click:"replace",icon:"upload",text:B["a"].i18n.translate("replace"),disabled:!c.replace}),"list"===i&&(l.push("-"),l.push({click:"sort",icon:"sort",text:B["a"].i18n.translate("file.sort"),disabled:!(c.update&&o)})),l.push("-"),l.push({click:"remove",icon:"trash",text:B["a"].i18n.translate("delete"),disabled:!c.delete}),a.abrupt("return",l);case 13:case"end":return a.stop()}}),a)})))()},update:function(e,n,i){return Object(v["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",t.patch(e+"/files/"+n,i));case 1:case"end":return r.stop()}}),r)})))()},url:function(t,e,n){var i=t+"/files/"+e;return n&&(i+="/"+n),i}}},M=function(t){return{create:function(e){return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.post("languages",e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},delete:function(e){return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",t.delete("languages/"+e));case 1:case"end":return n.stop()}}),n)})))()},get:function(e){return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.get("languages/"+e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},list:function(){return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.get("languages");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},update:function(e,n){return Object(v["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.abrupt("return",t.patch("languages/"+e,n));case 1:case"end":return i.stop()}}),i)})))()}}},N=function(t){return{blueprint:function(e){var n=this;return Object(v["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.abrupt("return",t.get("pages/"+n.id(e)+"/blueprint"));case 1:case"end":return i.stop()}}),i)})))()},blueprints:function(e,n){var i=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",t.get("pages/"+i.id(e)+"/blueprints",{section:n}));case 1:case"end":return r.stop()}}),r)})))()},breadcrumb:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.parents.map((function(t){return{label:t.title,link:e.link(t.id)}}));return!0===n&&i.push({label:t.title,link:this.link(t.id)}),i},changeSlug:function(e,n){var i=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",t.patch("pages/"+i.id(e)+"/slug",{slug:n}));case 1:case"end":return r.stop()}}),r)})))()},changeStatus:function(e,n,i){var r=this;return Object(v["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.abrupt("return",t.patch("pages/"+r.id(e)+"/status",{status:n,position:i}));case 1:case"end":return s.stop()}}),s)})))()},changeTemplate:function(e,n){var i=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",t.patch("pages/"+i.id(e)+"/template",{template:n}));case 1:case"end":return r.stop()}}),r)})))()},changeTitle:function(e,n){var i=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",t.patch("pages/"+i.id(e)+"/title",{title:n}));case 1:case"end":return r.stop()}}),r)})))()},children:function(e,n){var i=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",t.post("pages/"+i.id(e)+"/children/search",n));case 1:case"end":return r.stop()}}),r)})))()},create:function(e,n){var i=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(null!==e&&"/"!==e){r.next=2;break}return r.abrupt("return",t.post("site/children",n));case 2:return r.abrupt("return",t.post("pages/"+i.id(e)+"/children",n));case 3:case"end":return r.stop()}}),r)})))()},delete:function(e,n){var i=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",t.delete("pages/"+i.id(e),n));case 1:case"end":return r.stop()}}),r)})))()},duplicate:function(e,n,i){var r=this;return Object(v["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.abrupt("return",t.post("pages/"+r.id(e)+"/duplicate",{slug:n,children:i.children||!1,files:i.files||!1}));case 1:case"end":return s.stop()}}),s)})))()},get:function(e,n){var i=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.get("pages/"+i.id(e),n);case 2:return s=r.sent,!0===Array.isArray(s.content)&&(s.content={}),r.abrupt("return",s);case 5:case"end":return r.stop()}}),r)})))()},id:function(t){return t.replace(/\//g,"+")},files:function(e,n){var i=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",t.post("pages/"+i.id(e)+"/files/search",n));case 1:case"end":return r.stop()}}),r)})))()},link:function(t){return"/"+this.url(t)},options:function(e){var n=arguments,i=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){var s,a,o,u,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=n.length>1&&void 0!==n[1]?n[1]:"view",a=!(n.length>2&&void 0!==n[2])||n[2],r.next=4,t.get(i.url(e),{select:"options"});case 4:return o=r.sent,u=o.options,c=[],"list"===s&&(c.push({click:"preview",icon:"open",text:B["a"].i18n.translate("open"),disabled:!1===u.preview}),c.push("-")),c.push({click:"rename",icon:"title",text:B["a"].i18n.translate("rename"),disabled:!u.changeTitle}),c.push({click:"duplicate",icon:"copy",text:B["a"].i18n.translate("duplicate"),disabled:!u.duplicate}),c.push("-"),c.push({click:"url",icon:"url",text:B["a"].i18n.translate("page.changeSlug"),disabled:!u.changeSlug}),c.push({click:"status",icon:"preview",text:B["a"].i18n.translate("page.changeStatus"),disabled:!u.changeStatus}),"list"===s&&c.push({click:"sort",icon:"sort",text:B["a"].i18n.translate("page.sort"),disabled:!(u.sort&&a)}),c.push({click:"template",icon:"template",text:B["a"].i18n.translate("page.changeTemplate"),disabled:!u.changeTemplate}),c.push("-"),c.push({click:"remove",icon:"trash",text:B["a"].i18n.translate("delete"),disabled:!u.delete}),r.abrupt("return",c);case 18:case"end":return r.stop()}}),r)})))()},preview:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.get(e.id(t),{select:"previewUrl"});case 2:return i=n.sent,n.abrupt("return",i.previewUrl);case 4:case"end":return n.stop()}}),n)})))()},search:function(e,n){var i=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e){r.next=2;break}return r.abrupt("return",t.post("pages/"+i.id(e)+"/children/search?select=id,title,hasChildren",n));case 2:return r.abrupt("return",t.post("site/children/search?select=id,title,hasChildren",n));case 3:case"end":return r.stop()}}),r)})))()},update:function(e,n){var i=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",t.patch("pages/"+i.id(e),n));case 1:case"end":return r.stop()}}),r)})))()},url:function(t,e){var n=null===t?"pages":"pages/"+t.replace(/\//g,"+");return e&&(n+="/"+e),n}}},P=(n("a15b"),n("b64b"),n("d3b7"),n("8a79"),n("2ca0"),function(t){return{running:0,request:function(e,n){var i=arguments,r=this;return Object(v["a"])(regeneratorRuntime.mark((function s(){var a,o,u,c,l,p;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=i.length>2&&void 0!==i[2]&&i[2],n=Object.assign(n||{},{credentials:"same-origin",cache:"no-store",headers:Object(x["a"])({"x-requested-with":"xmlhttprequest","content-type":"application/json"},n.headers)}),t.methodOverwrite&&"GET"!==n.method&&"POST"!==n.method&&(n.headers["x-http-method-override"]=n.method,n.method="POST"),n=t.onPrepare(n),o=e+"/"+JSON.stringify(n),t.onStart(o,a),r.running++,s.next=9,fetch([t.endpoint,e].join(t.endpoint.endsWith("/")||e.startsWith("/")?"":"/"),n);case 9:return u=s.sent,s.next=12,u.text();case 12:c=s.sent,s.prev=13,s.prev=14,l=JSON.parse(c),s.next=22;break;case 18:return s.prev=18,s.t0=s["catch"](14),t.onParserError(c),s.abrupt("return");case 22:if(!(u.status<200||u.status>299)){s.next=24;break}throw l;case 24:if(!l.status||"error"!==l.status){s.next=26;break}throw l;case 26:return p=l,l.data&&l.type&&"model"===l.type&&(p=l.data),r.running--,t.onComplete(o),t.onSuccess(l),s.abrupt("return",p);case 34:throw s.prev=34,s.t1=s["catch"](13),r.running--,t.onComplete(o),t.onError(s.t1),s.t1;case 40:case"end":return s.stop()}}),s,null,[[13,34],[14,18]])})))()},get:function(t,e,n){var i=arguments,r=this;return Object(v["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=i.length>3&&void 0!==i[3]&&i[3],e&&(t+="?"+Object.keys(e).filter((function(t){return void 0!==e[t]&&null!==e[t]})).map((function(t){return t+"="+e[t]})).join("&")),s.abrupt("return",r.request(t,Object.assign(n||{},{method:"GET"}),a));case 3:case"end":return s.stop()}}),s)})))()},post:function(t,e,n){var i=arguments,r=this;return Object(v["a"])(regeneratorRuntime.mark((function s(){var a,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=i.length>3&&void 0!==i[3]?i[3]:"POST",o=i.length>4&&void 0!==i[4]&&i[4],s.abrupt("return",r.request(t,Object.assign(n||{},{method:a,body:JSON.stringify(e)}),o));case 3:case"end":return s.stop()}}),s)})))()},patch:function(t,e,n){var i=arguments,r=this;return Object(v["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=i.length>3&&void 0!==i[3]&&i[3],s.abrupt("return",r.post(t,e,n,"PATCH",a));case 2:case"end":return s.stop()}}),s)})))()},delete:function(t,e,n){var i=arguments,r=this;return Object(v["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=i.length>3&&void 0!==i[3]&&i[3],s.abrupt("return",r.post(t,e,n,"DELETE",a));case 2:case"end":return s.stop()}}),s)})))()}}}),q=(n("a4d3"),n("e01a"),function(t){return{list:function(e){return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",t.get("roles",e));case 1:case"end":return n.stop()}}),n)})))()},get:function(e){return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",t.get("roles/"+e));case 1:case"end":return n.stop()}}),n)})))()},options:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.list(t);case 2:return i=n.sent,n.abrupt("return",i.data.map((function(t){return{info:t.description||"(".concat(B["a"].i18n.translate("role.description.placeholder"),")"),text:t.title,value:t.name}})));case 4:case"end":return n.stop()}}),n)})))()}}}),F=function(t){return{get:function(){var e=arguments;return Object(v["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=e.length>0&&void 0!==e[0]?e[0]:{view:"panel"},n.abrupt("return",t.get("system",i));case 2:case"end":return n.stop()}}),n)})))()},install:function(e){return Object(v["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.post("system/install",e);case 2:return i=n.sent,n.abrupt("return",i.user);case 4:case"end":return n.stop()}}),n)})))()},register:function(e){return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",t.post("system/register",e));case 1:case"end":return n.stop()}}),n)})))()}}},U=function(t){return{blueprint:function(){return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.get("site/blueprint"));case 1:case"end":return e.stop()}}),e)})))()},blueprints:function(){return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.get("site/blueprints"));case 1:case"end":return e.stop()}}),e)})))()},changeTitle:function(e){return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",t.patch("site/title",{title:e}));case 1:case"end":return n.stop()}}),n)})))()},children:function(e){return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",t.post("site/children/search",e));case 1:case"end":return n.stop()}}),n)})))()},get:function(){var e=arguments;return Object(v["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=e.length>0&&void 0!==e[0]?e[0]:{view:"panel"},n.abrupt("return",t.get("site",i));case 2:case"end":return n.stop()}}),n)})))()},options:function(){return Object(v["a"])(regeneratorRuntime.mark((function e(){var n,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.get("site",{select:"options"});case 2:return n=e.sent,i=n.options,r=[],r.push({click:"rename",icon:"title",text:B["a"].i18n.translate("rename"),disabled:!i.changeTitle}),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))()},update:function(e){return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",t.post("site",e));case 1:case"end":return n.stop()}}),n)})))()}}},z=function(t){return{list:function(){return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.get("translations"));case 1:case"end":return e.stop()}}),e)})))()},get:function(e){return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",t.get("translations/"+e));case 1:case"end":return n.stop()}}),n)})))()},options:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.list();case 2:return n=e.sent,i=n.data.map((function(t){return{value:t.id,text:t.name}})),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))()}}},H=function(t){return{blueprint:function(e){return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",t.get("users/"+e+"/blueprint"));case 1:case"end":return n.stop()}}),n)})))()},blueprints:function(e,n){return Object(v["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.abrupt("return",t.get("users/"+e+"/blueprints",{section:n}));case 1:case"end":return i.stop()}}),i)})))()},breadcrumb:function(t){return[{link:"/users/"+t.id,label:t.username}]},changeEmail:function(e,n){return Object(v["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.abrupt("return",t.patch("users/"+e+"/email",{email:n}));case 1:case"end":return i.stop()}}),i)})))()},changeLanguage:function(e,n){return Object(v["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.abrupt("return",t.patch("users/"+e+"/language",{language:n}));case 1:case"end":return i.stop()}}),i)})))()},changeName:function(e,n){return Object(v["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.abrupt("return",t.patch("users/"+e+"/name",{name:n}));case 1:case"end":return i.stop()}}),i)})))()},changePassword:function(e,n){return Object(v["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.abrupt("return",t.patch("users/"+e+"/password",{password:n}));case 1:case"end":return i.stop()}}),i)})))()},changeRole:function(e,n){return Object(v["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.abrupt("return",t.patch("users/"+e+"/role",{role:n}));case 1:case"end":return i.stop()}}),i)})))()},create:function(e){return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",t.post("users",e));case 1:case"end":return n.stop()}}),n)})))()},delete:function(e){return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",t.delete("users/"+e));case 1:case"end":return n.stop()}}),n)})))()},deleteAvatar:function(e){return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",t.delete("users/"+e+"/avatar"));case 1:case"end":return n.stop()}}),n)})))()},link:function(t,e){return"/"+this.url(t,e)},list:function(e){var n=this;return Object(v["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.abrupt("return",t.post(n.url(null,"search"),e));case 1:case"end":return i.stop()}}),i)})))()},get:function(e,n){return Object(v["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.abrupt("return",t.get("users/"+e,n));case 1:case"end":return i.stop()}}),i)})))()},options:function(e){var n=this;return Object(v["a"])(regeneratorRuntime.mark((function i(){var r,s,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.get(n.url(e),{select:"options"});case 2:return r=i.sent,s=r.options,a=[],a.push({click:"rename",icon:"title",text:B["a"].i18n.translate("user.changeName"),disabled:!s.changeName}),a.push({click:"email",icon:"email",text:B["a"].i18n.translate("user.changeEmail"),disabled:!s.changeEmail}),a.push({click:"role",icon:"bolt",text:B["a"].i18n.translate("user.changeRole"),disabled:!s.changeRole}),a.push({click:"password",icon:"key",text:B["a"].i18n.translate("user.changePassword"),disabled:!s.changePassword}),a.push({click:"language",icon:"globe",text:B["a"].i18n.translate("user.changeLanguage"),disabled:!s.changeLanguage}),a.push({click:"remove",icon:"trash",text:B["a"].i18n.translate("user.delete"),disabled:!s.delete}),i.abrupt("return",a);case 12:case"end":return i.stop()}}),i)})))()},roles:function(e){var n=this;return Object(v["a"])(regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.get(n.url(e,"roles"));case 2:return r=i.sent,i.abrupt("return",r.data.map((function(t){return{info:t.description||"(".concat(B["a"].i18n.translate("role.description.placeholder"),")"),text:t.title,value:t.name}})));case 4:case"end":return i.stop()}}),i)})))()},search:function(e){return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",t.post("users/search",e));case 1:case"end":return n.stop()}}),n)})))()},update:function(e,n){return Object(v["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.abrupt("return",t.patch("users/"+e,n));case 1:case"end":return i.stop()}}),i)})))()},url:function(t,e){var n=t?"users/"+t:"users";return e&&(n+="/"+e),n}}},K=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={endpoint:"/api",methodOverwrite:!0,onPrepare:function(t){return t},onStart:function(){},onComplete:function(){},onSuccess:function(){},onError:function(t){throw window.console.log(t.message),t}},n=Object(x["a"])(Object(x["a"])({},e),t.config||{}),i=Object(x["a"])(Object(x["a"])(Object(x["a"])({},n),P(n)),t);return i.auth=A(i),i.files=D(i),i.languages=M(i),i.pages=N(i),i.roles=q(i),i.system=F(i),i.site=U(i),i.translations=z(i),i.users=H(i),i.files.rename=i.files.changeName,i.pages.slug=i.pages.changeSlug,i.pages.status=i.pages.changeStatus,i.pages.template=i.pages.changeTemplate,i.pages.title=i.pages.changeTitle,i.site.title=i.site.changeTitle,i.system.info=i.system.get,i},Y={install:function(t,e){t.prototype.$api=t.$api=K({config:{endpoint:C.api,onComplete:function(n){t.$api.requests=t.$api.requests.filter((function(t){return t!==n})),0===t.$api.requests.length&&e.dispatch("isLoading",!1)},onError:function(t){C.debug&&window.console.error(t),403!==t.code||"Unauthenticated"!==t.message&&"access.panel"!==t.key||e.dispatch("user/logout",!0)},onParserError:function(t){throw e.dispatch("fatal",t),new Error("The JSON response from the API could not be parsed")},onPrepare:function(t){return e.state.languages.current&&(t.headers["x-language"]=e.state.languages.current.code),t.headers["x-csrf"]=window.panel.csrf,t},onStart:function(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!1===i&&e.dispatch("isLoading",!0),t.$api.requests.push(n)},onSuccess:function(){clearInterval(t.$api.ping),t.$api.ping=setInterval(t.$api.auth.user,3e5)}},ping:null,requests:[]}),t.$api.ping=setInterval(t.$api.auth.user,3e5)}},G={install:function(t){t.filter("t",(function(t){return t}))}},W=(n("caad"),{install:function(t){t.prototype.$events=new t({data:function(){return{entered:null}},created:function(){window.addEventListener("online",this.online),window.addEventListener("offline",this.offline),window.addEventListener("dragenter",this.dragenter,!1),window.addEventListener("dragover",this.prevent,!1),window.addEventListener("dragexit",this.prevent,!1),window.addEventListener("dragleave",this.dragleave,!1),window.addEventListener("drop",this.drop,!1),window.addEventListener("keydown",this.keydown,!1),window.addEventListener("keyup",this.keyup,!1),document.addEventListener("click",this.click,!1)},destroyed:function(){window.removeEventListener("online",this.online),window.removeEventListener("offline",this.offline),window.removeEventListener("dragenter",this.dragenter,!1),window.removeEventListener("dragover",this.prevent,!1),window.removeEventListener("dragexit",this.prevent,!1),window.removeEventListener("dragleave",this.dragleave,!1),window.removeEventListener("drop",this.drop,!1),window.removeEventListener("keydown",this.keydown,!1),window.removeEventListener("keyup",this.keyup,!1),document.removeEventListener("click",this.click,!1)},methods:{click:function(t){this.$emit("click",t)},drop:function(t){this.prevent(t),this.$emit("drop",t)},dragenter:function(t){this.entered=t.target,this.prevent(t),this.$emit("dragenter",t)},dragleave:function(t){this.prevent(t),this.entered===t.target&&this.$emit("dragleave",t)},keydown:function(t){var e=["keydown"];(t.metaKey||t.ctrlKey)&&e.push("cmd"),!0===t.altKey&&e.push("alt"),!0===t.shiftKey&&e.push("shift");var n=this.$helper.string.lcfirst(t.key),i={escape:"esc",arrowUp:"up",arrowDown:"down",arrowLeft:"left",arrowRight:"right"};i[n]&&(n=i[n]),!1===["alt","control","shift","meta"].includes(n)&&e.push(n),this.$emit(e.join("."),t),this.$emit("keydown",t)},keyup:function(t){this.$emit("keyup",t)},online:function(t){this.$emit("online",t)},offline:function(t){this.$emit("offline",t)},prevent:function(t){t.stopPropagation(),t.preventDefault()}}})}}),J=n("1dce"),V=n.n(J),Z=function(t){if(void 0!==t)return JSON.parse(JSON.stringify(t))},X=function(t,e){var n=null;return function(){var i=this,r=arguments;clearTimeout(n),n=setTimeout((function(){t.apply(i,r)}),e)}},Q=function(t){return void 0!==B["a"].options.components[t]},tt=(n("2532"),function(t){return!!t.dataTransfer&&(!!t.dataTransfer.types&&(!0===t.dataTransfer.types.includes("Files")&&!1===t.dataTransfer.types.includes("text/plain")))}),et=function(t,e){t=String(t);var n="";e=(e||2)-t.length;while(n.length<e)n+="0";return n+t},nt=(n("a9e3"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"3/2",e=String(t).split("/");if(2!==e.length)return"100%";var n=Number(e[0]),i=Number(e[1]),r=100;return 0!==n&&0!==i&&(r=100/n*i),r+"%"}),it=(n("4d63"),n("25f0"),n("498a"),n("86c7"),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i="-";return n="a-z0-9"+n,t=t.trim().toLowerCase(),e.forEach((function(e){e&&Object.keys(e).forEach((function(n){var i="/"!==n.substr(0,1),r=n.substring(1,n.length-1),s=i?n:r;t=t.replace(new RegExp(RegExp.escape(s),"g"),e[n])}))})),t=t.replace("/[^\t\n\r -~]/",""),t=t.replace(new RegExp("[^"+n+"]","ig"),i),t=t.replace(new RegExp("["+RegExp.escape(i)+"]{2,}","g"),i),t=t.replace("/",i),t=t.replace(new RegExp("^[^"+n+"]+","g"),""),t=t.replace(new RegExp("[^"+n+"]+$","g"),""),t}),rt=(n("466d"),function(t){t=t||{};var e=t.desc?-1:1,n=-e,i=/^0/,r=/\s+/g,s=/^\s+|\s+$/g,a=/[^\x00-\x80]/,o=/^0x[0-9a-f]+$/i,u=/(0x[\da-fA-F]+|(^[\+\-]?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?(?=\D|\s|$))|\d+)/g,c=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=t.insensitive?function(t){return p(""+t).replace(s,"")}:function(t){return(""+t).replace(s,"")};function p(t){return t.toLocaleLowerCase?t.toLocaleLowerCase():t.toLowerCase()}function d(t){return t.replace(u,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0")}function f(t,e){return(!t.match(i)||1===e)&&parseFloat(t)||t.replace(r," ").replace(s,"")||0}return function(t,i){var r=l(t),s=l(i);if(!r&&!s)return 0;if(!r&&s)return n;if(r&&!s)return e;var u=d(r),p=d(s),h=parseInt(r.match(o),16)||1!==u.length&&Date.parse(r),m=parseInt(s.match(o),16)||h&&s.match(c)&&Date.parse(s)||null;if(m){if(h<m)return n;if(h>m)return e}for(var g=u.length,b=p.length,v=0,k=Math.max(g,b);v<k;v++){var $=f(u[v]||"",g),y=f(p[v]||"",b);if(isNaN($)!==isNaN(y))return isNaN($)?e:n;if(a.test($+y)&&$.localeCompare){var w=$.localeCompare(y);if(w>0)return e;if(w<0)return n;if(v===k-1)return 0}else{if($<y)return n;if($>y)return e}}return 0}}),st={camelToKebab:function(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()},hasEmoji:function(t){if("string"!==typeof t)return!1;var e=t.match(/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c\ude32-\ude3a]|[\ud83c\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/i);return null!==e&&null!==e.length},lcfirst:function(t){var e=String(t);return e.charAt(0).toLowerCase()+e.substr(1)},random:function(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length,r=0;r<t;r++)e+=n.charAt(Math.floor(Math.random()*i));return e},template:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="{{[ ]{0,}",i="[ ]{0,}}}";return Object.keys(e).forEach((function(r){t=t.replace(new RegExp("".concat(n).concat(r).concat(i),"gi"),e[r]||"…"),!0===Array.isArray(e[r])&&(t=t.replace(new RegExp("".concat(n).concat(r,".count").concat(i,"|").concat(n).concat(r,".length").concat(i),"gi"),e[r].length||0))})),t.replace(/{{.*}}/gi,"…")},ucfirst:function(t){var e=String(t);return e.charAt(0).toUpperCase()+e.substr(1)},ucwords:function(t){var e=String(t);return e.split(/ /g).map((function(t){return"".concat(t.substring(0,1).toUpperCase()).concat(t.substring(1))})).join(" ")}},at=function(t,e){var n={url:"/",field:"file",method:"POST",accept:"text",attributes:{},complete:function(){},error:function(){},success:function(){},progress:function(){}},i=Object.assign(n,e),r=new FormData;r.append(i.field,t,t.name),i.attributes&&Object.keys(i.attributes).forEach((function(t){r.append(t,i.attributes[t])}));var s=new XMLHttpRequest,a=function(e){if(e.lengthComputable&&i.progress){var n=Math.max(0,Math.min(100,e.loaded/e.total*100));i.progress(s,t,Math.ceil(n))}};s.upload.addEventListener("loadstart",a),s.upload.addEventListener("progress",a),s.addEventListener("load",(function(e){var n=null;try{n=JSON.parse(e.target.response)}catch(r){n={status:"error",message:"The file could not be uploaded"}}n.status&&"error"===n.status?i.error(s,t,n):(i.success(s,t,n),i.progress(s,t,100))})),s.addEventListener("error",(function(e){var n=JSON.parse(e.target.response);i.error(s,t,n),i.progress(s,t,100)})),s.open("POST",i.url,!0),i.headers&&Object.keys(i.headers).forEach((function(t){var e=i.headers[t];s.setRequestHeader(t,e)})),s.send(r)},ot=function(){var t,e,n="";for(t=0;t<32;t++)e=16*Math.random()|0,8!=t&&12!=t&&16!=t&&20!=t||(n+="-"),n+=(12==t?4:16==t?3&e|8:e).toString(16);return n},ut={datetime:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"day";return e=t.$library.dayjs.utc(e),n?!e||!e.isValid()||(n=t.$library.dayjs.utc(n),e.isSame(n,r)||e[i](n,r)):e&&e.isValid()}},ct={install:function(t){Array.prototype.sortBy=function(e){var n=t.prototype.$helper.sort(),i=e.split(" "),r=i[0],s=i[1]||"asc";return this.sort((function(t,e){var i=String(t[r]).toLowerCase(),a=String(e[r]).toLowerCase();return"desc"===s?n(a,i):n(i,a)}))},t.prototype.$helper={clone:Z,isComponent:Q,isUploadEvent:tt,debounce:X,pad:et,ratio:nt,slug:it,sort:rt,string:st,upload:at,uuid:ot,validate:ut}}},lt=(n("64e4"),{}),pt=Object(f["a"])(lt,i,r,!1,null,null,null),dt=(pt.exports,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-overlay",{ref:"overlay",attrs:{autofocus:t.autofocus,centered:!0},on:{ready:function(e){return t.$emit("ready")}}},[n("div",{ref:"dialog",staticClass:"k-dialog",class:t.$vnode.data.staticClass,attrs:{"data-size":t.size},on:{mousedown:function(t){t.stopPropagation()}}},[t.notification?n("div",{staticClass:"k-dialog-notification",attrs:{"data-theme":t.notification.type}},[n("p",[t._v(t._s(t.notification.message))]),n("k-button",{attrs:{icon:"cancel"},on:{click:function(e){t.notification=null}}})],1):t._e(),n("div",{staticClass:"k-dialog-body"},[t._t("default")],2),t.$slots["footer"]||t.cancelButton||t.submitButton?n("footer",{staticClass:"k-dialog-footer"},[t._t("footer",[n("k-button-group",[n("span",[t.cancelButton?n("k-button",{staticClass:"k-dialog-button-cancel",attrs:{icon:"cancel"},on:{click:t.cancel}},[t._v("\n              "+t._s(t.cancelButtonLabel)+"\n            ")]):t._e()],1),n("span",[t.submitButtonConfig?n("k-button",{staticClass:"k-dialog-button-submit",attrs:{icon:t.icon,theme:t.theme},on:{click:t.submit}},[t._v("\n              "+t._s(t.submitButtonLabel)+"\n            ")]):t._e()],1)])])],2):t._e()])])}),ft=[],ht={props:{autofocus:{type:Boolean,default:!0},cancelButton:{type:[String,Boolean],default:!0},icon:{type:String,default:"check"},size:{type:String,default:"default"},submitButton:{type:[String,Boolean],default:!0},theme:String,visible:Boolean},data:function(){return{notification:null}},computed:{cancelButtonLabel:function(){return!1!==this.cancelButton&&(!0===this.cancelButton||0===this.cancelButton.length?this.$t("cancel"):this.cancelButton)},submitButtonConfig:function(){return void 0!==this.$attrs["button"]?this.$attrs["button"]:void 0===this.submitButton||this.submitButton},submitButtonLabel:function(){return!0===this.submitButton||0===this.submitButton.length?this.$t("confirm"):this.submitButton}},created:function(){this.$events.$on("keydown.esc",this.close,!1)},destroyed:function(){this.$events.$off("keydown.esc",this.close,!1)},mounted:function(){this.visible&&this.$nextTick(this.open)},methods:{open:function(){this.$store.dispatch("dialog",!0),this.notification=null,this.$refs.overlay.open(),this.$emit("open"),this.$events.$on("keydown.esc",this.close)},close:function(){this.notification=null,this.$refs.overlay&&this.$refs.overlay.close(),this.$emit("close"),this.$events.$off("keydown.esc",this.close),this.$store.dispatch("dialog",!1)},cancel:function(){this.$emit("cancel"),this.close()},focus:function(){if(this.$refs.dialog&&this.$refs.dialog.querySelector){var t=this.$refs.dialog.querySelector(".k-dialog-button-cancel");t&&"function"===typeof t.focus&&t.focus()}},error:function(t){this.notification={message:t,type:"error"}},submit:function(){this.$emit("submit")},success:function(t){this.notification={message:t,type:"success"}}}},mt=ht,gt=(n("a5f3"),Object(f["a"])(mt,dt,ft,!1,null,null,null)),bt=gt.exports,vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.notification?n("k-dialog",{ref:"dialog",staticClass:"k-error-dialog",attrs:{"cancel-button":!1,visible:!0},on:{close:t.exit,submit:function(e){return t.$refs.dialog.close()}}},[n("k-text",[t._v(t._s(t.notification.message))]),t.notification.details&&Object.keys(t.notification.details).length?n("dl",{staticClass:"k-error-details"},[t._l(t.notification.details,(function(e,i){return[n("dt",{key:"detail-label-"+i},[t._v(t._s(e.label))]),n("dd",{key:"detail-message-"+i},["object"===typeof e.message?[n("ul",t._l(e.message,(function(e,i){return n("li",{key:i},[t._v("\n              "+t._s(e)+"\n            ")])})),0)]:[t._v("\n          "+t._s(e.message)+"\n        ")]],2)]}))],2):t._e()],1):t._e()},kt=[],$t={mixins:[k],computed:{notification:function(){var t=this.$store.state.notification;return"error"===t.type?t:null}},methods:{enter:function(){var t=this;this.$nextTick((function(){t.$el&&t.$el.querySelector&&t.$el.querySelector(".k-dialog-footer .k-button").focus()}))},exit:function(){this.$store.dispatch("notification/close")}}},yt=$t,wt=(n("7737"),Object(f["a"])(yt,vt,kt,!1,null,null,null)),_t=wt.exports,xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-remove-dialog",{ref:"dialog",attrs:{text:t.$t("file.delete.confirm",{filename:t.filename})},on:{submit:t.submit}})},Ot=[],jt={mixins:[k],data:function(){return{id:null,parent:null,filename:null}},methods:{open:function(t,e){var n=this;return Object(v["a"])(regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,n.$api.files.get(t,e);case 3:r=i.sent,n.id=r.id,n.filename=r.filename,n.parent=t,n.$refs.dialog.open(),i.next=13;break;case 10:i.prev=10,i.t0=i["catch"](0),n.$store.dispatch("notification/error",i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,10]])})))()},submit:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.files.delete(t.parent,t.filename);case 3:t.$store.dispatch("content/remove","files/"+t.id),t.$store.dispatch("notification/success",":)"),t.$events.$emit("file.delete",t.id),t.$emit("success"),t.$refs.dialog.close(),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),t.$refs.dialog.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}}},Ct=jt,St=Object(f["a"])(Ct,xt,Ot,!1,null,null,null),Et=St.exports,Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("rename")},on:{input:function(e){t.file.name=t.sluggify(t.file.name)},submit:t.submit},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})},Tt=[],Lt={mixins:[k],data:function(){return{parent:null,file:{id:null,name:null,filename:null,extension:null}}},computed:{fields:function(){return{name:{label:this.$t("name"),type:"text",required:!0,icon:"title",after:"."+this.file.extension,preselect:!0}}},slugs:function(){return this.$store.state.languages.default?this.$store.state.languages.default.rules:this.system.slugs},system:function(){return this.$store.state.system.info}},methods:{open:function(t,e){var n=this;return Object(v["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,n.$api.files.get(t,e,{select:["id","filename","name","extension"]});case 3:n.file=i.sent,n.parent=t,n.$refs.dialog.open(),i.next=11;break;case 8:i.prev=8,i.t0=i["catch"](0),n.$store.dispatch("notification/error",i.t0);case 11:case"end":return i.stop()}}),i,null,[[0,8]])})))()},sluggify:function(t){return this.$helper.slug(t,[this.slugs,this.system.ascii],"@._-")},submit:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.file.name=t.file.name.trim(),0!==t.file.name.length){e.next=4;break}return t.$refs.dialog.error(t.$t("error.file.changeName.empty")),e.abrupt("return");case 4:return e.prev=4,e.next=7,t.$api.files.changeName(t.parent,t.file.filename,t.file.name);case 7:n=e.sent,t.$store.dispatch("content/move",["files/"+t.file.id,"files/"+n.id]),t.$store.dispatch("notification/success",":)"),t.$emit("success",n),t.$events.$emit("file.changeName",n),t.$refs.dialog.close(),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](4),t.$refs.dialog.error(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[4,15]])})))()}}},It=Lt,At=Object(f["a"])(It,Rt,Tt,!1,null,null,null),Bt=At.exports,Dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("change")},on:{submit:t.submit},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}})},Mt=[],Nt=(n("c740"),n("a434"),{mixins:[k],data:function(){return{file:{id:null},form:{position:null},siblings:[],api:null}},computed:{fields:function(){return{position:{name:"position",label:this.$t("file.sort"),type:"select",empty:!1,options:this.sortingOptions}}},sortingOptions:function(){var t=this,e=[],n=0;return this.siblings.forEach((function(i){if(i.id===t.file.id||i.num<1)return!1;n++,e.push({value:n,text:n}),e.push({value:i.id,text:i.filename,disabled:!0})})),e.push({value:n+1,text:n+1}),e}},methods:{open:function(t,e,n){var i=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,i.file=e,r.next=4,i.$api.post(t+"/files/search");case 4:s=r.sent,i.siblings=s.data,i.form.position=i.siblings.findIndex((function(t){return t.id===e.id}))+1,i.api=n,i.$refs.dialog.open(),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](0),i.$store.dispatch("notification/error",r.t0);case 14:case"end":return r.stop()}}),r,null,[[0,11]])})))()},submit:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var n,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=t.siblings.findIndex((function(e){return e.id===t.file.id})),i=t.form.position-1,r=t.$helper.clone(t.siblings),r.splice(n,1),r.splice(i,0,t.file),e.next=8,t.$api.patch(t.api+"/files/sort",{files:r.map((function(t){return t.id})),index:0});case 8:t.success({message:":)",event:"file.sort"}),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),t.$refs.dialog.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}}}),Pt=Nt,qt=Object(f["a"])(Pt,Dt,Mt,!1,null,null,null),Ft=qt.exports,Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dialog",{ref:"dialog",staticClass:"k-files-dialog",attrs:{size:"medium"},on:{cancel:function(e){return t.$emit("cancel")},submit:t.submit}},[t.issue?[n("k-box",{attrs:{text:t.issue,theme:"negative"}})]:[t.options.search?n("k-input",{staticClass:"k-dialog-search",attrs:{autofocus:!0,placeholder:t.$t("search")+" …",type:"text",icon:"search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}):t._e(),t.models.length?[n("k-list",t._l(t.models,(function(e){return n("k-list-item",{key:e.id,attrs:{text:e.text,info:e.info,image:e.image,icon:e.icon},on:{click:function(n){return t.toggle(e)}}},[t.isSelected(e)?n("k-button",{attrs:{slot:"options",autofocus:!0,icon:t.checkedIcon,tooltip:t.$t("remove"),theme:"positive"},slot:"options"}):n("k-button",{attrs:{slot:"options",autofocus:!0,tooltip:t.$t("select"),icon:"circle-outline"},slot:"options"})],1)})),1),n("k-pagination",t._b({staticClass:"k-dialog-pagination",attrs:{details:!0,dropdown:!1,align:"center"},on:{paginate:t.paginate}},"k-pagination",t.pagination,!1))]:n("k-empty",{attrs:{icon:"image"}},[t._v("\n      "+t._s(t.$t("dialog.files.empty"))+"\n    ")])]],2)},zt=[],Ht=(n("07ac"),{data:function(){return{models:[],issue:null,selected:{},options:{endpoint:null,max:null,multiple:!0,parent:null,selected:[],search:!0},search:null,pagination:{limit:20,page:1,total:0}}},computed:{multiple:function(){return!0===this.options.multiple&&1!==this.options.max},checkedIcon:function(){return!0===this.multiple?"check":"circle-filled"}},watch:{search:X((function(){this.pagination.page=0,this.fetch()}),200)},methods:{fetch:function(){var t=this,e=Object(x["a"])({page:this.pagination.page,search:this.search},this.fetchData||{});return this.$api.get(this.options.endpoint,e).then((function(e){t.models=e.data,t.pagination=e.pagination,t.onFetched&&t.onFetched(e)})).catch((function(e){t.models=[],t.issue=e.message}))},open:function(t,e){var n=this;this.pagination.page=0,this.search=null;var i=!0;Array.isArray(t)?(this.models=t,i=!1):(this.models=[],e=t),this.options=Object(x["a"])(Object(x["a"])({},this.options),e),this.selected={},this.options.selected.forEach((function(t){n.$set(n.selected,t,{id:t})})),i?this.fetch().then((function(){n.$refs.dialog.open()})):this.$refs.dialog.open()},paginate:function(t){this.pagination.page=t.page,this.pagination.limit=t.limit,this.fetch()},submit:function(){this.$emit("submit",Object.values(this.selected)),this.$refs.dialog.close()},isSelected:function(t){return void 0!==this.selected[t.id]},toggle:function(t){!1!==this.options.multiple&&1!==this.options.max||(this.selected={}),!0!==this.isSelected(t)?this.options.max&&this.options.max<=Object.keys(this.selected).length||this.$set(this.selected,t.id,t):this.$delete(this.selected,t.id)}}}),Kt={mixins:[Ht]},Yt=Kt,Gt=(n("bf53"),Object(f["a"])(Yt,Ut,zt,!1,null,null,null)),Wt=Gt.exports,Jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dialog",t._g(t._b({ref:"dialog"},"k-dialog",t.$props,!1),t.$listeners),[n("k-form",{ref:"form",attrs:{fields:t.fields,novalidate:t.novalidate},on:{input:function(e){return t.$emit("input",e)},submit:function(e){return t.$emit("submit",e)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},Vt=[],Zt={mixins:[k],props:{fields:{type:[Array,Object],default:function(){return[]}},novalidate:{type:Boolean,default:!0},size:{type:String,default:"medium"},submitButton:{type:[String,Boolean],default:function(){return this.$t("save")}},theme:{type:String,default:"positive"},value:{type:Object,default:function(){return{}}}}},Xt=Zt,Qt=Object(f["a"])(Xt,Jt,Vt,!1,null,null,null),te=Qt.exports,ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("language.create")},on:{submit:t.submit},model:{value:t.language,callback:function(e){t.language=e},expression:"language"}})},ne=[],ie={mixins:[k],data:function(){return{language:{name:"",code:"",direction:"ltr",locale:""}}},computed:{fields:function(){return{name:{label:this.$t("language.name"),type:"text",required:!0,icon:"title"},code:{label:this.$t("language.code"),type:"text",required:!0,counter:!1,icon:"globe",width:"1/2"},direction:{label:this.$t("language.direction"),type:"select",required:!0,empty:!1,options:[{value:"ltr",text:this.$t("language.direction.ltr")},{value:"rtl",text:this.$t("language.direction.rtl")}],width:"1/2"},locale:{label:this.$t("language.locale"),type:"text",placeholder:"en_US"}}},system:function(){return this.$store.state.system.info}},watch:{"language.name":function(t){this.onNameChanges(t)},"language.code":function(t){this.language.code=this.$helper.slug(t,[this.system.ascii])}},methods:{onNameChanges:function(t){this.language.code=this.$helper.slug(t,[this.language.rules,this.system.ascii]).substr(0,2)},open:function(){this.language={name:"",code:"",direction:"ltr"},this.$refs.dialog.open()},submit:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.language.locale&&(t.language.locale=t.language.locale.trim()||null),e.prev=1,e.next=4,t.$api.languages.create({name:t.language.name,code:t.language.code,direction:t.language.direction,locale:t.language.locale});case 4:t.$store.dispatch("languages/load"),t.success({message:":)",event:"language.create"}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),t.$refs.dialog.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()}}},re=ie,se=Object(f["a"])(re,ee,ne,!1,null,null,null),ae=se.exports,oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-remove-dialog",{ref:"dialog",attrs:{text:t.$t("language.delete.confirm",{name:t.language.name})},on:{submit:t.submit}})},ue=[],ce={mixins:[k],data:function(){return{language:{name:null}}},methods:{open:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.languages.get(t);case 3:e.language=n.sent,e.$refs.dialog.open(),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),e.$store.dispatch("notification/error",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},submit:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.languages.delete(t.language.code);case 3:t.$store.dispatch("languages/load"),t.success({message:t.$t("language.deleted"),event:"language.delete"}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.$refs.dialog.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},le=ce,pe=Object(f["a"])(le,oe,ue,!1,null,null,null),de=pe.exports,fe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,size:"medium"},on:{submit:t.submit},model:{value:t.language,callback:function(e){t.language=e},expression:"language"}})},he=[],me=n("53ca"),ge={mixins:[ae],computed:{fields:function(){var t=ae.computed.fields.apply(this);return t.code.disabled=!0,"object"===Object(me["a"])(this.language.locale)&&(t.locale={label:t.locale.label,type:"info",text:this.$t("language.locale.warning")}),t}},methods:{onNameChanges:function(){return!1},open:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.languages.get(t);case 3:e.language=n.sent,i=Object.keys(e.language.locale),1===i.length&&(e.language.locale=e.language.locale[i[0]]),e.$refs.dialog.open(),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),e.$store.dispatch("notification/error",n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},submit:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.language.name.length){e.next=2;break}return e.abrupt("return",t.$refs.dialog.error(t.$t("error.language.name")));case 2:return"string"===typeof t.language.locale&&(t.language.locale=t.language.locale.trim()||null),e.prev=3,e.next=6,t.$api.languages.update(t.language.code,{name:t.language.name,direction:t.language.direction,locale:t.language.locale});case 6:t.$store.dispatch("languages/load"),t.success({message:t.$t("language.updated"),event:"language.update"}),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),t.$refs.dialog.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))()}}},be=ge,ve=Object(f["a"])(be,fe,he,!1,null,null,null),ke=ve.exports,$e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("page.draft.create")},on:{submit:t.submit,close:t.reset},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})},ye=[],we={mixins:[k],data:function(){return{parent:null,section:null,templates:[],page:this.emptyForm()}},computed:{fields:function(){var t={title:{label:this.$t("title"),type:"text",required:!0,icon:"title"},slug:{label:this.$t("slug"),type:"text",required:!0,counter:!1,icon:"url"}};return(this.templates.length>1||C.debug)&&(t.template={name:"template",label:this.$t("template"),type:"select",disabled:1===this.templates.length,required:!0,icon:"code",empty:!1,options:this.templates}),t},slugs:function(){return this.$store.state.languages.default?this.$store.state.languages.default.rules:this.system.slugs},system:function(){return this.$store.state.system.info}},watch:{"page.title":function(t){this.page.slug=this.$helper.slug(t,[this.slugs,this.system.ascii])}},methods:{emptyForm:function(){return{title:"",slug:"",template:null}},open:function(t,e,n){var i=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i.parent=t,i.section=n,r.prev=2,r.next=5,i.$api.get(e,{section:n});case 5:s=r.sent,i.templates=s.map((function(t){return{value:t.name,text:t.title}})),i.templates[0]&&(i.page.template=i.templates[0].value),i.$refs.dialog.open(),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](2),i.$store.dispatch("notification/error",r.t0);case 14:case"end":return r.stop()}}),r,null,[[2,11]])})))()},submit:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.page.title=t.page.title.trim(),0!==t.page.title.length){e.next=4;break}return t.$refs.dialog.error(t.$t("error.page.changeTitle.empty")),e.abrupt("return");case 4:return n={template:t.page.template,slug:t.page.slug,content:{title:t.page.title}},e.prev=5,e.next=8,t.$api.post(t.parent+"/children",n);case 8:i=e.sent,t.success({route:t.$api.pages.link(i.id),message:":)",event:"page.create"}),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](5),t.$refs.dialog.error(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))()},reset:function(){this.page=this.emptyForm()}}},_e=we,xe=Object(f["a"])(_e,$e,ye,!1,null,null,null),Oe=xe.exports,je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("duplicate")},on:{submit:t.submit},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})},Ce=[],Se={mixins:[k],data:function(){return{page:{children:!1,files:!1,hasChildren:!1,hasDrafts:!1,hasFiles:!1,id:null,slug:""}}},computed:{fields:function(){var t=this.page.hasChildren||this.page.hasDrafts,e=this.page.hasFiles,n={slug:{label:this.$t("slug"),type:"text",required:!0,counter:!1,spellcheck:!1,icon:"url"}};return e&&(n.files={label:this.$t("page.duplicate.files"),type:"toggle",required:!0,width:t?"1/2":null}),t&&(n.children={label:this.$t("page.duplicate.pages"),type:"toggle",required:!0,width:e?"1/2":null}),n},slugs:function(){return this.$store.state.languages.default?this.$store.state.languages.default.rules:this.system.slugs},system:function(){return this.$store.state.system.info}},watch:{"page.slug":function(t){this.page.slug=this.$helper.slug(t,[this.slugs,this.system.ascii])}},methods:{open:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.pages.get(t,{language:"@default",select:"id,slug,hasChildren,hasDrafts,hasFiles,title"});case 3:i=n.sent,e.page.id=i.id,e.page.slug=i.slug+"-"+e.$helper.slug(e.$t("page.duplicate.appendix")),e.page.hasChildren=i.hasChildren,e.page.hasDrafts=i.hasDrafts,e.page.hasFiles=i.hasFiles,e.$refs.dialog.open(),n.next=15;break;case 12:n.prev=12,n.t0=n["catch"](0),e.$store.dispatch("notification/error",n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})))()},submit:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.pages.duplicate(t.page.id,t.page.slug,{children:t.page.children,files:t.page.files});case 3:n=e.sent,t.success({route:t.$api.pages.link(n.id),message:":)",event:"page.duplicate"}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.$refs.dialog.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},Ee=Se,Re=Object(f["a"])(Ee,je,Ce,!1,null,null,null),Te=Re.exports,Le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-remove-dialog",{ref:"dialog",attrs:{size:t.hasSubpages?"medium":"small"},on:{submit:t.submit,close:t.reset}},[t.page.hasChildren||t.page.hasDrafts?[n("k-text",{domProps:{innerHTML:t._s(t.$t("page.delete.confirm",{title:t.page.title}))}}),n("div",{staticClass:"k-page-remove-warning"},[n("k-box",{attrs:{theme:"negative"},domProps:{innerHTML:t._s(t.$t("page.delete.confirm.subpages"))}})],1),t.hasSubpages?n("k-form",{attrs:{fields:t.fields},on:{submit:t.submit},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}}):t._e()]:[n("k-text",{domProps:{innerHTML:t._s(t.$t("page.delete.confirm",{title:t.page.title}))},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}}})]],2)},Ie=[],Ae={mixins:[k],data:function(){return{page:{title:null,hasChildren:!1,hasDrafts:!1},model:this.emptyForm()}},computed:{hasSubpages:function(){return this.page.hasChildren||this.page.hasDrafts},fields:function(){return{check:{label:this.$t("page.delete.confirm.title"),type:"text",counter:!1}}}},methods:{emptyForm:function(){return{check:null}},open:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.pages.get(t,{select:"id, title, hasChildren, hasDrafts, parent"});case 3:e.page=n.sent,e.$refs.dialog.open(),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),e.$store.dispatch("notification/error",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},submit:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.hasSubpages||t.model.check===t.page.title){e.next=2;break}return e.abrupt("return",t.$refs.dialog.error(t.$t("error.page.delete.confirm")));case 2:return e.prev=2,e.next=5,t.$api.pages.delete(t.page.id,{force:!0});case 5:t.$store.dispatch("content/remove","pages/"+t.page.id),n={message:":)",event:"page.delete"},t.$route.params.path&&t.page.id===t.$route.params.path.replace(/\+/g,"/")&&(t.page.parent?n.route=t.$api.pages.link(t.page.parent.id):n.route="/pages"),t.success(n),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),t.$refs.dialog.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))()},reset:function(){this.model=this.emptyForm()}}},Be=Ae,De=(n("12fb"),Object(f["a"])(Be,Le,Ie,!1,null,null,null)),Me=De.exports,Ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dialog",{ref:"dialog",staticClass:"k-page-rename-dialog",attrs:{autofocus:!1,"submit-button":t.$t("change"),size:"medium",theme:"positive"},on:{ready:t.onReady,submit:function(e){return t.$refs.form.submit()}}},[n("k-form",{ref:"form",on:{submit:t.submit}},[n("k-text-field",t._b({ref:"title",model:{value:t.title,callback:function(e){t.title=e},expression:"title"}},"k-text-field",t.fields.title,!1)),n("k-text-field",t._b({ref:"slug",attrs:{value:t.slug},on:{input:function(e){return t.sluggify(e)}}},"k-text-field",t.fields.slug,!1),[n("k-button",{attrs:{slot:"options",disabled:t.fields.slug.disabled,icon:"wand"},on:{click:function(e){return t.sluggify(t.title)}},slot:"options"},[t._v("\n        "+t._s(t.$t("page.changeSlug.fromTitle"))+"\n      ")])],1)],1)],1)},Pe=[],qe={mixins:[k],data:function(){return{page:{id:null,parent:null,title:null},permissions:{},select:"title",slug:null,title:null,url:null}},computed:{fields:function(){return{title:{label:this.$t("title"),type:"text",required:!0,icon:"title",disabled:!1===this.permissions.changeTitle},slug:{name:"slug",label:this.$t("slug"),type:"text",required:!0,icon:"url",help:"/"+this.url,counter:!1,disabled:!1===this.permissions.changeSlug}}},slugs:function(){return this.$store.state.languages.current?this.$store.state.languages.current.rules:this.system.slugs},system:function(){return this.$store.state.system.info}},methods:{onReady:function(){this.$refs[this.select]&&this.$refs[this.select].select()},open:function(t,e){var n=arguments,i=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=n.length>2&&void 0!==n[2]?n[2]:"title",r.prev=1,r.next=4,i.$api.pages.get(t,{view:"panel"});case 4:i.page=r.sent,i.select=s,i.title=i.page.title,i.sluggify(i.page.slug),i.permissions=e,i.$refs.dialog.open(),r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](1),i.$store.dispatch("notification/error",r.t0);case 15:case"end":return r.stop()}}),r,null,[[1,12]])})))()},sluggify:function(t){t=t.trim(),this.slug=this.$helper.slug(t,[this.slugs,this.system.ascii]),this.page.parents?this.url=this.page.parents.map((function(t){return t.slug})).concat([this.slug]).join("/"):this.url=this.slug},submit:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.title=t.title.trim(),t.title!==t.page.title||t.slug!==t.page.slug){e.next=5;break}return t.$refs.dialog.close(),t.$store.dispatch("notification/success",":)"),e.abrupt("return");case 5:if(0!==t.title.length){e.next=7;break}return e.abrupt("return",t.$refs.dialog.error(t.$t("error.page.changeTitle.empty")));case 7:if(0!==t.slug.length){e.next=9;break}return e.abrupt("return",t.$refs.dialog.error(t.$t("error.page.slug.invalid")));case 9:if(e.prev=9,n={message:":)",event:[]},t.title===t.page.title){e.next=15;break}return e.next=14,t.$api.pages.changeTitle(t.page.id,t.title);case 14:n.event.push("page.changeTitle");case 15:if(t.slug===t.page.slug){e.next=22;break}return e.next=18,t.$api.pages.changeSlug(t.page.id,t.slug);case 18:i=e.sent,t.$store.dispatch("content/move",["pages/"+t.page.id,"pages/"+i.id]),n.event.push("page.changeSlug"),!t.$route.params.path||t.page.id!==t.$route.params.path.replace(/\+/g,"/")||t.$store.state.languages.current&&!0!==t.$store.state.languages.current.default||(n.route=t.$api.pages.link(i.id),n.emit=!1,delete n.event);case 22:t.success(n),e.next=28;break;case 25:e.prev=25,e.t0=e["catch"](9),t.$refs.dialog.error(e.t0.message);case 28:case"end":return e.stop()}}),e,null,[[9,25]])})))()}}},Fe=qe,Ue=(n("5f52"),Object(f["a"])(Fe,Ne,Pe,!1,null,null,null)),ze=Ue.exports,He=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("change")},on:{submit:t.submit},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}})},Ke=[],Ye={mixins:[k],data:function(){return{page:{id:null,siblings:[]},isBlocked:!1,isIncomplete:!1,form:{status:null,position:null},states:{}}},computed:{fields:function(){var t=this,e={status:{name:"status",label:this.$t("page.changeStatus.select"),type:"radio",required:!0,options:Object.keys(this.states).map((function(e){return{value:e,text:t.states[e].label,info:t.states[e].text}}))}};return"listed"===this.form.status&&"default"===this.page.blueprint.num&&(e.position={name:"position",label:this.$t("page.changeStatus.position"),type:"select",empty:!1,options:this.sortingOptions}),e},sortingOptions:function(){var t=this,e=[],n=0;return this.page.siblings.forEach((function(i){if(i.id===t.page.id||i.num<1)return!1;n++,e.push({value:n,text:n}),e.push({value:i.id,text:i.title,disabled:!0})})),e.push({value:n+1,text:n+1}),e}},methods:{open:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.pages.get(t,{select:["id","status","num","errors","blueprint"]});case 3:if(i=n.sent,!1!==i.blueprint.options.changeStatus){n.next=6;break}return n.abrupt("return",e.$store.dispatch("notification/error",{message:e.$t("error.page.changeStatus.permission")}));case 6:if(!("draft"===i.status&&Object.keys(i.errors).length>0)){n.next=8;break}return n.abrupt("return",e.$store.dispatch("notification/error",{message:e.$t("error.page.changeStatus.incomplete"),details:i.errors}));case 8:if("default"!==i.blueprint.num){n.next=21;break}return n.prev=9,n.next=12,e.$api.pages.get(t,{select:["siblings"]});case 12:r=n.sent,e.setup(Object(x["a"])(Object(x["a"])({},i),{},{siblings:r.siblings})),n.next=19;break;case 16:n.prev=16,n.t0=n["catch"](9),e.$store.dispatch("notification/error",n.t0);case 19:n.next=22;break;case 21:e.setup(Object(x["a"])(Object(x["a"])({},i),{},{siblings:[]}));case 22:n.next=27;break;case 24:n.prev=24,n.t1=n["catch"](0),e.$store.dispatch("notification/error",n.t1);case 27:case"end":return n.stop()}}),n,null,[[0,24],[9,16]])})))()},setup:function(t){this.page=t,this.form.position=t.num||t.siblings.length+1,this.form.status=t.status,this.states=t.blueprint.status,this.$refs.dialog.open()},submit:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.pages.changeStatus(t.page.id,t.form.status,t.form.position||1);case 3:t.success({message:":)",event:"page.changeStatus"}),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),t.$refs.dialog.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()}}},Ge=Ye,We=Object(f["a"])(Ge,He,Ke,!1,null,null,null),Je=We.exports,Ve={extends:Je,computed:{fields:function(){return{position:{name:"position",label:this.$t("page.changeStatus.position"),type:"select",empty:!1,options:this.sortingOptions}}}},methods:{open:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.pages.get(t,{select:["id","status","num","errors","blueprint","siblings"]});case 3:i=n.sent,e.setup(i),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),e.$store.dispatch("notification/error",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},submit:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.pages.status(t.page.id,"listed",t.form.position||1);case 3:t.success({message:":)",event:"page.sort"}),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),t.$refs.dialog.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()}}},Ze=Ve,Xe=Object(f["a"])(Ze,s,a,!1,null,null,null),Qe=Xe.exports,tn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("change")},on:{submit:t.submit},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})},en=[],nn={mixins:[k],data:function(){return{blueprints:[],page:{id:null,template:null}}},computed:{fields:function(){return{template:{label:this.$t("template"),type:"select",required:!0,empty:!1,options:this.page.blueprints,icon:"template"}}}},methods:{open:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.pages.get(t,{select:["id","template","blueprints"]});case 3:if(i=n.sent,!(i.blueprints.length<=1)){n.next=6;break}return n.abrupt("return",e.$store.dispatch("notification/error",{message:e.$t("error.page.changeTemplate.invalid",{slug:i.id})}));case 6:e.page=i,e.page.blueprints=e.page.blueprints.map((function(t){return{text:t.title,value:t.name}})),e.$refs.dialog.open(),n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](0),e.$store.dispatch("notification/error",n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))()},submit:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$events.$emit("keydown.cmd.s"),e.prev=1,e.next=4,t.$api.pages.changeTemplate(t.page.id,t.page.template);case 4:t.success({message:":)",event:"page.changeTemplate"}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),t.$refs.dialog.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))()}}},rn=nn,sn=Object(f["a"])(rn,tn,en,!1,null,null,null),an=sn.exports,on=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dialog",{ref:"dialog",staticClass:"k-pages-dialog",attrs:{size:"medium"},on:{cancel:function(e){return t.$emit("cancel")},submit:t.submit}},[t.issue?[n("k-box",{attrs:{text:t.issue,theme:"negative"}})]:[t.model?n("header",{staticClass:"k-pages-dialog-navbar"},[n("k-button",{attrs:{disabled:!t.model.id,tooltip:t.$t("back"),icon:"angle-left"},on:{click:t.back}}),n("k-headline",[t._v(t._s(t.model.title))])],1):t._e(),t.options.search?n("k-input",{staticClass:"k-dialog-search",attrs:{autofocus:!0,placeholder:t.$t("search")+" …",type:"text",icon:"search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}):t._e(),t.models.length?[n("k-list",t._l(t.models,(function(e){return n("k-list-item",{key:e.id,attrs:{text:e.text,info:e.info,image:e.image,icon:e.icon},on:{click:function(n){return t.toggle(e)}}},[n("template",{slot:"options"},[t.isSelected(e)?n("k-button",{attrs:{slot:"options",autofocus:!0,icon:t.checkedIcon,tooltip:t.$t("remove"),theme:"positive"},slot:"options"}):n("k-button",{attrs:{slot:"options",autofocus:!0,tooltip:t.$t("select"),icon:"circle-outline"},slot:"options"}),t.model?n("k-button",{attrs:{disabled:!e.hasChildren,tooltip:t.$t("open"),icon:"angle-right"},on:{click:function(n){return n.stopPropagation(),t.go(e)}}}):t._e()],1)],2)})),1),n("k-pagination",t._b({staticClass:"k-dialog-pagination",attrs:{details:!0,dropdown:!1,align:"center"},on:{paginate:t.paginate}},"k-pagination",t.pagination,!1))]:n("k-empty",{attrs:{icon:"page"}},[t._v("\n      "+t._s(t.$t("dialog.pages.empty"))+"\n    ")])]],2)},un=[],cn={mixins:[Ht],data:function(){var t=Ht.data();return Object(x["a"])(Object(x["a"])({},t),{},{model:{title:null,parent:null},options:Object(x["a"])(Object(x["a"])({},t.options),{},{parent:null})})},computed:{fetchData:function(){return{parent:this.options.parent}}},methods:{back:function(){this.options.parent=this.model.parent,this.pagination.page=1,this.fetch()},go:function(t){this.options.parent=t.id,this.pagination.page=1,this.fetch()},onFetched:function(t){this.model=t.model}}},ln=cn,pn=(n("ac27"),Object(f["a"])(ln,on,un,!1,null,null,null)),dn=pn.exports,fn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-text-dialog",t._g(t._b({ref:"dialog"},"k-text-dialog",t.$props,!1),t.$listeners),[t._t("default")],2)},hn=[],mn={mixins:[k],props:{icon:{type:String,default:"trash"},submitButton:{type:[String,Boolean],default:function(){return this.$t("delete")}},text:String,theme:{type:String,default:"negative"}}},gn=mn,bn=Object(f["a"])(gn,fn,hn,!1,null,null,null),vn=bn.exports,kn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("rename")},on:{submit:t.submit},model:{value:t.site,callback:function(e){t.site=e},expression:"site"}})},$n=[],yn={mixins:[k],data:function(){return{site:{id:null,title:null}}},computed:{fields:function(){return{title:{label:this.$t("title"),type:"text",required:!0,icon:"title",preselect:!0}}}},methods:{open:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.site.get({select:["title"]});case 3:t.site=e.sent,t.$refs.dialog.open(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.$store.dispatch("notification/error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},submit:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.site.title=t.site.title.trim(),0!==t.site.title.length){e.next=4;break}return t.$refs.dialog.error(t.$t("error.site.changeTitle.empty")),e.abrupt("return");case 4:return e.prev=4,e.next=7,t.$api.site.changeTitle(t.site.title);case 7:t.$store.dispatch("system/title",t.site.title),t.success({message:":)",event:"site.changeTitle"}),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](4),t.$refs.dialog.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))()}}},wn=yn,_n=Object(f["a"])(wn,kn,$n,!1,null,null,null),xn=_n.exports,On=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dialog",t._g(t._b({ref:"dialog"},"k-dialog",t.$props,!1),t.$listeners),[t._t("default",[n("k-text",{domProps:{innerHTML:t._s(t.text)}})])],2)},jn=[],Cn={mixins:[k],props:{text:String}},Sn=Cn,En=Object(f["a"])(Sn,On,jn,!1,null,null,null),Rn=En.exports,Tn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("create")},on:{submit:t.create,close:t.reset},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})},Ln=[],In={mixins:[k],data:function(){return{user:this.emptyForm(),languages:[],roles:[]}},computed:{fields:function(){return{name:{label:this.$t("name"),type:"text",icon:"user"},email:{label:this.$t("email"),type:"email",icon:"email",link:!1,required:!0},password:{label:this.$t("password"),type:"password",icon:"key"},language:{label:this.$t("language"),type:"select",icon:"globe",options:this.languages,required:!0,empty:!1},role:{label:this.$t("role"),type:1===this.roles.length?"hidden":"radio",required:!0,options:this.roles}}}},methods:{create:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.users.create(t.user);case 3:t.success({message:":)",event:"user.create"}),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),t.$refs.dialog.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},emptyForm:function(){return{name:"",email:"",password:"",language:this.$store.state.system.info.defaultLanguage||"en",role:this.$user.role.name}},open:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.roles.options({canBe:"created"});case 3:t.roles=e.sent,"admin"!==t.$user.role.name&&(t.roles=t.roles.filter((function(t){return"admin"!==t.value}))),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.$store.dispatch("notification/error",e.t0);case 10:return e.prev=10,e.next=13,t.$api.translations.options();case 13:t.languages=e.sent,e.next=19;break;case 16:e.prev=16,e.t1=e["catch"](10),t.$store.dispatch("notification/error",e.t1);case 19:t.$refs.dialog.open();case 20:case"end":return e.stop()}}),e,null,[[0,7],[10,16]])})))()},reset:function(){this.user=this.emptyForm()}}},An=In,Bn=Object(f["a"])(An,Tn,Ln,!1,null,null,null),Dn=Bn.exports,Mn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("change")},on:{submit:t.submit},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})},Nn=[],Pn={mixins:[k],data:function(){return{user:{id:null,email:null}}},computed:{fields:function(){return{email:{label:this.$t("email"),preselect:!0,required:!0,type:"email"}}}},methods:{open:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.users.get(t,{select:["id","email"]});case 3:e.user=n.sent,e.$refs.dialog.open(),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),e.$store.dispatch("notification/error",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},submit:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.users.changeEmail(t.user.id,t.user.email);case 3:t.$store.dispatch("content/revert","users/"+t.user.id),t.$user.id===t.user.id&&t.$store.dispatch("user/email",t.user.email),n={message:":)",event:"user.changeEmail"},t.success(n),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),t.$refs.dialog.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}}},qn=Pn,Fn=Object(f["a"])(qn,Mn,Nn,!1,null,null,null),Un=Fn.exports,zn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("change")},on:{submit:t.submit},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})},Hn=[],Kn={mixins:[k],data:function(){return{user:{language:"en"},languages:[]}},computed:{fields:function(){return{language:{label:this.$t("language"),type:"select",icon:"globe",options:this.languages,required:!0,empty:!1}}}},created:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.translations.options();case 2:t.languages=e.sent;case 3:case"end":return e.stop()}}),e)})))()},methods:{open:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.users.get(t,{view:"compact"});case 3:e.user=n.sent,e.$refs.dialog.open(),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),e.$store.dispatch("notification/error",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},submit:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.users.changeLanguage(t.user.id,t.user.language);case 3:t.user=e.sent,t.$user.id===t.user.id&&t.$store.dispatch("user/language",t.user.language),t.success({message:":)",event:"user.changeLanguage"}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.$refs.dialog.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},Yn=Kn,Gn=Object(f["a"])(Yn,zn,Hn,!1,null,null,null),Wn=Gn.exports,Jn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("change")},on:{submit:t.submit},model:{value:t.values,callback:function(e){t.values=e},expression:"values"}})},Vn=[],Zn=(n("ddb0"),{mixins:[k],data:function(){return{user:null,values:{password:null,passwordConfirmation:null}}},computed:{fields:function(){return{password:{label:this.$t("user.changePassword.new"),type:"password",icon:"key"},passwordConfirmation:{label:this.$t("user.changePassword.new.confirm"),icon:"key",type:"password"}}}},methods:{open:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.users.get(t);case 3:e.user=n.sent,e.$refs.dialog.open(),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),e.$store.dispatch("notification/error",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},submit:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.values.password&&!(t.values.password.length<8)){e.next=3;break}return t.$refs.dialog.error(t.$t("error.user.password.invalid")),e.abrupt("return",!1);case 3:if(t.values.password===t.values.passwordConfirmation){e.next=6;break}return t.$refs.dialog.error(t.$t("error.user.password.notSame")),e.abrupt("return",!1);case 6:return e.prev=6,e.next=9,t.$api.users.changePassword(t.user.id,t.values.password);case 9:t.success({message:":)",event:"user.changePassword"}),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](6),t.$refs.dialog.error(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[6,12]])})))()}}}),Xn=Zn,Qn=Object(f["a"])(Xn,Jn,Vn,!1,null,null,null),ti=Qn.exports,ei=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-remove-dialog",{ref:"dialog",attrs:{text:t.$t("user.delete.confirm",{email:t.user.email})},on:{submit:t.submit}})},ni=[],ii={mixins:[k],data:function(){return{user:{email:null}}},methods:{open:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.users.get(t);case 3:e.user=n.sent,e.$refs.dialog.open(),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),e.$store.dispatch("notification/error",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},submit:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.users.delete(t.user.id);case 3:t.$store.dispatch("content/remove","users/"+t.user.id),t.success({message:":)",event:"user.delete"}),"User"===t.$route.name&&t.$go("/users"),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.$refs.dialog.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},ri=ii,si=Object(f["a"])(ri,ei,ni,!1,null,null,null),ai=si.exports,oi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("rename")},on:{submit:t.submit},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})},ui=[],ci={mixins:[k],data:function(){return{user:{id:null,name:null}}},computed:{fields:function(){return{name:{label:this.$t("name"),type:"text",icon:"user",preselect:!0}}}},methods:{open:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.users.get(t,{select:["id","name"]});case 3:e.user=n.sent,e.$refs.dialog.open(),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),e.$store.dispatch("notification/error",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},submit:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.user.name=t.user.name.trim(),e.prev=1,e.next=4,t.$api.users.changeName(t.user.id,t.user.name);case 4:t.$user.id===t.user.id&&t.$store.dispatch("user/name",t.user.name),t.success({message:":)",event:"user.changeName"}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),t.$refs.dialog.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()}}},li=ci,pi=Object(f["a"])(li,oi,ui,!1,null,null,null),di=pi.exports,fi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("user.changeRole")},on:{submit:t.submit},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})},hi=[],mi={mixins:[k],data:function(){return{roles:[],user:{id:null,role:"visitor"}}},computed:{fields:function(){return{role:{label:this.$t("user.changeRole.select"),type:"radio",required:!0,options:this.roles}}}},methods:{open:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.id=t,n.prev=1,n.next=4,e.$api.users.get(t);case 4:return e.user=n.sent,e.user.role=e.user.role.name,n.next=8,e.$api.users.roles(t);case 8:e.roles=n.sent,"admin"!==e.$user.role.name&&(e.roles=e.roles.filter((function(t){return"admin"!==t.value}))),e.$refs.dialog.open(),n.next=16;break;case 13:n.prev=13,n.t0=n["catch"](1),e.$store.dispatch("notification/error",n.t0);case 16:case"end":return n.stop()}}),n,null,[[1,13]])})))()},submit:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.users.changeRole(t.user.id,t.user.role);case 3:t.$user.id===t.user.id&&t.$store.dispatch("user/load"),t.success({message:":)",event:"user.changeRole"}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.$refs.dialog.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},gi=mi,bi=Object(f["a"])(gi,fi,hi,!1,null,null,null),vi=bi.exports,ki=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dialog",{ref:"dialog",staticClass:"k-users-dialog",attrs:{size:"medium"},on:{cancel:function(e){return t.$emit("cancel")},submit:t.submit}},[t.issue?[n("k-box",{attrs:{text:t.issue,theme:"negative"}})]:[t.options.search?n("k-input",{staticClass:"k-dialog-search",attrs:{autofocus:!0,placeholder:t.$t("search")+" …",type:"text",icon:"search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}):t._e(),t.models.length?[n("k-list",t._l(t.models,(function(e){return n("k-list-item",{key:e.email,attrs:{text:e.text,info:e.info!==e.text?e.info:null,image:e.image,icon:e.icon},on:{click:function(n){return t.toggle(e)}}},[t.isSelected(e)?n("k-button",{attrs:{slot:"options",autofocus:!0,icon:t.checkedIcon,tooltip:t.$t("remove"),theme:"positive"},slot:"options"}):n("k-button",{attrs:{slot:"options",autofocus:!0,tooltip:t.$t("select"),icon:"circle-outline"},slot:"options"})],1)})),1),n("k-pagination",t._b({staticClass:"k-dialog-pagination",attrs:{details:!0,dropdown:!1,align:"center"},on:{paginate:t.paginate}},"k-pagination",t.pagination,!1))]:n("k-empty",{attrs:{icon:"users"}},[t._v("\n      "+t._s(t.$t("dialog.users.empty"))+"\n    ")])]],2)},$i=[],yi={mixins:[Ht]},wi=yi,_i=(n("7568"),Object(f["a"])(wi,ki,$i,!1,null,null,null)),xi=_i.exports,Oi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-overlay",{ref:"overlay",attrs:{dimmed:!1},on:{close:function(e){return t.$emit("close")},open:function(e){return t.$emit("open")}}},[n("div",{staticClass:"k-drawer",on:{click:function(e){return e.stopPropagation(),t.close(e)}}},[n("div",{staticClass:"k-drawer-box",on:{click:function(t){t.stopPropagation()}}},[n("header",{staticClass:"k-drawer-header"},[n("k-icon",{staticClass:"k-drawer-icon",attrs:{type:t.icon}}),t._t("title",[n("h2",{staticClass:"k-drawer-title"},[t._v(t._s(t.title))])]),t.hasTabs?n("nav",{staticClass:"k-drawer-tabs"},t._l(t.tabs,(function(e){return n("k-button",{key:e.name,staticClass:"k-drawer-tab",attrs:{current:t.tab==e.name},on:{click:function(n){return n.stopPropagation(),t.$emit("tab",e.name)}}},[t._v("\n            "+t._s(e.label)+"\n          ")])})),1):t._e(),n("nav",{staticClass:"k-drawer-options"},[t._t("options"),n("k-button",{staticClass:"k-drawer-option",attrs:{icon:"cancel"},on:{click:t.close}})],2)],2),n("div",{staticClass:"k-drawer-body"},[t._t("default")],2)])])])},ji=[],Ci={inheritAttrs:!1,props:{icon:String,tab:String,tabs:Object,title:String},computed:{hasTabs:function(){return this.tabs&&Object.keys(this.tabs).length>1}},methods:{close:function(){this.$refs.overlay.close()},open:function(){this.$refs.overlay.open()}}},Si=Ci,Ei=(n("5332"),Object(f["a"])(Si,Oi,ji,!1,null,null,null)),Ri=Ei.exports,Ti=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-drawer",{ref:"drawer",staticClass:"k-form-drawer",attrs:{icon:t.icon,tabs:t.tabs,tab:t.tab,title:t.title},on:{close:function(e){return t.$emit("close")},open:function(e){return t.$emit("open")},tab:function(e){t.tab=e}},scopedSlots:t._u([{key:"options",fn:function(){return[t._t("options")]},proxy:!0},{key:"default",fn:function(){return[n("k-form",{ref:"form",attrs:{autofocus:!0,fields:t.fields,value:t.$helper.clone(t.value)},on:{input:function(e){return t.$emit("input",e)}}})]},proxy:!0}],null,!0)})},Li=[],Ii={inheritAttrs:!1,props:{icon:String,tabs:Object,title:String,type:String,value:Object},data:function(){return{tab:null}},computed:{fields:function(){var t=this.tab||null,e=this.tabs,n=e[t]||this.firstTab,i=n.fields||{};return i},firstTab:function(){return Object.values(this.tabs)[0]}},methods:{close:function(){this.$refs.drawer.close()},focus:function(){this.$refs.form&&"function"===typeof this.$refs.form.focus&&this.$refs.form.focus()},open:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.$refs.drawer.open(),this.tab=t||this.firstTab.name,!1!==n&&setTimeout((function(){e.focus()}),1)}}},Ai=Ii,Bi=Object(f["a"])(Ai,Ti,Li,!1,null,null,null),Di=Bi.exports,Mi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dropdown",{staticClass:"k-autocomplete"},[t._t("default"),n("k-dropdown-content",t._g({ref:"dropdown",attrs:{autofocus:!0}},t.$listeners),t._l(t.matches,(function(e,i){return n("k-dropdown-item",t._b({key:i,on:{mousedown:function(n){return t.onSelect(e)},keydown:[function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"tab",9,n.key,"Tab")?null:(n.preventDefault(),t.onSelect(e))},function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:(n.preventDefault(),t.onSelect(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(e.preventDefault(),t.close(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"backspace",void 0,e.key,void 0)?null:(e.preventDefault(),t.close(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:(e.preventDefault(),t.close(e))}]}},"k-dropdown-item",e,!1),[t._v("\n      "+t._s(e.text)+"\n    ")])})),1),t._v("\n  "+t._s(t.query)+"\n")],2)},Ni=[],Pi=(n("c975"),n("fb6a"),{props:{limit:{type:Number,default:10},skip:{type:Array,default:function(){return[]}},options:Array,query:String},data:function(){return{matches:[],selected:{text:null}}},methods:{close:function(){this.$refs.dropdown.close()},onSelect:function(t){this.$refs.dropdown.close(),this.$emit("select",t)},search:function(t){var e=this;if(!(t.length<1)){var n=new RegExp(RegExp.escape(t),"ig");this.matches=this.options.filter((function(t){return!!t.text&&(-1===e.skip.indexOf(t.value)&&null!==t.text.match(n))})).slice(0,this.limit),this.$emit("search",t,this.matches),this.$refs.dropdown.open()}}}}),qi=Pi,Fi=Object(f["a"])(qi,Mi,Ni,!1,null,null,null),Ui=Fi.exports,zi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-calendar-input"},[n("nav",[n("k-button",{attrs:{icon:"angle-left"},on:{click:t.prev}}),n("span",{staticClass:"k-calendar-selects"},[n("k-select-input",{attrs:{options:t.months,disabled:t.disabled,required:!0},model:{value:t.view.month,callback:function(e){t.$set(t.view,"month",t._n(e))},expression:"view.month"}}),n("k-select-input",{attrs:{options:t.years,disabled:t.disabled,required:!0},model:{value:t.view.year,callback:function(e){t.$set(t.view,"year",t._n(e))},expression:"view.year"}})],1),n("k-button",{attrs:{icon:"angle-right"},on:{click:t.next}})],1),n("table",{staticClass:"k-calendar-table"},[n("thead",[n("tr",t._l(t.weekdays,(function(e){return n("th",{key:"weekday_"+e},[t._v(t._s(e))])})),0)]),n("tbody",t._l(t.numberOfWeeks,(function(e){return n("tr",{key:"week_"+e},t._l(t.days(e),(function(e,i){return n("td",{key:"day_"+i,staticClass:"k-calendar-day",attrs:{"aria-current":!!t.isToday(e)&&"date","aria-selected":!!t.isSelected(e)&&"date","data-between":t.isBetween(e),"data-first":t.isFirst(e),"data-last":t.isLast(e)}},[e?n("k-button",{attrs:{disabled:t.isDisabled(e)},on:{click:function(n){return t.select(e)}}},[t._v("\n            "+t._s(e)+"\n          ")]):t._e()],1)})),0)})),0),n("tfoot",[n("tr",[n("td",{staticClass:"k-calendar-today",attrs:{colspan:"7"}},[n("k-button",{on:{click:function(e){return t.select("today")}}},[t._v(t._s(t.$t("today")))])],1)])])])])},Hi=[],Ki=(n("45fc"),{props:{disabled:Boolean,multiple:Boolean,max:String,min:String,value:[Array,String]},data:function(){return this.toData(this.value)},computed:{numberOfDays:function(){return this.viewDt.daysInMonth()},numberOfWeeks:function(){return Math.ceil((this.numberOfDays+this.firstWeekday-1)/7)},firstWeekday:function(){var t=this.viewDt.day();return t>0?t:7},weekdays:function(){return[this.$t("days.mon"),this.$t("days.tue"),this.$t("days.wed"),this.$t("days.thu"),this.$t("days.fri"),this.$t("days.sat"),this.$t("days.sun")]},monthnames:function(){return[this.$t("months.january"),this.$t("months.february"),this.$t("months.march"),this.$t("months.april"),this.$t("months.may"),this.$t("months.june"),this.$t("months.july"),this.$t("months.august"),this.$t("months.september"),this.$t("months.october"),this.$t("months.november"),this.$t("months.december")]},months:function(){var t=this,e=[];return this.monthnames.forEach((function(n,i){var r=t.toDate(1,i);e.push({value:i,text:n,disabled:r.isBefore(t.view.min,"month")||r.isAfter(t.view.max,"month")})})),e},years:function(){for(var t=[],e=this.view.min?this.view.min.get("year"):this.view.year-20,n=this.view.max?this.view.max.get("year"):this.view.year+20,i=e;i<=n;i++)t.push({value:i,text:this.$helper.pad(i)});return t},viewDt:function(){var t="".concat(this.view.year,"-").concat(this.view.month+1,"-01 00:00:00");return this.$library.dayjs.utc(t)}},watch:{value:function(t){var e=this.toData(t);this.datetimes=e.datetimes,this.view=e.view}},methods:{days:function(t){for(var e=[],n=7*(t-1)+1,i=n;i<n+7;i++){var r=i-(this.firstWeekday-1);r<=0||r>this.numberOfDays?e.push(""):e.push(r)}return e},isBetween:function(t){if(""===t||0==this.multiple||this.datetimes.length<2)return!1;var e=this.toDate(t);return this.isFirst(t)||this.isLast(t)||e.isAfter(this.datetimes[0],"day")&&e.isBefore(this.datetimes[1],"day")},isDisabled:function(t){var e=this.toDate(t);return e.isBefore(this.view.min,"day")||e.isAfter(this.view.max,"day")},isFirst:function(t){if(""===t||0==this.multiple||this.datetimes.length<2)return!1;var e=this.toDate(t);return e.isSame(this.datetimes[0],"day")},isLast:function(t){if(""===t||0==this.multiple||this.datetimes.length<2)return!1;var e=this.toDate(t);return e.isSame(this.datetimes[1],"day")},isSelected:function(t){if(""===t)return!1;var e=this.toDate(t);return this.datetimes.some((function(t){return e.isSame(t,"day")}))},isToday:function(t){return this.toDate(t).isSame(this.$library.dayjs.utc(),"day")},next:function(){var t=this.viewDt.clone().add(1,"month");this.show(t)},prev:function(){var t=this.viewDt.clone().subtract(1,"month");this.show(t)},mergeTime:function(t,e){return t.clone().set("second",e.get("second")).set("minute",e.get("minute")).set("hour",e.get("hour"))},select:function(t){var e=this;if("today"===t){var n=this.$library.dayjs();this.datetimes=[n],this.show(n)}else{var i=this.datetimes[0]||this.toToday(),r=this.toDate(t);r=this.mergeTime(r,i),!1===this.multiple||0===this.datetimes.length||2===this.datetimes.length||r.isBefore(this.datetimes[0])?this.datetimes=[r]:this.datetimes.push(r)}this.multiple?this.$emit("input",this.datetimes.map((function(t){return e.toISO(t)}))):this.$emit("input",this.toISO(this.datetimes[0]))},show:function(t){this.view.year=t.year(),this.view.month=t.month()},toData:function(t){var e=this.toToday(),n=this.toDatetimes(t);return{datetimes:n,view:{month:(n[0]||e).month(),year:(n[0]||e).year(),min:this.min?this.$library.dayjs.utc(this.min):null,max:this.max?this.$library.dayjs.utc(this.max):null}}},toDate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.view.month,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.view.year;return this.$library.dayjs.utc("".concat(n,"-").concat(e+1,"-").concat(t," 00:00:00"))},toDatetimes:function(t){var e=this;return t?"string"===typeof t?[this.$library.dayjs.utc(t)]:t.map((function(t){return e.$library.dayjs.utc(t)})):[]},toISO:function(t){return t.format("YYYY-MM-DD HH:mm:ss")},toToday:function(){return this.$library.dayjs.utc()}}}),Yi=Ki,Gi=(n("ee15"),Object(f["a"])(Yi,zi,Hi,!1,null,null,null)),Wi=Gi.exports,Ji=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"k-counter",attrs:{"data-invalid":!t.valid}},[n("span",[t._v(t._s(t.count))]),t.min&&t.max?n("span",{staticClass:"k-counter-rules"},[t._v("("+t._s(t.min)+"–"+t._s(t.max)+")")]):t.min?n("span",{staticClass:"k-counter-rules"},[t._v("≥ "+t._s(t.min))]):t.max?n("span",{staticClass:"k-counter-rules"},[t._v("≤ "+t._s(t.max))]):t._e()])},Vi=[],Zi={props:{count:Number,min:Number,max:Number,required:{type:Boolean,default:!1}},computed:{valid:function(){return!1===this.required&&0===this.count||(!0!==this.required||0!==this.count)&&(!(this.min&&this.count<this.min)&&!(this.max&&this.count>this.max))}}},Xi=Zi,Qi=(n("fc0f"),Object(f["a"])(Xi,Ji,Vi,!1,null,null,null)),tr=Qi.exports,er=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{ref:"form",staticClass:"k-form",attrs:{method:"POST",autocomplete:"off",novalidate:""},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[t._t("header"),t._t("default",[n("k-fieldset",t._g({ref:"fields",attrs:{disabled:t.disabled,fields:t.fields,novalidate:t.novalidate},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t.listeners))]),t._t("footer"),n("input",{ref:"submitter",staticClass:"k-form-submitter",attrs:{type:"submit"}})],2)},nr=[],ir={props:{disabled:Boolean,config:Object,fields:{type:[Array,Object],default:function(){return{}}},novalidate:{type:Boolean,default:!1},value:{type:Object,default:function(){return{}}}},data:function(){return{errors:{},listeners:Object(x["a"])(Object(x["a"])({},this.$listeners),{},{submit:this.onSubmit})}},methods:{focus:function(t){this.$refs.fields&&this.$refs.fields.focus&&this.$refs.fields.focus(t)},onSubmit:function(){this.$emit("submit",this.value)},submit:function(){this.$refs.submitter.click()}}},rr=ir,sr=(n("5d33"),Object(f["a"])(rr,er,nr,!1,null,null,null)),ar=sr.exports,or=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"k-form-buttons",attrs:{"data-theme":t.mode}},["unlock"===t.mode?n("k-view",[n("p",{staticClass:"k-form-lock-info"},[t._v("\n      "+t._s(t.$t("lock.isUnlocked"))+"\n    ")]),n("span",{staticClass:"k-form-lock-buttons"},[n("k-button",{staticClass:"k-form-button",attrs:{icon:"download"},on:{click:t.onDownload}},[t._v("\n        "+t._s(t.$t("download"))+"\n      ")]),n("k-button",{staticClass:"k-form-button",attrs:{icon:"check"},on:{click:t.onResolve}},[t._v("\n        "+t._s(t.$t("confirm"))+"\n      ")])],1)]):"lock"===t.mode?n("k-view",[n("p",{staticClass:"k-form-lock-info"},[n("k-icon",{attrs:{type:"lock"}}),n("span",{domProps:{innerHTML:t._s(t.$t("lock.isLocked",{email:t.form.lock.email}))}})],1),t.form.lock.unlockable?n("k-button",{staticClass:"k-form-button",attrs:{icon:"unlock"},on:{click:t.setUnlock}},[t._v("\n      "+t._s(t.$t("lock.unlock"))+"\n    ")]):n("k-icon",{staticClass:"k-form-lock-loader",attrs:{type:"loader"}})],1):"changes"===t.mode?n("k-view",[n("k-button",{staticClass:"k-form-button",attrs:{disabled:t.isDisabled,icon:"undo"},on:{click:function(e){return t.$refs.revert.open()}}},[t._v("\n      "+t._s(t.$t("revert"))+"\n    ")]),n("k-button",{staticClass:"k-form-button",attrs:{disabled:t.isDisabled,icon:"check"},on:{click:t.onSave}},[t._v("\n      "+t._s(t.$t("save"))+"\n    ")])],1):t._e(),n("k-dialog",{ref:"revert",attrs:{"submit-button":t.$t("revert"),icon:"undo",theme:"negative"},on:{submit:t.onRevert}},[n("k-text",{domProps:{innerHTML:t._s(t.$t("revert.confirm"))}})],1)],1)},ur=[],cr={data:function(){return{supportsLocking:!0}},computed:{api:function(){return{lock:[this.$route.path+"/lock",null,null,!0],unlock:[this.$route.path+"/unlock",null,null,!0]}},hasChanges:function(){return this.$store.getters["content/hasChanges"]()},form:function(){return{lock:this.$store.state.content.status.lock,unlock:this.$store.state.content.status.unlock}},id:function(){return this.$store.state.content.current},isDisabled:function(){return!1===this.$store.state.content.status.enabled},isLocked:function(){return null!==this.form.lock},isUnlocked:function(){return null!==this.form.unlock},mode:function(){return!0===this.isUnlocked?"unlock":!0===this.isLocked?"lock":!0===this.hasChanges?"changes":null}},watch:{hasChanges:function(t,e){if(!1===e&&!0===t)return this.$store.dispatch("heartbeat/remove",this.getLock),void this.$store.dispatch("heartbeat/add",[this.setLock,30]);this.id&&!0===e&&!1===t&&this.removeLock()},id:function(){this.id&&!1===this.hasChanges&&this.$store.dispatch("heartbeat/add",[this.getLock,10])}},created:function(){this.$events.$on("keydown.cmd.s",this.onSave)},destroyed:function(){this.$events.$off("keydown.cmd.s",this.onSave)},methods:{getLock:function(){var t,e=this;return(t=this.$api).get.apply(t,Object(S["a"])(this.api.lock)).then((function(t){if(!1===t.supported)return e.supportsLocking=!1,void e.$store.dispatch("heartbeat/remove",e.getLock);!1===t.locked?(e.isLocked&&e.form.lock.user!==e.$store.state.user.current.id&&e.$events.$emit("model.reload"),e.$store.dispatch("content/lock",null)):e.$store.dispatch("content/lock",t.locked)})).catch((function(){}))},setLock:function(){var t,e=this;!0===this.supportsLocking&&(t=this.$api).patch.apply(t,Object(S["a"])(this.api.lock)).catch((function(t){if("error.lock.notImplemented"===t.key)return e.supportsLocking=!1,e.$store.dispatch("heartbeat/remove",e.setLock),!1;e.$store.dispatch("content/revert",e.id),e.$store.dispatch("heartbeat/remove",e.setLock),e.$store.dispatch("heartbeat/add",[e.getLock,10])}))},removeLock:function(){var t,e=this;!0===this.supportsLocking&&(this.$store.dispatch("heartbeat/remove",this.setLock),(t=this.$api).delete.apply(t,Object(S["a"])(this.api.lock)).then((function(){e.$store.dispatch("content/lock",null),e.$store.dispatch("heartbeat/add",[e.getLock,10])})).catch((function(){})))},setUnlock:function(){var t,e=this;!0===this.supportsLocking&&(this.$store.dispatch("heartbeat/remove",this.setLock),(t=this.$api).patch.apply(t,Object(S["a"])(this.api.unlock)).then((function(){e.$store.dispatch("content/lock",null),e.$store.dispatch("heartbeat/add",[e.getLock,10])})).catch((function(){})))},removeUnlock:function(){var t,e=this;!0===this.supportsLocking&&(this.$store.dispatch("heartbeat/remove",this.setLock),(t=this.$api).delete.apply(t,Object(S["a"])(this.api.unlock)).then((function(){e.$store.dispatch("content/unlock",null),e.$store.dispatch("heartbeat/add",[e.getLock,10])})).catch((function(){})))},onDownload:function(){var t=this,e="";Object.keys(this.form.unlock).forEach((function(n){e+=n+": \n\n"+t.form.unlock[n],e+="\n\n----\n\n"}));var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),n.setAttribute("download",this.id+".txt"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},onResolve:function(){this.$store.dispatch("content/revert"),this.removeUnlock()},onRevert:function(){this.$store.dispatch("content/revert"),this.$refs.revert.close()},onSave:function(t){var e=this;return!!t&&(t.preventDefault&&t.preventDefault(),!1===this.hasChanges||void this.$store.dispatch("content/save").then((function(){e.$events.$emit("model.update"),e.$store.dispatch("notification/success",":)")})).catch((function(t){403!==t.code&&(t.details&&Object.keys(t.details).length>0?e.$store.dispatch("notification/error",{message:e.$t("error.form.incomplete"),details:t.details}):e.$store.dispatch("notification/error",{message:e.$t("error.form.notSaved"),details:[{label:"Exception: "+t.exception,message:t.message}]}))})))}}},lr=cr,pr=(n("18dd"),Object(f["a"])(lr,or,ur,!1,null,null,null)),dr=pr.exports,fr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasChanges?n("k-dropdown",{staticClass:"k-form-indicator"},[n("k-button",{staticClass:"k-topbar-button",on:{click:t.toggle}},[n("k-icon",{staticClass:"k-form-indicator-icon",attrs:{type:"edit"}})],1),n("k-dropdown-content",{ref:"list",attrs:{align:"right"}},[n("p",{staticClass:"k-form-indicator-info"},[t._v("\n      "+t._s(t.$t("lock.unsaved"))+":\n    ")]),n("hr"),t._l(t.entries,(function(e){return n("k-dropdown-item",{key:e.id,attrs:{icon:e.icon},nativeOn:{click:function(n){return n.stopPropagation(),t.go(e.target)}}},[t._v("\n      "+t._s(e.label)+"\n    ")])}))],2)],1):t._e()},hr=[],mr=(n("3ca3"),{data:function(){return{isOpen:!1,entries:[]}},computed:{store:function(){return this.$store.state.content.models},models:function(){var t=this,e=Object.keys(this.store).filter((function(e){return!!t.store[e]})),n=e.map((function(e){return Object(x["a"])({id:e},t.store[e])}));return n.filter((function(t){return Object.keys(t.changes).length>0}))},hasChanges:function(){return this.models.length>0}},methods:{go:function(t){if(t.language&&this.$store.state.languages.current.code!==t.language){var e=this.$store.state.languages.all.filter((function(e){return e.code===t.language}))[0];this.$store.dispatch("languages/current",e)}this.$go(t.link)},load:function(){var t=this,e=this.models.map((function(e){return t.$api.get(e.api,{view:"compact"},null,!0).then((function(n){var i;if(i=!0===e.id.startsWith("pages/")?{icon:"page",label:n.title,target:{link:t.$api.pages.link(n.id)}}:!0===e.id.startsWith("files/")?{icon:"image",label:n.filename,target:{link:n.link}}:!0===e.id.startsWith("users/")?{icon:"user",label:n.email,target:{link:t.$api.users.link(n.id)}}:{icon:"home",label:n.title,target:{link:"/site"}},t.$store.state.languages.current){var r=e.id.split("/").pop();i.label=i.label+" ("+r+")",i.target.language=r}return i})).catch((function(){return t.$store.dispatch("content/remove",e.id),null}))}));return Promise.all(e).then((function(e){t.entries=e.filter((function(t){return null!==t})),0===t.entries.length&&t.$store.dispatch("notification/success",t.$t("lock.unsaved.empty"))}))},toggle:function(){var t=this;!1===this.$refs.list.isOpen?this.load().then((function(){t.$refs.list&&t.$refs.list.toggle()})):this.$refs.list.toggle()}}}),gr=mr,br=(n("9e26"),Object(f["a"])(gr,fr,hr,!1,null,null,null)),vr=br.exports,kr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:"k-field k-field-name-"+t.name,attrs:{"data-disabled":t.disabled,"data-translate":t.translate},on:{focusin:function(e){return t.$emit("focus",e)},focusout:function(e){return t.$emit("blur",e)}}},[t._t("header",[n("header",{staticClass:"k-field-header"},[t._t("label",[n("label",{staticClass:"k-field-label",attrs:{for:t.input}},[t._v(t._s(t.labelText)+" "),t.required?n("abbr",{attrs:{title:t.$t("field.required")}},[t._v("*")]):t._e()])]),t._t("options"),t._t("counter",[t.counter?n("k-counter",t._b({staticClass:"k-field-counter",attrs:{required:t.required}},"k-counter",t.counter,!1)):t._e()])],2)]),t._t("default"),t._t("footer",[t.help||t.$slots.help?n("footer",{staticClass:"k-field-footer"},[t._t("help",[t.help?n("k-text",{staticClass:"k-field-help",attrs:{theme:"help"},domProps:{innerHTML:t._s(t.help)}}):t._e()])],2):t._e()])],2)},$r=[],yr={inheritAttrs:!1,props:{counter:[Boolean,Object],disabled:Boolean,endpoints:Object,help:String,input:[String,Number],label:String,name:[String,Number],required:Boolean,translate:Boolean,type:String},computed:{labelText:function(){return this.label||" "}}},wr=yr,_r=(n("a134"),Object(f["a"])(wr,kr,$r,!1,null,null,null)),xr=_r.exports,Or=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("fieldset",{staticClass:"k-fieldset"},[n("k-grid",[t._l(t.fields,(function(e,i){return["hidden"!==e.type&&t.meetsCondition(e)?n("k-column",{key:e.signature,attrs:{width:e.width}},[n("k-error-boundary",[t.hasFieldType(e.type)?n("k-"+e.type+"-field",t._b({ref:i,refInFor:!0,tag:"component",attrs:{name:i,novalidate:t.novalidate,disabled:t.disabled||e.disabled},on:{input:function(n){return t.$emit("input",t.value,e,i)},focus:function(n){return t.$emit("focus",n,e,i)},invalid:function(n,r){return t.onInvalid(n,r,e,i)},submit:function(n){return t.$emit("submit",n,e,i)}},model:{value:t.value[i],callback:function(e){t.$set(t.value,i,e)},expression:"value[fieldName]"}},"component",e,!1)):n("k-box",{attrs:{theme:"negative"}},[n("k-text",{attrs:{size:"small"}},[t._v("\n              The field type "),n("strong",[t._v('"'+t._s(i)+'"')]),t._v(" does not exist\n            ")])],1)],1)],1):t._e()]}))],2)],1)},jr=[],Cr={props:{config:Object,disabled:Boolean,fields:{type:[Array,Object],default:function(){return[]}},novalidate:{type:Boolean,default:!1},value:{type:Object,default:function(){return{}}}},data:function(){return{errors:{}}},methods:{focus:function(t){if(t)this.hasField(t)&&"function"===typeof this.$refs[t][0].focus&&this.$refs[t][0].focus();else{var e=Object.keys(this.$refs)[0];this.focus(e)}},hasFieldType:function(t){return this.$helper.isComponent("k-".concat(t,"-field"))},hasField:function(t){return this.$refs[t]&&this.$refs[t][0]},meetsCondition:function(t){var e=this;if(!t.when)return!0;var n=!0;return Object.keys(t.when).forEach((function(i){var r=e.value[i.toLowerCase()],s=t.when[i];r!==s&&(n=!1)})),n},onInvalid:function(t,e,n,i){this.errors[i]=e,this.$emit("invalid",this.errors)},hasErrors:function(){return Object.keys(this.errors).length}}},Sr=Cr,Er=(n("862b"),Object(f["a"])(Sr,Or,jr,!1,null,null,null)),Rr=Er.exports,Tr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-input",attrs:{"data-disabled":t.disabled,"data-invalid":!t.novalidate&&t.isInvalid,"data-theme":t.theme,"data-type":t.type}},[t.$slots.before||t.before?n("span",{staticClass:"k-input-before",on:{click:t.focus}},[t._t("before",[t._v(t._s(t.before))])],2):t._e(),n("span",{staticClass:"k-input-element",on:{click:function(e){return e.stopPropagation(),t.focus(e)}}},[t._t("default",[n("k-"+t.type+"-input",t._g(t._b({ref:"input",tag:"component",attrs:{value:t.value}},"component",t.inputProps,!1),t.listeners))])],2),t.$slots.after||t.after?n("span",{staticClass:"k-input-after",on:{click:t.focus}},[t._t("after",[t._v(t._s(t.after))])],2):t._e(),t.$slots.icon||t.icon?n("span",{staticClass:"k-input-icon",on:{click:t.focus}},[t._t("icon",[n("k-icon",{attrs:{type:t.icon}})])],2):t._e()])},Lr=[],Ir={inheritAttrs:!1,props:{after:String,before:String,disabled:Boolean,type:String,icon:[String,Boolean],invalid:Boolean,theme:String,novalidate:{type:Boolean,default:!1},value:{type:[String,Boolean,Number,Object,Array],default:null}},data:function(){var t=this;return{isInvalid:this.invalid,listeners:Object(x["a"])(Object(x["a"])({},this.$listeners),{},{invalid:function(e,n){t.isInvalid=e,t.$emit("invalid",e,n)}})}},computed:{inputProps:function(){return Object(x["a"])(Object(x["a"])({},this.$props),this.$attrs)}},methods:{blur:function(t){t&&t.relatedTarget&&!1===this.$el.contains(t.relatedTarget)&&this.trigger(null,"blur")},focus:function(t){this.trigger(t,"focus")},select:function(t){this.trigger(t,"select")},trigger:function(t,e){if(t&&t.target&&"INPUT"===t.target.tagName&&"function"===typeof t.target[e])t.target[e]();else if(this.$refs.input&&"function"===typeof this.$refs.input[e])this.$refs.input[e]();else{var n=this.$el.querySelector("input, select, textarea");n&&"function"===typeof n[e]&&n[e]()}}}},Ar=Ir,Br=(n("c7c8"),Object(f["a"])(Ar,Tr,Lr,!1,null,null,null)),Dr=Br.exports,Mr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"k-login-form",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[n("h1",{staticClass:"k-offscreen"},[t._v(t._s(t.$t("login")))]),t.issue?n("div",{staticClass:"k-login-alert",on:{click:function(e){t.issue=null}}},[n("span",[t._v(t._s(t.issue))]),n("k-icon",{attrs:{type:"alert"}})],1):t._e(),n("div",{staticClass:"k-login-fields"},[!0===t.canToggle?n("button",{staticClass:"k-login-toggler",attrs:{type:"button"},on:{click:t.toggleForm}},[t._v("\n      "+t._s(t.toggleText)+"\n    ")]):t._e(),n("k-fieldset",{ref:"fieldset",attrs:{novalidate:!0,fields:t.fields},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})],1),n("div",{staticClass:"k-login-buttons"},[!1===t.isResetForm?n("span",{staticClass:"k-login-checkbox"},[n("k-checkbox-input",{attrs:{value:t.user.remember,label:t.$t("login.remember")},on:{input:function(e){t.user.remember=e}}})],1):t._e(),n("k-button",{staticClass:"k-login-button",attrs:{icon:"check",type:"submit"}},[t._v("\n      "+t._s(t.$t("login"+(t.isResetForm?".reset":"")))+"\n      "),t.isLoading?[t._v("…")]:t._e()],2)],1)])},Nr=[],Pr={data:function(){return{currentForm:null,isLoading:!1,issue:"",user:{email:"",password:"",remember:!1}}},computed:{canToggle:function(){var t=this.$store.state.system.info.loginMethods;return null!==this.codeMode&&!0===t.includes("password")&&(!0===t.includes("password-reset")||!0===t.includes("code"))},codeMode:function(){var t=this.$store.state.system.info.loginMethods;return!0===t.includes("password-reset")?"password-reset":!0===t.includes("code")?"code":null},fields:function(){var t={email:{autofocus:!0,label:this.$t("email"),type:"email",required:!0,link:!1}};return"email-password"===this.form&&(t.password={label:this.$t("password"),type:"password",minLength:8,required:!0,autocomplete:"current-password",counter:!1}),t},form:function(){return this.currentForm?this.currentForm:"password"===this.$store.state.system.info.loginMethods[0]?"email-password":"email"},isResetForm:function(){return"password-reset"===this.codeMode&&"email"===this.form},toggleText:function(){return this.$t("login.toggleText."+this.codeMode+"."+this.formOpposite(this.form))}},methods:{formOpposite:function(t){return"email-password"===t?"email":"email-password"},login:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.issue=null,t.isLoading=!0,n=Object.assign({},t.user),"email"===t.currentForm&&(n.password=null),!0===t.isResetForm&&(n.remember=!1),e.prev=5,e.next=8,t.$api.auth.login(n);case 8:if(i=e.sent,!i.challenge){e.next=13;break}t.$store.dispatch("user/pending",{email:n.email,challenge:i.challenge}),e.next=17;break;case 13:return t.$store.dispatch("user/login",i.user),e.next=16,t.$store.dispatch("system/load",!0);case 16:t.$store.dispatch("notification/success",t.$t("welcome"));case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](5),t.issue=e.t0.message;case 22:return e.prev=22,t.isLoading=!1,e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[5,19,22,25]])})))()},toggleForm:function(){this.currentForm=this.formOpposite(this.form),this.$refs.fieldset.focus("email")}}},qr=Pr,Fr=Object(f["a"])(qr,Mr,Nr,!1,null,null,null),Ur=Fr.exports,zr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"k-login-form k-login-code-form",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[n("h1",{staticClass:"k-offscreen"},[t._v(t._s(t.$t("login")))]),t.issue?n("div",{staticClass:"k-login-alert",on:{click:function(e){t.issue=null}}},[n("span",[t._v(t._s(t.issue))]),n("k-icon",{attrs:{type:"alert"}})],1):t._e(),n("k-user-info",{attrs:{user:t.$store.state.user.pendingEmail}}),n("k-text-field",{attrs:{autofocus:!0,counter:!1,help:t.$t("login.code.text."+t.$store.state.user.pendingChallenge),label:t.$t("login.code.label."+t.mode),novalidate:!0,placeholder:t.$t("login.code.placeholder."+t.$store.state.user.pendingChallenge),required:!0,autocomplete:"one-time-code",icon:"unlock",name:"code"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),n("div",{staticClass:"k-login-buttons"},[n("k-button",{staticClass:"k-login-button k-login-back-button",attrs:{icon:"angle-left"},on:{click:t.back}},[t._v("\n      "+t._s(t.$t("back"))+" "),t.isLoadingBack?[t._v("…")]:t._e()],2),n("k-button",{staticClass:"k-login-button",attrs:{icon:"check",type:"submit"}},[t._v("\n      "+t._s(t.$t("login"+("password-reset"===t.mode?".reset":"")))+"\n      "),t.isLoadingLogin?[t._v("…")]:t._e()],2)],1)],1)},Hr=[],Kr={data:function(){return{code:"",isLoadingBack:!1,isLoadingLogin:!1,issue:""}},computed:{mode:function(){return!0===this.$store.state.system.info.loginMethods.includes("password-reset")?"password-reset":"login"}},methods:{back:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoadingBack=!0,e.next=3,t.$store.dispatch("user/logout");case 3:t.isLoadingBack=!1;case 4:case"end":return e.stop()}}),e)})))()},login:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.issue=null,t.isLoadingLogin=!0,e.prev=2,e.next=5,t.$api.auth.verifyCode(t.code);case 5:return n=e.sent,"password-reset"===t.mode&&t.$store.dispatch("user/visit","/reset-password"),t.$store.dispatch("user/login",n.user),e.next=10,t.$store.dispatch("system/load",!0);case 10:t.$store.dispatch("notification/success",t.$t("welcome")),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](2),t.issue=e.t0.message;case 16:return e.prev=16,t.isLoadingLogin=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})))()}}},Yr=Kr,Gr=(n("e1f3"),Object(f["a"])(Yr,zr,Hr,!1,null,null,null)),Wr=Gr.exports,Jr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-upload"},[n("input",{ref:"input",attrs:{accept:t.options.accept,multiple:t.options.multiple,"aria-hidden":"true",type:"file",tabindex:"-1"},on:{change:t.select,click:function(t){t.stopPropagation()}}}),n("k-dialog",{ref:"dialog",attrs:{"cancel-button":!1,"submit-button":!1,size:"medium"}},[t.errors.length>0?[n("k-headline",[t._v(t._s(t.$t("upload.errors")))]),n("ul",{staticClass:"k-upload-error-list"},t._l(t.errors,(function(e,i){return n("li",{key:"error-"+i},[n("p",{staticClass:"k-upload-error-filename"},[t._v(t._s(e.file.name))]),n("p",{staticClass:"k-upload-error-message"},[t._v(t._s(e.message))])])})),0)]:[n("k-headline",[t._v(t._s(t.$t("upload.progress")))]),n("ul",{staticClass:"k-upload-list"},t._l(t.files,(function(e,i){return n("li",{key:"file-"+i},[n("k-progress",{ref:e.name,refInFor:!0}),n("p",{staticClass:"k-upload-list-filename"},[t._v(t._s(e.name))]),n("p",[t._v(t._s(t.errors[e.name]))])],1)})),0)],n("template",{slot:"footer"},[t.errors.length>0?[n("k-button-group",[n("k-button",{attrs:{icon:"check"},on:{click:function(e){return t.$refs.dialog.close()}}},[t._v("\n            "+t._s(t.$t("confirm"))+"\n          ")])],1)]:t._e()],2)],2)],1)},Vr=[],Zr={props:{url:{type:String},accept:{type:String,default:"*"},attributes:{type:Object},multiple:{type:Boolean,default:!0},max:{type:Number}},data:function(){return{options:this.$props,completed:{},errors:[],files:[],total:0}},methods:{open:function(t){var e=this;this.params(t),setTimeout((function(){e.$refs.input.click()}),1)},params:function(t){this.options=Object.assign({},this.$props,t)},select:function(t){this.upload(t.target.files)},drop:function(t,e){this.params(e),this.upload(t)},upload:function(t){var e=this;this.$refs.dialog.open(),this.files=Object(S["a"])(t),this.completed={},this.errors=[],this.hasErrors=!1,this.options.max&&(this.files=this.files.slice(0,this.options.max)),this.total=this.files.length,this.files.forEach((function(t){e.$helper.upload(t,{url:e.options.url,attributes:e.options.attributes,headers:{"X-CSRF":window.panel.csrf},progress:function(t,n,i){e.$refs[n.name]&&e.$refs[n.name][0]&&e.$refs[n.name][0].set(i)},success:function(t,n,i){e.complete(n,i.data)},error:function(t,n,i){e.errors.push({file:n,message:i.message}),e.complete(n,i.data)}})}))},complete:function(t,e){var n=this;if(this.completed[t.name]=e,Object.keys(this.completed).length==this.total){if(this.$refs.input.value="",this.errors.length>0)return this.$forceUpdate(),void this.$emit("error",this.files);setTimeout((function(){n.$refs.dialog.close(),n.$emit("success",n.files,Object.values(n.completed))}),250)}}}},Xr=Zr,Qr=(n("5aee"),Object(f["a"])(Xr,Jr,Vr,!1,null,null,null)),ts=Qr.exports,es=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"editor",staticClass:"k-writer",attrs:{"data-empty":t.isEmpty,"data-placeholder":t.placeholder,spellcheck:t.spellcheck}},[t.editor?[t.toolbar.visible?n("k-writer-toolbar",{ref:"toolbar",style:{bottom:t.toolbar.position.bottom+"px",left:t.toolbar.position.left+"px"},attrs:{editor:t.editor,"active-marks":t.toolbar.marks,"active-nodes":t.toolbar.nodes},on:{command:function(e){return t.editor.command(e)}}}):t._e(),n("k-writer-link-dialog",{ref:"linkDialog",on:{close:function(e){return t.editor.focus()},submit:function(e){return t.editor.command("toggleLink",e)}}})]:t._e()],2)},ns=[],is=(n("13d5"),n("4fad"),n("bf19"),n("ade3")),rs=n("3835"),ss=n("d4ec"),as=n("bee2"),os=n("262e"),us=n("2caf"),cs=n("5313"),ls=n("576a"),ps=n("304a"),ds=n("7f06"),fs=n("0010"),hs=n("f95e"),ms=n("665f");n("7db0");function gs(t,e){var n=t.selection,i=n.from,r=n.to,s=[];t.doc.nodesBetween(i,r,(function(t){s=[].concat(Object(S["a"])(s),Object(S["a"])(t.marks))}));var a=s.find((function(t){return t.type.name===e.name}));return a?a.attrs:{}}n("baa5");function bs(t,e,n){var i=[];return n.doc.nodesBetween(t,e,(function(t,e){i=[].concat(Object(S["a"])(i),Object(S["a"])(t.marks.map((function(n){return{start:e,end:e+t.nodeSize,mark:n}}))))})),i}var vs=function(t,e,n){return new hs["a"](t,(function(t,i,r,s){var a=n instanceof Function?n(i):n,o=t.tr,u=i.length-1,c=s,l=r;if(i[u]){var p=r+i[0].indexOf(i[u-1]),d=p+i[u-1].length-1,f=p+i[u-1].lastIndexOf(i[u]),h=f+i[u].length,m=bs(r,s,t).filter((function(t){var n=t.mark.type.excluded;return n.find((function(t){return t.name===e.name}))})).filter((function(t){return t.end>p}));if(m.length)return!1;h<d&&o.delete(h,d),f>p&&o.delete(p,f),l=p,c=l+i[u].length}return o.addMark(l,c,e.create(a)),o.removeStoredMark(e),o}))};function ks(t,e){var n=t.selection,i=n.from,r=n.$from,s=n.to,a=n.empty;return a?!!e.isInSet(t.storedMarks||r.marks()):!!t.doc.rangeHasMark(i,s,e)}var $s=function(t,e,n){var i=function i(r,s){var a=[];return r.forEach((function(r){if(r.isText){var o,u=r.text,c=r.marks,l=0,p=!!c.filter((function(t){return"link"===t.type.name}))[0];while(!p&&null!==(o=t.exec(u)))if(s&&s.type.allowsMarkType(e)&&o[1]){var d=o.index,f=d+o[0].length,h=d+o[0].indexOf(o[1]),m=h+o[1].length,g=n instanceof Function?n(o):n;d>0&&a.push(r.cut(l,d)),a.push(r.cut(h,m).mark(e.create(g).addToSet(r.marks))),l=f}l<u.length&&a.push(r.cut(l))}else a.push(r.copy(i(r.content,r)))})),ps["c"].fromArray(a)};return new cs["d"]({props:{transformPasted:function(t){return new ps["j"](i(t.content),t.openStart,t.openEnd)}}})};function ys(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.min(Math.max(parseInt(t,10),e),n)}var ws=function(t,e,n){return new hs["a"](t,(function(t,i,r,s){var a=n instanceof Function?n(i):n,o=t.tr;return i[0]&&o.replaceWith(r-1,s,e.create(a)),o}))},_s=function(t,e){for(var n=t.depth;n>0;n--){var i=t.node(n);if(e(i))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:i}}},xs=function(t){return function(e){var n=e.$from;return _s(n,t)}},Os=function(t){return t instanceof cs["c"]},js=function(t,e){return Array.isArray(t)&&t.indexOf(e.type)>-1||e.type===t},Cs=function(t){return function(e){if(Os(e)){var n=e.node,i=e.$from;if(js(t,n))return{node:n,pos:i.pos,depth:i.depth}}}},Ss=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=function(t){return t.type===e},r=Cs(e)(t.selection)||xs(i)(t.selection);return Object.keys(n).length&&r?r.node.hasMarkup(e,Object(x["a"])(Object(x["a"])({},r.node.attrs),n)):!!r};function Es(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t||!e)return!1;var n=t.parent.childAfter(t.parentOffset);if(!n.node)return!1;var i=n.node.marks.find((function(t){return t.type===e}));if(!i)return!1;var r=t.index(),s=t.start()+n.offset,a=r+1,o=s+n.node.nodeSize;while(r>0&&i.isInSet(t.parent.child(r-1).marks))r-=1,s-=t.parent.child(r).nodeSize;while(a<t.parent.childCount&&i.isInSet(t.parent.child(a).marks))o+=t.parent.child(a).nodeSize,a+=1;return{from:s,to:o}}var Rs=function(t){return function(e,n){var i=e.tr,r=e.selection,s=r.from,a=r.to,o=r.$from,u=r.empty;if(u){var c=Es(o,t);s=c.from,a=c.to}return i.removeMark(s,a,t),n(i)}},Ts=function(t,e,n){var i=function i(r){var s=[];return r.forEach((function(r){if(r.isText){var a,o=r.text,u=0;do{if(a=t.exec(o),a){var c=a.index,l=c+a[0].length,p=n instanceof Function?n(a[0]):n;c>0&&s.push(r.cut(u,c)),s.push(r.cut(c,l).mark(e.create(p).addToSet(r.marks))),u=l}}while(a);u<o.length&&s.push(r.cut(u))}else s.push(r.copy(i(r.content)))})),ps["c"].fromArray(s)};return new cs["d"]({props:{transformPasted:function(t){return new ps["j"](i(t.content),t.openStart,t.openEnd)}}})},Ls=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(i,r,s){var a=Ss(i,t,n);return a?Object(fs["d"])(e)(i,r,s):Object(fs["d"])(t,n)(i,r,s)}};function Is(t,e){return t.type===e.nodes.bulletList||t.type===e.nodes.orderedList||t.type===e.nodes.todoList}function As(t,e){return function(n,i,r){var s=n.schema,a=n.selection,o=a.$from,u=a.$to,c=o.blockRange(u);if(!c)return!1;var l=xs((function(t){return Is(t,s)}))(a);if(c.depth>=1&&l&&c.depth-l.depth<=1){if(l.node.type===t)return Object(ms["b"])(e)(n,i,r);if(Is(l.node,s)&&t.validContent(l.node.content)){var p=n.tr;return p.setNodeMarkup(l.pos,t),i&&i(p),!1}}return Object(ms["e"])(t)(n,i,r)}}var Bs,Ds,Ms,Ns,Ps,qs,Fs,Us,zs,Hs,Ks,Ys,Gs=function(t,e){return function(n,i){var r=n.tr,s=n.selection,a=n.doc,o=s.ranges,u=s.empty;if(u){var c=Es(s.$from,t),l=c.from,p=c.to;a.rangeHasMark(l,p,t)&&r.removeMark(l,p,t),r.addMark(l,p,t.create(e))}else o.forEach((function(n){var i=n.$to,s=n.$from;a.rangeHasMark(s.pos,i.pos,t)&&r.removeMark(s.pos,i.pos,t),r.addMark(s.pos,i.pos,t.create(e))}));return i(r)}},Ws={chainCommands:fs["b"],exitCode:fs["c"],setBlockType:fs["d"],toggleMark:fs["e"],wrappingInputRule:hs["e"],textblockTypeInputRule:hs["c"],addListNodes:ms["a"],wrapInList:ms["e"],splitListItem:ms["d"],liftListItem:ms["b"],sinkListItem:ms["c"],getMarkAttrs:gs,markInputRule:vs,markIsActive:ks,markPasteRule:$s,minMax:ys,nodeIsActive:Ss,nodeInputRule:ws,pasteRule:Ts,removeMark:Rs,toggleBlockType:Ls,toggleList:As,updateMark:Gs},Js=function(){function t(){Object(ss["a"])(this,t)}return Object(as["a"])(t,[{key:"emit",value:function(t){for(var e=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];this._callbacks=this._callbacks||{};var s=this._callbacks[t];return s&&s.forEach((function(t){return t.apply(e,i)})),this}},{key:"off",value:function(t,e){if(arguments.length){var n=this._callbacks?this._callbacks[t]:null;n&&(e?this._callbacks[t]=n.filter((function(t){return t!==e})):delete this._callbacks[t])}else this._callbacks={};return this}},{key:"on",value:function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]=this._callbacks[t]||[],this._callbacks[t].push(e),this}}]),t}(),Vs=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;Object(ss["a"])(this,t),e.forEach((function(t){t.bindEditor(n),t.init()})),this.extensions=e}return Object(as["a"])(t,[{key:"commands",value:function(t){var e=t.schema,n=t.view;return this.extensions.filter((function(t){return t.commands})).reduce((function(t,i){var r=i.name,s=i.type,a={},o=i.commands(Object(x["a"])({schema:e,utils:Ws},["node","mark"].includes(s)?{type:e["".concat(s,"s")][r]}:{})),u=function(t,e){a[t]=function(t){if("function"!==typeof e||!n.editable)return!1;n.focus();var i=e(t);return"function"===typeof i?i(n.state,n.dispatch,n):i}};return"object"===Object(me["a"])(o)?Object.entries(o).forEach((function(t){var e=Object(rs["a"])(t,2),n=e[0],i=e[1];u(n,i)})):u(r,o),Object(x["a"])(Object(x["a"])({},t),a)}),{})}},{key:"buttons",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mark",e={};return this.extensions.filter((function(e){return e.type===t})).filter((function(t){return t.button})).forEach((function(t){Array.isArray(t.button)?t.button.forEach((function(n,i){e[t.name+"-"+i]=n})):e[t.name]=t.button})),e}},{key:"getAllowedExtensions",value:function(t){return t instanceof Array||!t?t instanceof Array?this.extensions.filter((function(e){return!t.includes(e.name)})):this.extensions:[]}},{key:"getFromExtensions",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.extensions;return n.filter((function(t){return["extension"].includes(t.type)})).filter((function(e){return e[t]})).map((function(n){return n[t](Object(x["a"])(Object(x["a"])({},e),{},{utils:Ws}))}))}},{key:"getFromNodesAndMarks",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.extensions;return n.filter((function(t){return["node","mark"].includes(t.type)})).filter((function(e){return e[t]})).map((function(n){return n[t](Object(x["a"])(Object(x["a"])({},e),{},{type:e.schema["".concat(n.type,"s")][n.name],utils:Ws}))}))}},{key:"inputRules",value:function(t){var e=t.schema,n=t.excludedExtensions,i=this.getAllowedExtensions(n),r=this.getFromExtensions("inputRules",{schema:e},i),s=this.getFromNodesAndMarks("inputRules",{schema:e},i);return[].concat(Object(S["a"])(r),Object(S["a"])(s)).reduce((function(t,e){return[].concat(Object(S["a"])(t),Object(S["a"])(e))}),[])}},{key:"keymaps",value:function(t){var e=t.schema,n=this.getFromExtensions("keys",{schema:e}),i=this.getFromNodesAndMarks("keys",{schema:e});return[].concat(Object(S["a"])(n),Object(S["a"])(i)).map((function(t){return Object(ds["a"])(t)}))}},{key:"pasteRules",value:function(t){var e=t.schema,n=t.excludedExtensions,i=this.getAllowedExtensions(n),r=this.getFromExtensions("pasteRules",{schema:e},i),s=this.getFromNodesAndMarks("pasteRules",{schema:e},i);return[].concat(Object(S["a"])(r),Object(S["a"])(s)).reduce((function(t,e){return[].concat(Object(S["a"])(t),Object(S["a"])(e))}),[])}},{key:"plugins",value:function(t){var e=t.schema,n=this.getFromExtensions("plugins",{schema:e}),i=this.getFromNodesAndMarks("plugins",{schema:e});return[].concat(Object(S["a"])(n),Object(S["a"])(i)).reduce((function(t,e){return[].concat(Object(S["a"])(t),Object(S["a"])(e))}),[]).map((function(t){return t instanceof cs["d"]?t:new cs["d"](t)}))}},{key:"marks",get:function(){return this.extensions.filter((function(t){return"mark"===t.type})).reduce((function(t,e){var n=e.name,i=e.schema;return Object(x["a"])(Object(x["a"])({},t),{},Object(is["a"])({},n,i))}),{})}},{key:"nodes",get:function(){return this.extensions.filter((function(t){return"node"===t.type})).reduce((function(t,e){var n=e.name,i=e.schema;return Object(x["a"])(Object(x["a"])({},t),{},Object(is["a"])({},n,i))}),{})}},{key:"options",get:function(){var t=this.view;return this.extensions.reduce((function(e,n){return Object(x["a"])(Object(x["a"])({},e),{},Object(is["a"])({},n.name,new Proxy(n.options,{set:function(e,n,i){var r=e[n]!==i;return Object.assign(e,Object(is["a"])({},n,i)),r&&t.updateState(t.state),!0}})))}),{})}}]),t}(),Zs=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ss["a"])(this,t),this.options=Object(x["a"])(Object(x["a"])({},this.defaults),e)}return Object(as["a"])(t,[{key:"init",value:function(){return null}},{key:"bindEditor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.editor=t}},{key:"plugins",value:function(){return[]}},{key:"inputRules",value:function(){return[]}},{key:"pasteRules",value:function(){return[]}},{key:"keys",value:function(){return{}}},{key:"name",get:function(){return null}},{key:"type",get:function(){return"extension"}},{key:"defaults",get:function(){return{}}}]),t}(),Xs=function(t){Object(os["a"])(n,t);var e=Object(us["a"])(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(ss["a"])(this,n),e.call(this,t)}return Object(as["a"])(n,[{key:"commands",value:function(){return{}}},{key:"type",get:function(){return"node"}},{key:"schema",get:function(){return null}}]),n}(Zs),Qs=function(t){Object(os["a"])(n,t);var e=Object(us["a"])(n);function n(){return Object(ss["a"])(this,n),e.apply(this,arguments)}return Object(as["a"])(n,[{key:"defaults",get:function(){return{inline:!1}}},{key:"name",get:function(){return"doc"}},{key:"schema",get:function(){return{content:this.options.inline?"paragraph+":"block+"}}}]),n}(Xs),ta=function(t){Object(os["a"])(n,t);var e=Object(us["a"])(n);function n(){return Object(ss["a"])(this,n),e.apply(this,arguments)}return Object(as["a"])(n,[{key:"commands",value:function(t){var e=t.utils,n=t.type;return{paragraph:function(){return e.setBlockType(n)}}}},{key:"schema",get:function(){return{content:"inline*",group:"block",draggable:!1,parseDOM:[{tag:"p"}],toDOM:function(){return["p",0]}}}},{key:"name",get:function(){return"paragraph"}}]),n}(Xs),ea=function(t){Object(os["a"])(n,t);var e=Object(us["a"])(n);function n(){return Object(ss["a"])(this,n),e.apply(this,arguments)}return Object(as["a"])(n,[{key:"name",get:function(){return"text"}},{key:"schema",get:function(){return{group:"inline"}}}]),n}(Xs),na=function(t){Object(os["a"])(n,t);var e=Object(us["a"])(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(ss["a"])(this,n),t=e.call(this),t.defaults={autofocus:!1,content:"",disableInputRules:!1,disablePasteRules:!1,editable:!0,element:null,extensions:[],emptyDocument:{type:"doc",content:[]},events:{},inline:!1,parseOptions:{},topNode:"doc",useBuiltInExtensions:!0},t.init(i),t}return Object(as["a"])(n,[{key:"blur",value:function(){this.view.dom.blur()}},{key:"buttons",value:function(t){return this.extensions.buttons(t)}},{key:"clearContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setContent(this.options.emptyDocument,t)}},{key:"command",value:function(t){if(this.commands[t]){for(var e,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(e=this.commands)[t].apply(e,i)}}},{key:"createCommands",value:function(){return this.extensions.commands({schema:this.schema,view:this.view})}},{key:"createDocument",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.parseOptions;if(null===t)return this.schema.nodeFromJSON(this.options.emptyDocument);if("object"===Object(me["a"])(t))try{return this.schema.nodeFromJSON(t)}catch(s){return window.console.warn("Invalid content.","Passed value:",t,"Error:",s),this.schema.nodeFromJSON(this.options.emptyDocument)}if("string"===typeof t){var n="<div>".concat(t,"</div>"),i=new window.DOMParser,r=i.parseFromString(n,"text/html").body.firstElementChild;return ps["a"].fromSchema(this.schema).parse(r,e)}return!1}},{key:"createEvents",value:function(){var t=this,e=this.options.events||{};return Object.entries(e).forEach((function(e){var n=Object(rs["a"])(e,2),i=n[0],r=n[1];t.on(i,r)})),e}},{key:"createExtensions",value:function(){return new Vs([].concat(Object(S["a"])(this.builtInExtensions),Object(S["a"])(this.options.extensions)),this)}},{key:"createFocusEvents",value:function(){var t=this,e=function(e,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t.focused=i,t.emit(i?"focus":"blur",{event:n,state:e.state,view:e});var r=t.state.tr.setMeta("focused",i);t.view.dispatch(r)};return new cs["d"]({props:{attributes:{tabindex:0},handleDOMEvents:{focus:function(t,n){e(t,n,!0)},blur:function(t,n){e(t,n,!1)}}}})}},{key:"createInputRules",value:function(){return this.extensions.inputRules({schema:this.schema,excludedExtensions:this.options.disableInputRules})}},{key:"createKeymaps",value:function(){return this.extensions.keymaps({schema:this.schema})}},{key:"createMarks",value:function(){return this.extensions.marks}},{key:"createNodes",value:function(){return this.extensions.nodes}},{key:"createPasteRules",value:function(){return this.extensions.pasteRules({schema:this.schema,excludedExtensions:this.options.disablePasteRules})}},{key:"createPlugins",value:function(){return this.extensions.plugins({schema:this.schema})}},{key:"createSchema",value:function(){return new ps["i"]({topNode:this.options.topNode,nodes:this.nodes,marks:this.marks})}},{key:"createState",value:function(){return cs["b"].create({schema:this.schema,doc:this.createDocument(this.options.content),plugins:[].concat(Object(S["a"])(this.plugins),[Object(hs["b"])({rules:this.inputRules})],Object(S["a"])(this.pasteRules),Object(S["a"])(this.keymaps),[Object(ds["a"])({Backspace:hs["d"]}),Object(ds["a"])(fs["a"]),this.createFocusEvents()])})}},{key:"createView",value:function(){var t=this;return new ls["a"](this.element,{dispatchTransaction:this.dispatchTransaction.bind(this),editable:function(){return t.options.editable},handlePaste:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.emit.apply(t,["paste"].concat(n))},handleDrop:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.emit.apply(t,["drop"].concat(n))},state:this.createState()})}},{key:"destroy",value:function(){this.view&&this.view.destroy()}},{key:"dispatchTransaction",value:function(t){var e=this.state,n=this.state.apply(t);this.view.updateState(n),this.selection={from:this.state.selection.from,to:this.state.selection.to},this.setActiveNodesAndMarks();var i={getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:t};this.emit("transaction",i),!t.docChanged&&t.getMeta("preventUpdate")||this.emit("update",i);var r=this.state.selection,s=r.from,a=r.to,o=!e||!e.selection.eq(n.selection);this.emit(n.selection.empty?"deselect":"select",Object(x["a"])(Object(x["a"])({},i),{},{from:s,hasChanged:o,to:a}))}},{key:"focus",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!(this.view.focused&&null===e||!1===e)){var n=this.selectionAtPosition(e),i=n.from,r=n.to;this.setSelection(i,r),setTimeout((function(){return t.view.focus()}),10)}}},{key:"getHTML",value:function(){var t=document.createElement("div"),e=ps["b"].fromSchema(this.schema).serializeFragment(this.state.doc.content);return t.appendChild(e),this.options.inline&&t.querySelector("p")?t.querySelector("p").innerHTML:t.innerHTML}},{key:"getJSON",value:function(){return this.state.doc.toJSON()}},{key:"getMarkAttrs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.activeMarkAttrs[t]}},{key:"getSchemaJSON",value:function(){return JSON.parse(JSON.stringify({nodes:this.nodes,marks:this.marks}))}},{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=Object(x["a"])(Object(x["a"])({},this.defaults),t),this.element=this.options.element,this.focused=!1,this.selection={from:0,to:0},this.events=this.createEvents(),this.extensions=this.createExtensions(),this.nodes=this.createNodes(),this.marks=this.createMarks(),this.schema=this.createSchema(),this.keymaps=this.createKeymaps(),this.inputRules=this.createInputRules(),this.pasteRules=this.createPasteRules(),this.plugins=this.createPlugins(),this.view=this.createView(),this.commands=this.createCommands(),this.setActiveNodesAndMarks(),!1!==this.options.autofocus&&this.focus(this.options.autofocus),this.emit("init",{view:this.view,state:this.state}),this.extensions.view=this.view}},{key:"isEditable",value:function(){return this.options.editable}},{key:"isEmpty",value:function(){if(this.state)return 0===this.state.doc.textContent.length}},{key:"removeMark",value:function(t){if(this.schema.marks[t])return Ws.removeMark(this.schema.marks[t])(this.state,this.view.dispatch)}},{key:"selectionAtPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.selection&&null===t)return this.selection;if("start"===t||!0===t)return{from:0,to:0};if("end"===t){var e=this.state.doc;return{from:e.content.size,to:e.content.size}}return{from:t,to:t}}},{key:"setActiveNodesAndMarks",value:function(){var t=this;this.activeMarks=Object.values(this.schema.marks).filter((function(e){return Ws.markIsActive(t.state,e)})).map((function(t){return t.name})),this.activeMarkAttrs=Object.entries(this.schema.marks).reduce((function(e,n){var i=Object(rs["a"])(n,2),r=i[0],s=i[1];return Object(x["a"])(Object(x["a"])({},e),{},Object(is["a"])({},r,Ws.getMarkAttrs(t.state,s)))}),{}),this.activeNodes=Object.values(this.schema.nodes).filter((function(e){return Ws.nodeIsActive(t.state,e)})).map((function(t){return t.name}))}},{key:"setContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=this.state,r=i.doc,s=i.tr,a=this.createDocument(t,n),o=cs["g"].create(r,0,r.content.size),u=s.setSelection(o).replaceSelectionWith(a,!1).setMeta("preventUpdate",!e);this.view.dispatch(u)}},{key:"setSelection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.state,i=n.doc,r=n.tr,s=Ws.minMax(t,0,i.content.size),a=Ws.minMax(e,0,i.content.size),o=cs["g"].create(i,s,a),u=r.setSelection(o);this.view.dispatch(u)}},{key:"toggleMark",value:function(t){if(this.schema.marks[t])return Ws.toggleMark(this.schema.marks[t])(this.state,this.view.dispatch)}},{key:"updateMark",value:function(t,e){if(this.schema.marks[t])return Ws.updateMark(this.schema.marks[t],e)(this.state,this.view.dispatch)}},{key:"builtInExtensions",get:function(){return this.options.useBuiltInExtensions?[new Qs({inline:this.options.inline}),new ea,new ta]:[]}},{key:"isActive",get:function(){return Object.entries(Object(x["a"])(Object(x["a"])({},this.activeMarks),this.activeNodes)).reduce((function(t,e){var n=Object(rs["a"])(e,2),i=n[0],r=n[1];return Object(x["a"])(Object(x["a"])({},t),{},Object(is["a"])({},i,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(t)})))}),{})}},{key:"state",get:function(){return this.view?this.view.state:null}}]),n}(Js),ia=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-form-dialog",{ref:"dialog",attrs:{fields:t.fields,"submit-button":t.$t("confirm"),size:"medium"},on:{close:function(e){return t.$emit("close")},submit:t.submit},model:{value:t.link,callback:function(e){t.link=e},expression:"link"}})},ra=[],sa={data:function(){return{link:{href:null,title:null,target:!1}}},computed:{fields:function(){return{href:{label:"URL",type:"text",icon:"url"},title:{label:"Title",type:"text",icon:"title"},target:{label:"Open in new window",type:"toggle",text:["no","yes"]}}}},methods:{open:function(t){this.link=Object(x["a"])({title:null,target:!1},t),this.link.target=Boolean(this.link.target),this.$refs.dialog.open()},submit:function(){this.$emit("submit",Object(x["a"])(Object(x["a"])({},this.link),{},{target:this.link.target?"_blank":null})),this.$refs.dialog.close()}}},aa=sa,oa=Object(f["a"])(aa,ia,ra,!1,null,null,null),ua=oa.exports,ca=function(t){Object(os["a"])(n,t);var e=Object(us["a"])(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(ss["a"])(this,n),e.call(this,t)}return Object(as["a"])(n,[{key:"command",value:function(){return function(){}}},{key:"remove",value:function(){this.editor.removeMark(this.name)}},{key:"toggle",value:function(){return this.editor.toggleMark(this.name)}},{key:"update",value:function(t){this.editor.updateMark(this.name,t)}},{key:"schema",get:function(){return null}},{key:"type",get:function(){return"mark"}}]),n}(Zs),la=function(t){Object(os["a"])(n,t);var e=Object(us["a"])(n);function n(){return Object(ss["a"])(this,n),e.apply(this,arguments)}return Object(as["a"])(n,[{key:"commands",value:function(){var t=this;return function(){return t.toggle()}}},{key:"inputRules",value:function(t){var e=t.type,n=t.utils;return[n.markInputRule(/(?:`)([^`]+)(?:`)$/,e)]}},{key:"keys",value:function(){var t=this;return{"Mod-`":function(){return t.toggle()}}}},{key:"pasteRules",value:function(t){var e=t.type,n=t.utils;return[n.markPasteRule(/(?:`)([^`]+)(?:`)/g,e)]}},{key:"button",get:function(){return{icon:"code",label:"Code"}}},{key:"name",get:function(){return"code"}},{key:"schema",get:function(){return{excludes:"_",parseDOM:[{tag:"code"}],toDOM:function(){return["code",0]}}}}]),n}(ca),pa=function(t){Object(os["a"])(n,t);var e=Object(us["a"])(n);function n(){return Object(ss["a"])(this,n),e.apply(this,arguments)}return Object(as["a"])(n,[{key:"commands",value:function(){var t=this;return function(){return t.toggle()}}},{key:"inputRules",value:function(t){var e=t.type,n=t.utils;return[n.markInputRule(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,e)]}},{key:"keys",value:function(){var t=this;return{"Mod-b":function(){return t.toggle()}}}},{key:"pasteRules",value:function(t){var e=t.type,n=t.utils;return[n.markPasteRule(/(?:\*\*|__)([^*_]+)(?:\*\*|__)/g,e)]}},{key:"button",get:function(){return{icon:"bold",label:"Bold"}}},{key:"name",get:function(){return"bold"}},{key:"schema",get:function(){return{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(t){return"normal"!==t.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(t){return/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}}],toDOM:function(){return["strong",0]}}}}]),n}(ca),da=function(t){Object(os["a"])(n,t);var e=Object(us["a"])(n);function n(){return Object(ss["a"])(this,n),e.apply(this,arguments)}return Object(as["a"])(n,[{key:"commands",value:function(){var t=this;return function(){return t.toggle()}}},{key:"inputRules",value:function(t){var e=t.type,n=t.utils;return[n.markInputRule(/(?:^|[^_])(_([^_]+)_)$/,e),n.markInputRule(/(?:^|[^*])(\*([^*]+)\*)$/,e)]}},{key:"keys",value:function(){var t=this;return{"Mod-i":function(){return t.toggle()}}}},{key:"pasteRules",value:function(t){var e=t.type,n=t.utils;return[n.markPasteRule(/_([^_]+)_/g,e),n.markPasteRule(/\*([^*]+)\*/g,e)]}},{key:"button",get:function(){return{icon:"italic",label:"Italic"}}},{key:"name",get:function(){return"italic"}},{key:"schema",get:function(){return{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return["em",0]}}}}]),n}(ca),fa=function(t){Object(os["a"])(n,t);var e=Object(us["a"])(n);function n(){return Object(ss["a"])(this,n),e.apply(this,arguments)}return Object(as["a"])(n,[{key:"commands",value:function(){var t=this;return{link:function(){t.editor.emit("link")},insertLink:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.href)return t.update(e)},removeLink:function(){return t.remove()},toggleLink:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.href&&e.href.length>0?t.editor.command("insertLink",e):t.editor.command("removeLink")}}}},{key:"pasteRules",value:function(t){var e=t.type,n=t.utils;return[n.pasteRule(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z]{2,}\b([-a-zA-Z0-9@:%_+.~#?&//=,]*)/gi,e,(function(t){return{href:t}}))]}},{key:"plugins",value:function(){var t=this;return[{props:{handleClick:function(e,n,i){var r=t.editor.getMarkAttrs("link");r.href&&!0===i.altKey&&i.target instanceof HTMLAnchorElement&&(i.stopPropagation(),window.open(r.href,r.target))}}}]}},{key:"button",get:function(){return{icon:"url",label:"Link"}}},{key:"defaults",get:function(){return{target:null}}},{key:"name",get:function(){return"link"}},{key:"schema",get:function(){return{attrs:{href:{default:null},target:{default:null},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(t){return{href:t.getAttribute("href"),target:t.getAttribute("target")}}}],toDOM:function(t){return["a",Object(x["a"])(Object(x["a"])({},t.attrs),{},{rel:"noopener noreferrer nofollow"}),0]}}}}]),n}(ca),ha=function(t){Object(os["a"])(n,t);var e=Object(us["a"])(n);function n(){return Object(ss["a"])(this,n),e.apply(this,arguments)}return Object(as["a"])(n,[{key:"commands",value:function(){var t=this;return function(){return t.toggle()}}},{key:"inputRules",value:function(t){var e=t.type,n=t.utils;return[n.markInputRule(/~([^~]+)~$/,e)]}},{key:"keys",value:function(){var t=this;return{"Mod-d":function(){return t.toggle()}}}},{key:"pasteRules",value:function(t){var e=t.type,n=t.utils;return[n.markPasteRule(/~([^~]+)~/g,e)]}},{key:"button",get:function(){return{icon:"strikethrough",label:"Strike-through"}}},{key:"name",get:function(){return"strike"}},{key:"schema",get:function(){return{parseDOM:[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",getAttrs:function(t){return"line-through"===t}}],toDOM:function(){return["s",0]}}}}]),n}(ca),ma=function(t){Object(os["a"])(n,t);var e=Object(us["a"])(n);function n(){return Object(ss["a"])(this,n),e.apply(this,arguments)}return Object(as["a"])(n,[{key:"commands",value:function(){var t=this;return function(){return t.toggle()}}},{key:"keys",value:function(){var t=this;return{"Mod-u":function(){return t.toggle()}}}},{key:"button",get:function(){return{icon:"underline",label:"Underline"}}},{key:"name",get:function(){return"underline"}},{key:"schema",get:function(){return{parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:function(t){return"underline"===t}}],toDOM:function(){return["u",0]}}}}]),n}(ca),ga=function(t){Object(os["a"])(n,t);var e=Object(us["a"])(n);function n(){return Object(ss["a"])(this,n),e.apply(this,arguments)}return Object(as["a"])(n,[{key:"commands",value:function(t){var e=t.type,n=t.schema,i=t.utils;return function(){return i.toggleList(e,n.nodes.listItem)}}},{key:"inputRules",value:function(t){var e=t.type,n=t.utils;return[n.wrappingInputRule(/^\s*([-+*])\s$/,e)]}},{key:"keys",value:function(t){var e=t.type,n=t.schema,i=t.utils;return{"Shift-Ctrl-8":i.toggleList(e,n.nodes.listItem)}}},{key:"button",get:function(){return{label:"Bullet list",icon:"list-bullet"}}},{key:"name",get:function(){return"bulletList"}},{key:"schema",get:function(){return{content:"listItem+",group:"block",parseDOM:[{tag:"ul"}],toDOM:function(){return["ul",0]}}}}]),n}(Xs),ba=function(t){Object(os["a"])(n,t);var e=Object(us["a"])(n);function n(){return Object(ss["a"])(this,n),e.apply(this,arguments)}return Object(as["a"])(n,[{key:"commands",value:function(t){var e=this,n=t.utils,i=t.type;return function(){return e.createHardBreak(n,i)}}},{key:"createHardBreak",value:function(t,e){return t.chainCommands(t.exitCode,(function(t,n){return n(t.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0}))}},{key:"keys",value:function(t){var e=t.utils,n=t.type,i=this.createHardBreak(e,n),r={"Mod-Enter":i,"Shift-Enter":i};return this.options.enter&&(r["Enter"]=i),r}},{key:"defaults",get:function(){return{enter:!1,text:!1}}},{key:"name",get:function(){return"hardBreak"}},{key:"schema",get:function(){return{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}}}}]),n}(Xs),va=function(t){Object(os["a"])(n,t);var e=Object(us["a"])(n);function n(){return Object(ss["a"])(this,n),e.apply(this,arguments)}return Object(as["a"])(n,[{key:"commands",value:function(t){var e=t.type,n=t.schema,i=t.utils,r={toggleHeading:function(t){return i.toggleBlockType(e,n.nodes.paragraph,t)}};return this.options.levels.forEach((function(t){r["h".concat(t)]=function(){return i.setBlockType(e,{level:t})}})),r}},{key:"inputRules",value:function(t){var e=t.type,n=t.utils;return this.options.levels.map((function(t){return n.textblockTypeInputRule(new RegExp("^(#{1,".concat(t,"})\\s$")),e,(function(){return{level:t}}))}))}},{key:"keys",value:function(t){var e=t.type,n=t.utils;return this.options.levels.reduce((function(t,i){return Object(x["a"])(Object(x["a"])({},t),Object(is["a"])({},"Shift-Ctrl-".concat(i),n.setBlockType(e,{level:i})))}),{})}},{key:"button",get:function(){return this.options.levels.map((function(t){return{command:"h".concat(t),icon:"title",label:"Heading ".concat(t)}}))}},{key:"defaults",get:function(){return{levels:[1,2,3]}}},{key:"name",get:function(){return"heading"}},{key:"schema",get:function(){return{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,draggable:!1,parseDOM:this.options.levels.map((function(t){return{tag:"h".concat(t),attrs:{level:t}}})),toDOM:function(t){return["h".concat(t.attrs.level),0]}}}}]),n}(Xs),ka=function(t){Object(os["a"])(n,t);var e=Object(us["a"])(n);function n(){return Object(ss["a"])(this,n),e.apply(this,arguments)}return Object(as["a"])(n,[{key:"commands",value:function(t){var e=t.type;return function(){return function(t,n){return n(t.tr.replaceSelectionWith(e.create()))}}}},{key:"inputRules",value:function(t){var e=t.type,n=t.utils;return[n.nodeInputRule(/^(?:---|___\s|\*\*\*\s)$/,e)]}},{key:"name",get:function(){return"horizontalRule"}},{key:"schema",get:function(){return{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return["hr"]}}}}]),n}(Xs),$a=function(t){Object(os["a"])(n,t);var e=Object(us["a"])(n);function n(){return Object(ss["a"])(this,n),e.apply(this,arguments)}return Object(as["a"])(n,[{key:"keys",value:function(t){var e=t.type,n=t.utils;return{Enter:n.splitListItem(e),"Shift-Tab":n.liftListItem(e),Tab:n.sinkListItem(e)}}},{key:"name",get:function(){return"listItem"}},{key:"schema",get:function(){return{content:"paragraph block*",defining:!0,draggable:!1,parseDOM:[{tag:"li"}],toDOM:function(){return["li",0]}}}}]),n}(Xs),ya=function(t){Object(os["a"])(n,t);var e=Object(us["a"])(n);function n(){return Object(ss["a"])(this,n),e.apply(this,arguments)}return Object(as["a"])(n,[{key:"commands",value:function(t){var e=t.type,n=t.schema,i=t.utils;return function(){return i.toggleList(e,n.nodes.listItem)}}},{key:"inputRules",value:function(t){var e=t.type,n=t.utils;return[n.wrappingInputRule(/^(\d+)\.\s$/,e,(function(t){return{order:+t[1]}}),(function(t,e){return e.childCount+e.attrs.order===+t[1]}))]}},{key:"keys",value:function(t){var e=t.type,n=t.schema,i=t.utils;return{"Shift-Ctrl-9":i.toggleList(e,n.nodes.listItem)}}},{key:"button",get:function(){return{label:"Ordered list",icon:"list-numbers"}}},{key:"name",get:function(){return"orderedList"}},{key:"schema",get:function(){return{attrs:{order:{default:1}},content:"listItem+",group:"block",parseDOM:[{tag:"ol",getAttrs:function(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1}}}],toDOM:function(t){return 1===t.attrs.order?["ol",0]:["ol",{start:t.attrs.order},0]}}}}]),n}(Xs),wa=n("8726"),_a=function(t){Object(os["a"])(n,t);var e=Object(us["a"])(n);function n(){return Object(ss["a"])(this,n),e.apply(this,arguments)}return Object(as["a"])(n,[{key:"commands",value:function(){return{undo:function(){return wa["d"]},redo:function(){return wa["b"]},undoDepth:function(){return wa["e"]},redoDepth:function(){return wa["c"]}}}},{key:"keys",value:function(){return{"Mod-z":wa["d"],"Mod-y":wa["b"],"Shift-Mod-z":wa["b"],"Mod-я":wa["d"],"Shift-Mod-я":wa["b"]}}},{key:"plugins",value:function(){return[Object(wa["a"])({depth:this.options.depth,newGroupDelay:this.options.newGroupDelay})]}},{key:"defaults",get:function(){return{depth:"",newGroupDelay:""}}},{key:"name",get:function(){return"history"}}]),n}(Zs),xa=function(t){Object(os["a"])(n,t);var e=Object(us["a"])(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(ss["a"])(this,n),e.call(this,t)}return Object(as["a"])(n,[{key:"close",value:function(){this.visible=!1,this.emit()}},{key:"emit",value:function(){this.editor.emit("toolbar",{marks:this.marks,nodes:this.nodes,position:this.position,visible:this.visible})}},{key:"init",value:function(){var t=this;this.position={left:0,bottom:0},this.visible=!1,this.editor.on("blur",(function(){t.close()})),this.editor.on("deselect",(function(){t.close()})),this.editor.on("select",(function(e){var n=e.hasChanged;!1!==n?t.open():t.emit()}))}},{key:"open",value:function(){this.visible=!0,this.reposition(),this.emit()}},{key:"reposition",value:function(){var t=this.editor.selection,e=t.from,n=t.to,i=this.editor.view.coordsAtPos(e),r=this.editor.view.coordsAtPos(n,!0),s=this.editor.element.getBoundingClientRect(),a=(i.left+r.left)/2-s.left,o=Math.round(s.bottom-i.top);return this.position={bottom:o,left:a}}},{key:"marks",get:function(){return this.editor.activeMarks}},{key:"nodes",get:function(){return this.editor.activeNodes}},{key:"type",get:function(){return"toolbar"}}]),n}(Zs),Oa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-writer-toolbar"},[Object.keys(t.nodeButtons).length>1&&t.activeNode?n("k-dropdown",{nativeOn:{mousedown:function(t){t.preventDefault()}}},[n("k-button",{staticClass:"k-writer-toolbar-button k-writer-toolbar-nodes",attrs:{icon:t.activeNode.icon},on:{click:function(e){return t.$refs.nodes.toggle()}}}),n("k-dropdown-content",{ref:"nodes"},t._l(t.nodeButtons,(function(e,i){return n("k-dropdown-item",{key:i,attrs:{icon:e.icon},on:{click:function(n){return t.command(e.command||i)}}},[t._v("\n        "+t._s(e.label)+"\n      ")])})),1)],1):t._e(),t._l(t.markButtons,(function(e,i){return n("k-button",{key:i,class:{"k-writer-toolbar-button":!0,"k-writer-toolbar-button-active":t.activeMarks.includes(i)},attrs:{icon:e.icon},on:{mousedown:function(n){return n.preventDefault(),t.command(e.command||i)}}})}))],2)},ja=[],Ca={props:{activeMarks:{type:Array,default:function(){return[]}},activeNodes:{type:Array,default:function(){return[]}},editor:{type:Object,required:!0},marks:{type:Array}},computed:{activeNode:function(){var t=this,e=Object.keys(this.nodeButtons).find((function(e){return t.activeNodes.includes(e)}));return!!e&&this.nodeButtons[e]},markButtons:function(){return this.buttons("mark")},nodeButtons:function(){return this.buttons("node")}},methods:{buttons:function(t){var e=this.editor.buttons(t),n=this.sorting;!1!==n&&!1!==Array.isArray(n)||(n=Object.keys(e));var i={};return n.forEach((function(t){e[t]&&(i[t]=e[t])})),i},command:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.$emit.apply(this,["command",t].concat(n))}}},Sa=Ca,Ea=(n("6a16"),Object(f["a"])(Sa,Oa,ja,!1,null,null,null)),Ra=Ea.exports,Ta={components:{"k-writer-link-dialog":ua,"k-writer-toolbar":Ra},props:{breaks:Boolean,code:Boolean,disabled:Boolean,emptyDocument:{type:Object,default:function(){return{type:"doc",content:[]}}},headings:[Array,Boolean],inline:{type:Boolean,default:!1},marks:{type:[Array,Boolean],default:!0},nodes:{type:[Array,Boolean],default:function(){return["heading","bulletList","orderedList"]}},placeholder:String,spellcheck:Boolean,extensions:Array,value:{type:String,default:""}},data:function(){return{editor:null,html:this.value,isEmpty:!0,toolbar:!1}},watch:{value:function(t,e){t!==e&&t!==this.html&&(this.html=t,this.editor.setContent(this.html))}},mounted:function(){var t=this;this.editor=new na({content:this.value,editable:!this.disabled,element:this.$el,emptyDocument:this.emptyDocument,events:{link:function(){t.$refs.linkDialog.open(t.editor.getMarkAttrs("link"))},toolbar:function(e){t.toolbar=e},update:function(){t.html=t.editor.getHTML(),t.isEmpty=t.editor.isEmpty(),t.$emit("input",t.html)}},extensions:[].concat(Object(S["a"])(this.createMarks()),Object(S["a"])(this.createNodes()),[new _a,new xa],Object(S["a"])(this.extensions||[])),inline:this.inline}),this.isEmpty=this.editor.isEmpty()},beforeDestroy:function(){this.editor.destroy()},methods:{filterExtensions:function(t,e,n){!1===e?e=[]:!0!==e&&!1!==Array.isArray(e)||(e=Object.keys(t));var i=[];return e.forEach((function(e){t[e]&&i.push(t[e])})),"function"===typeof n&&(i=n(e,i)),i},command:function(t){for(var e,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(e=this.editor).command.apply(e,[t].concat(i))},createMarks:function(){return this.filterExtensions({bold:new pa,italic:new da,strike:new ha,underline:new ma,code:new la,link:new fa},this.marks)},createNodes:function(){var t=new ba({text:!0,enter:this.inline});return!0===this.inline?[t]:this.filterExtensions({bulletList:new ga,orderedList:new ya,heading:new va,horizontalRule:new ka,listItem:new $a},this.nodes,(function(e,n){return(e.includes("bulletList")||e.includes("orderedList"))&&n.push(new $a),n.push(t),n}))},getHTML:function(){return this.editor.getHTML()},focus:function(){this.editor.focus()}}},La=Ta,Ia=(n("4041"),Object(f["a"])(La,es,ns,!1,null,null,null)),Aa=Ia.exports,Ba=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"k-checkbox-input",on:{click:function(t){t.stopPropagation()}}},[n("input",{ref:"input",staticClass:"k-checkbox-input-native",attrs:{disabled:t.disabled,id:t.id,type:"checkbox"},domProps:{checked:t.value},on:{change:function(e){return t.onChange(e.target.checked)}}}),n("span",{staticClass:"k-checkbox-input-icon",attrs:{"aria-hidden":"true"}},[n("svg",{attrs:{width:"12",height:"10",viewBox:"0 0 12 10",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M1 5l3.3 3L11 1","stroke-width":"2",fill:"none","fill-rule":"evenodd"}})])]),n("span",{staticClass:"k-checkbox-input-label",domProps:{innerHTML:t._s(t.label)}})])},Da=[],Ma=n("b5ae"),Na={inheritAttrs:!1,props:{autofocus:Boolean,disabled:Boolean,id:[Number,String],label:String,required:Boolean,value:Boolean},watch:{value:function(){this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus()},methods:{focus:function(){this.$refs.input.focus()},onChange:function(t){this.$emit("input",t)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},select:function(){this.focus()}},validations:function(){return{value:{required:!this.required||Ma["required"]}}}},Pa=Na,qa=(n("42e4"),Object(f["a"])(Pa,Ba,Da,!1,null,null,null)),Fa=qa.exports,Ua=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"k-checkboxes-input",style:"--columns:"+t.columns},t._l(t.options,(function(e,i){return n("li",{key:i},[n("k-checkbox-input",{attrs:{id:t.id+"-"+i,label:e.text,value:-1!==t.selected.indexOf(e.value)},on:{input:function(n){return t.onInput(e.value,n)}}})],1)})),0)},za=[],Ha={inheritAttrs:!1,props:{autofocus:Boolean,columns:Number,disabled:Boolean,id:{type:[Number,String],default:function(){return this._uid}},max:Number,min:Number,options:Array,required:Boolean,value:{type:[Array,Object],default:function(){return[]}}},data:function(){return{selected:this.valueToArray(this.value)}},watch:{value:function(t){this.selected=this.valueToArray(t)},selected:function(){this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus()},methods:{focus:function(){this.$el.querySelector("input").focus()},onInput:function(t,e){if(!0===e)this.selected.push(t);else{var n=this.selected.indexOf(t);-1!==n&&this.selected.splice(n,1)}this.$emit("input",this.selected)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},select:function(){this.focus()},valueToArray:function(t){return!0===Array.isArray(t)?t:"string"===typeof t?String(t).split(","):"object"===Object(me["a"])(t)?Object.values(t):void 0}},validations:function(){return{selected:{required:!this.required||Ma["required"],min:!this.min||Object(Ma["minLength"])(this.min),max:!this.max||Object(Ma["maxLength"])(this.max)}}}},Ka=Ha,Ya=Object(f["a"])(Ka,Ua,za,!1,null,null,null),Ga=Ya.exports,Wa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-text-input",t._b({ref:"input",class:"k-"+t.type+"-input",attrs:{placeholder:t.placeholder,spellcheck:!1,type:"text"},on:{blur:t.onBlur,input:t.onInput,invalid:t.onInvalid,focus:function(e){return t.$emit("focus")},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.stopPropagation(),e.preventDefault(),t.onDown(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.stopPropagation(),e.preventDefault(),t.onUp(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.stopPropagation(),e.preventDefault(),t.onEnter(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.onTab(e)}]},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}},"k-text-input",t.$props,!1))},Ja=[],Va={inheritAttrs:!1,props:{autofocus:Boolean,disabled:Boolean,display:{type:String,default:"DD.MM.YYYY"},id:[String,Number],max:String,min:String,required:Boolean,step:{type:Object,default:function(){return{size:1,unit:"day"}}},type:{type:String,default:"date"},value:String},data:function(){return{input:this.toFormat(this.value),selected:null}},computed:{map:function(){return{second:["ss"],minute:["mm"],hour:[12===this.notation?"hh":"HH"],day:["D","DD"],month:["M","MM","MMM","MMMM"],year:["YY","YYYY"]}},parts:function(){return String(this.input).split(/\W/)},patterns:function(){for(var t=this,e=[],n=[],i=0;i<this.tokens.length;i++){var r=this.toTokens(this.tokens[i]);r&&function(){var t=[];0===e.length?t=r.map((function(t){return[t]})):r.forEach((function(e){t=t.concat(n.map((function(t){return t.concat([e])})))})),e=e.concat(t),n=t,t=[]}()}return e.map((function(e){return e.join(t.separator)})).reverse()},placeholder:function(){return this.display.toLowerCase()},result:function(){if(this.input)for(var t=this.$helper.string.ucwords(this.input),e=0;e<this.patterns.length;e++){var n=this.$library.dayjs.utc(t,this.patterns[e]);if(n.isValid())return this.toNearest(n)}return null},separator:function(){return this.display.match(/[\W]/)[0]},tokens:function(){return this.display.split(/\W/)}},watch:{value:function(){this.input=this.toFormat(this.value),this.onInvalid()}},mounted:function(){this.onInvalid()},methods:{emit:function(t){this.result?this.$emit(t,this.result.format("YYYY-MM-DD HH:mm:ss")):this.$emit(t,"")},focus:function(){this.$refs.input.focus()},manipulate:function(t){var e,n=this;if(this.result){var i=this.step.unit,r=this.step.size;this.selected=this.toCursorIndex(),null!==this.selected&&(i=this.toUnit(this.tokens[this.selected]),i!==this.step.unit&&(r=1)),e=this.result.clone()[t](r,i),this.selected=this.toIndex(i)}else e=this.toNearest(this.$library.dayjs()),this.selected=this.toIndex();this.input=this.toFormat(e),this.emit("update"),this.$nextTick((function(){n.select()}))},onBlur:function(){this.input=this.result?this.toFormat(this.result):null,this.selected=null,this.emit("update")},onDown:function(){this.manipulate("subtract")},onEnter:function(){this.onBlur(),this.emit("enter")},onInput:function(){this.emit("input")},onInvalid:function(t,e){this.$emit("invalid",t||this.$v.$invalid,e||this.$v)},onTab:function(t){var e=this.toCursorIndex();null===this.selected?this.selected=e||0:e!==this.selected?this.selected=e:this.selected++,this.selected>=this.parts.length?this.selected=null:(t.preventDefault(),t.stopPropagation(),this.select())},onUp:function(){this.manipulate("add")},select:function(){if(null!==this.selected){var t=this.toRange(this.selected);this.selected>0&&t.start++,this.$refs.input.$refs.input.setSelectionRange(t.start,t.end)}},toCursorIndex:function(){if(0===this.$refs.input.$refs.input.selectionStart&&this.$refs.input.$refs.input.selectionEnd===String(this.input).length)return null;for(var t=0;t<this.parts.length;t++){var e=this.toRange(t);if(e.start<=this.$refs.input.$refs.input.selectionStart&&e.end>=this.$refs.input.$refs.input.selectionEnd)return t}},toDatetime:function(t){return this.$library.dayjs.utc(t)},toFormat:function(t){return t?("string"==typeof t&&(t=this.toDatetime(t)),!1===t.isValid()?null:t.format(this.display)):null},toNearest:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.step.unit,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.step.size;t=t.clone(),"day"===e&&(e="date");var i=t.get(e),r=Math.round(i/n)*n;return t.set(e,r).startOf(e)},toIndex:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.step.unit,e=this.map[t],n=0;n<e.length;n++){var i=this.tokens.indexOf(e[n]);if(-1!==i)return i}},toRange:function(t){return{start:this.parts.slice(0,t).join(this.separator).length,end:this.parts.slice(0,t+1).join(this.separator).length}},toTokens:function(t){var e=Object.values(this.map),n=e.filter((function(e){return e.includes(t)}));return n[0]},toUnit:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object.keys(this.map),i=Object.values(this.map),r=i.findIndex((function(e){return e.includes(t)}));return!0===e&&r<n.indexOf(this.step.unit)?this.step.unit:n[r]}},validations:function(){var t=this;return{value:{min:!this.min||function(e){return t.$helper.validate.datetime(t,e,t.min,"isAfter",t.step.unit)},max:!this.max||function(e){return t.$helper.validate.datetime(t,e,t.max,"isBefore",t.step.unit)}}}}},Za=Va,Xa=Object(f["a"])(Za,Wa,Ja,!1,null,null,null),Qa=Xa.exports,to=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-datetime-input"},[n("k-date-input",t._b({ref:"dateInput",on:{input:function(e){return t.onInput(e,"date")},update:function(e){return t.onUpdate(e,"date")},enter:function(e){return t.onEnter(e,"date")},focus:function(e){return t.$emit("focus")}}},"k-date-input",t.dateOptions,!1)),t.time?[n("k-time-input",t._b({ref:"timeInput",on:{input:function(e){return t.onInput(e,"time")},update:function(e){return t.onUpdate(e,"time")},enter:function(e){return t.onEnter(e,"time")},focus:function(e){return t.$emit("focus")}}},"k-time-input",t.timeOptions,!1))]:t._e()],2)},eo=[],no={inheritAttrs:!1,props:Object(x["a"])(Object(x["a"])({},Qa.props),{},{time:{type:[Boolean,Object],default:function(){return{}}},value:String}),data:function(){return{input:this.toDatetime(this.value)}},computed:{dateOptions:function(){return{autofocus:this.autofocus,disabled:this.disabled,display:this.display,id:this.id,required:this.required,value:this.value}},timeOptions:function(){return Object(x["a"])(Object(x["a"])({},this.time),{},{disabled:this.disabled,required:this.required,value:this.value})}},watch:{value:function(){this.input=this.toDatetime(this.value),this.onInvalid()}},mounted:function(){this.onInvalid()},methods:{emit:function(t){this.input?this.$emit(t,this.input.format("YYYY-MM-DD HH:mm:ss")):this.$emit(t,"")},focus:function(){this.$refs.dateInput.focus()},onUpdate:function(t,e){var n=this.toDatetime(this.value);this.input=this.toDatetime(t,e,n),this.emit("update")},onEnter:function(t,e){this.onUpdate(e,t),this.emit("enter")},onInput:function(t,e){this.input=this.toDatetime(t,e,this.input),this.emit("input")},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},toDatetime:function(t,e,n){if(!t)return null;var i=this.$library.dayjs.utc(t);return!1===i.isValid()?null:e&&n?"date"===e?n.clone().utc().set("year",i.get("year")).set("month",i.get("month")).set("date",i.get("date")):"time"===e?n.clone().utc().set("hour",i.get("hour")).set("minute",i.get("minute")).set("second",i.get("second")):void 0:i}},validations:function(){var t=this;return{value:{min:!this.min||function(e){return t.$helper.validate.datetime(t,e,t.min,"isAfter",t.step.unit)},max:!this.max||function(e){return t.$helper.validate.datetime(t,e,t.max,"isBefore",t.step.unit)},required:!this.required||Ma["required"]}}}},io=no,ro=(n("4433"),Object(f["a"])(io,to,eo,!1,null,null,null)),so=ro.exports,ao=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("input",t._g(t._b({ref:"input",staticClass:"k-text-input",attrs:{dir:t.direction}},"input",{autocomplete:t.autocomplete,autofocus:t.autofocus,disabled:t.disabled,id:t.id,minlength:t.minlength,name:t.name,pattern:t.pattern,placeholder:t.placeholder,required:t.required,spellcheck:t.spellcheck,type:t.type,value:t.value},!1),t.listeners))},oo=[],uo=function(t){var e=t.$store.state.languages.default||null,n=t.$store.state.languages.current||null,i=t.$store.state.system.info.multilang||!1,r=t.$store.state.system.info.user?t.$store.state.system.info.user.language:null,s=n?n.direction:null;if(i&&n&&!1===t.disabled&&(n.direction!==e.direction||r!==n.code))return s},co={inheritAttrs:!1,class:"k-text-input",props:{autocomplete:{type:[Boolean,String],default:"off"},autofocus:Boolean,disabled:Boolean,id:[Number,String],maxlength:Number,minlength:Number,name:[Number,String],pattern:String,placeholder:String,preselect:Boolean,required:Boolean,spellcheck:{type:[Boolean,String],default:"off"},type:{type:String,default:"text"},value:String},data:function(){var t=this;return{listeners:Object(x["a"])(Object(x["a"])({},this.$listeners),{},{input:function(e){return t.onInput(e.target.value)}})}},computed:{direction:function(){return uo(this)}},watch:{value:function(){this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus(),this.$props.preselect&&this.select()},methods:{focus:function(){this.$refs.input.focus()},onInput:function(t){this.$emit("input",t)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},select:function(){this.$refs.input.select()}},validations:function(){var t=this,e=function(e){return!t.required&&!e||!t.$refs.input.validity.patternMismatch};return{value:{required:!this.required||Ma["required"],minLength:!this.minlength||Object(Ma["minLength"])(this.minlength),maxLength:!this.maxlength||Object(Ma["maxLength"])(this.maxlength),email:"email"!==this.type||Ma["email"],url:"url"!==this.type||Ma["url"],pattern:!this.pattern||e}}}},lo=co,po=(n("cb8f"),Object(f["a"])(lo,ao,oo,!1,null,null,null)),fo=po.exports,ho={extends:fo,props:Object(x["a"])(Object(x["a"])({},fo.props),{},{autocomplete:{type:String,default:"email"},placeholder:{type:String,default:function(){return this.$t("email.placeholder")}},type:{type:String,default:"email"}})},mo=ho,go=Object(f["a"])(mo,Bs,Ds,!1,null,null,null),bo=go.exports,vo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-writer",{ref:"input",staticClass:"k-list-input",attrs:{extensions:t.extensions,marks:t.marks,nodes:["bulletList","orderedList"],value:t.value},on:{input:function(e){return t.$emit("input",e)}}})},ko=[],$o=function(t){Object(os["a"])(n,t);var e=Object(us["a"])(n);function n(){return Object(ss["a"])(this,n),e.apply(this,arguments)}return Object(as["a"])(n,[{key:"schema",get:function(){return{content:"bulletList|orderedList"}}}]),n}(Qs),yo={inheritAttrs:!1,props:{marks:{type:[Array,Boolean],default:!0},value:String},computed:{extensions:function(){return[new $o]}},methods:{focus:function(){this.$refs.input.focus()}}},wo=yo,_o=(n("82c9"),Object(f["a"])(wo,vo,ko,!1,null,null,null)),xo=_o.exports,Oo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-draggable",{staticClass:"k-multiselect-input",attrs:{list:t.state,options:t.dragOptions,"data-layout":t.layout,element:"k-dropdown"},on:{end:t.onInput},nativeOn:{click:function(e){return t.$refs.dropdown.toggle(e)}}},[t._l(t.sorted,(function(e){return n("k-tag",{key:e.value,ref:e.value,refInFor:!0,attrs:{removable:!0},on:{remove:function(n){return t.remove(e)}},nativeOn:{click:function(t){t.stopPropagation()},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.navigate("prev")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:t.navigate("next")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.$refs.dropdown.open(e)}]}},[t._v("\n    "+t._s(e.text)+"\n  ")])})),n("k-dropdown-content",{ref:"dropdown",attrs:{slot:"footer"},on:{open:t.onOpen,close:t.onClose},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.stopPropagation(),t.close(e))}},slot:"footer"},[t.search?n("k-dropdown-item",{staticClass:"k-multiselect-search",attrs:{icon:"search"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.q,expression:"q"}],ref:"search",attrs:{placeholder:t.search.min?t.$t("search.min",{min:t.search.min}):t.$t("search")+" …"},domProps:{value:t.q},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.stopPropagation(),t.escape(e))},input:function(e){e.target.composing||(t.q=e.target.value)}}})]):t._e(),n("div",{staticClass:"k-multiselect-options"},[t._l(t.visible,(function(e){return n("k-dropdown-item",{key:e.value,class:{"k-multiselect-option":!0,selected:t.isSelected(e),disabled:!t.more},attrs:{icon:t.isSelected(e)?"check":"circle-outline"},on:{click:function(n){return n.preventDefault(),t.select(e)}},nativeOn:{keydown:[function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:(n.preventDefault(),n.stopPropagation(),t.select(e))},function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"space",32,n.key,[" ","Spacebar"])?null:(n.preventDefault(),n.stopPropagation(),t.select(e))}]}},[n("span",{domProps:{innerHTML:t._s(e.display)}}),n("span",{staticClass:"k-multiselect-value",domProps:{innerHTML:t._s(e.info)}})])})),0===t.filtered.length?n("k-dropdown-item",{staticClass:"k-multiselect-option",attrs:{disabled:!0}},[t._v("\n        "+t._s(t.emptyLabel)+"\n      ")]):t._e()],2),t.visible.length<t.filtered.length?n("k-button",{staticClass:"k-multiselect-more",on:{click:function(e){e.stopPropagation(),t.limit=!1}}},[t._v("\n      "+t._s(t.$t("search.all"))+" ("+t._s(t.filtered.length)+")\n    ")]):t._e()],1)],2)},jo=[],Co={inheritAttrs:!1,props:{id:[Number,String],disabled:Boolean,max:Number,min:Number,layout:String,options:{type:Array,default:function(){return[]}},required:Boolean,search:[Object,Boolean],separator:{type:String,default:","},sort:Boolean,value:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{state:this.value,q:null,limit:!0,scrollTop:0}},computed:{draggable:function(){return this.state.length>1&&!this.sort},dragOptions:function(){return{disabled:!this.draggable,draggable:".k-tag",delay:1}},emptyLabel:function(){return this.q?this.$t("search.results.none"):this.$t("options.none")},visible:function(){return this.limit?this.filtered.slice(0,this.search.display||this.filtered.length):this.filtered},filtered:function(){if(this.q&&this.q.length>=(this.search.min||0)){var t=new RegExp("(".concat(RegExp.escape(this.q),")"),"ig");return this.options.filter((function(e){return String(e.text).match(t)||String(e.value).match(t)})).map((function(e){return Object(x["a"])(Object(x["a"])({},e),{},{display:String(e.text).replace(t,"<b>$1</b>"),info:String(e.value).replace(t,"<b>$1</b>")})}))}return this.options.map((function(t){return Object(x["a"])(Object(x["a"])({},t),{},{display:t.text,info:t.value})}))},sorted:function(){var t=this;if(!1===this.sort)return this.state;var e=this.state,n=function(e){return t.options.findIndex((function(t){return t.value===e.value}))};return e.sort((function(t,e){return n(t)-n(e)}))},more:function(){return!this.max||this.state.length<this.max}},watch:{value:function(t){this.state=t,this.onInvalid()}},mounted:function(){this.onInvalid(),this.$events.$on("click",this.close),this.$events.$on("keydown.cmd.s",this.close)},destroyed:function(){this.$events.$off("click",this.close),this.$events.$off("keydown.cmd.s",this.close)},methods:{add:function(t){!0===this.more&&(this.state.push(t),this.onInput())},blur:function(){this.close()},close:function(){!0===this.$refs.dropdown.isOpen&&(this.$refs.dropdown.close(),this.limit=!0)},escape:function(){this.q?this.q=null:this.close()},focus:function(){this.$refs.dropdown.open()},index:function(t){return this.state.findIndex((function(e){return e.value===t.value}))},isSelected:function(t){return-1!==this.index(t)},navigate:function(t){var e=document.activeElement;switch(t){case"prev":e&&e.previousSibling&&e.previousSibling.focus&&e.previousSibling.focus();break;case"next":e&&e.nextSibling&&e.nextSibling.focus&&e.nextSibling.focus();break}},onClose:function(){!1===this.$refs.dropdown.isOpen&&(document.activeElement===this.$parent.$el&&(this.q=null),this.$parent.$el.focus())},onInput:function(){this.$emit("input",this.sorted)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},onOpen:function(){var t=this;this.$nextTick((function(){t.$refs.search&&t.$refs.search.focus&&t.$refs.search.focus(),t.$refs.dropdown.$el.querySelector(".k-multiselect-options").scrollTop=t.scrollTop}))},remove:function(t){this.state.splice(this.index(t),1),this.onInput()},select:function(t){this.scrollTop=this.$refs.dropdown.$el.querySelector(".k-multiselect-options").scrollTop,t={text:t.text,value:t.value},this.isSelected(t)?this.remove(t):this.add(t)}},validations:function(){return{state:{required:!this.required||Ma["required"],minLength:!this.min||Object(Ma["minLength"])(this.min),maxLength:!this.max||Object(Ma["maxLength"])(this.max)}}}},So=Co,Eo=(n("11ae"),Object(f["a"])(So,Oo,jo,!1,null,null,null)),Ro=Eo.exports,To=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("input",t._g(t._b({ref:"input",staticClass:"k-number-input",attrs:{step:t.stepNumber,type:"number"},domProps:{value:t.number},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"s",void 0,e.key,void 0)?null:e.ctrlKey?t.clean(e):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"s",void 0,e.key,void 0)?null:e.metaKey?t.clean(e):null}]}},"input",{autofocus:t.autofocus,disabled:t.disabled,id:t.id,max:t.max,min:t.min,name:t.name,placeholder:t.placeholder,required:t.required},!1),t.listeners))},Lo=[],Io=(n("8ba4"),n("b680"),{inheritAttrs:!1,props:{autofocus:Boolean,disabled:Boolean,id:[Number,String],max:Number,min:Number,name:[Number,String],placeholder:String,preselect:Boolean,required:Boolean,step:Number,value:{type:[Number,String],default:null}},data:function(){var t=this;return{number:this.format(this.value),stepNumber:this.format(this.step),timeout:null,listeners:Object(x["a"])(Object(x["a"])({},this.$listeners),{},{input:function(e){return t.onInput(e.target.value)},blur:this.onBlur})}},watch:{value:function(t){this.number=t},number:{immediate:!0,handler:function(){this.onInvalid()}}},mounted:function(){this.$props.autofocus&&this.focus(),this.$props.preselect&&this.select()},methods:{decimals:function(){var t=Number(this.step||0);return Math.floor(t)===t?0:-1!==t.toString().indexOf("e")?parseInt(t.toFixed(16).split(".")[1].split("").reverse().join("")).toString().length:t.toString().split(".")[1].length||0},format:function(t){if(isNaN(t)||""===t)return"";var e=this.decimals();return t=e?parseFloat(t).toFixed(e):Number.isInteger(this.step)?parseInt(t):parseFloat(t),t},clean:function(){this.number=this.format(this.number)},emit:function(t){t=parseFloat(t),isNaN(t)&&(t=""),t!==this.value&&this.$emit("input",t)},focus:function(){this.$refs.input.focus()},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},onInput:function(t){this.number=t,this.emit(t)},onBlur:function(){this.clean(),this.emit(this.number)},select:function(){this.$refs.input.select()}},validations:function(){return{value:{required:!this.required||Ma["required"],min:!this.min||Object(Ma["minValue"])(this.min),max:!this.max||Object(Ma["maxValue"])(this.max)}}}}),Ao=Io,Bo=(n("6018"),Object(f["a"])(Ao,To,Lo,!1,null,null,null)),Do=Bo.exports,Mo={extends:fo,props:Object(x["a"])(Object(x["a"])({},fo.props),{},{autocomplete:{type:String,default:"new-password"},type:{type:String,default:"password"}})},No=Mo,Po=Object(f["a"])(No,Ms,Ns,!1,null,null,null),qo=Po.exports,Fo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"k-radio-input",style:"--columns:"+t.columns},t._l(t.options,(function(e,i){return n("li",{key:i},[n("input",{staticClass:"k-radio-input-native",attrs:{id:t.id+"-"+i,name:t.id,type:"radio"},domProps:{value:e.value,checked:t.value===e.value},on:{change:function(n){return t.onInput(e.value)}}}),n("label",{attrs:{for:t.id+"-"+i}},[e.info?[n("span",{staticClass:"k-radio-input-text"},[t._v(t._s(e.text))]),n("span",{staticClass:"k-radio-input-info"},[t._v(t._s(e.info))])]:[t._v("\n        "+t._s(e.text)+"\n      ")]],2),e.icon?n("k-icon",{attrs:{type:e.icon}}):t._e()],1)})),0)},Uo=[],zo={inheritAttrs:!1,props:{autofocus:Boolean,columns:Number,disabled:Boolean,id:{type:[Number,String],default:function(){return this._uid}},options:Array,required:Boolean,value:[String,Number,Boolean]},watch:{value:function(){this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus()},methods:{focus:function(){this.$el.querySelector("input").focus()},onInput:function(t){this.$emit("input",t)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},select:function(){this.focus()}},validations:function(){return{value:{required:!this.required||Ma["required"]}}}},Ho=zo,Ko=(n("893d"),Object(f["a"])(Ho,Fo,Uo,!1,null,null,null)),Yo=Ko.exports,Go=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"k-range-input"},[n("input",t._g(t._b({ref:"input",staticClass:"k-range-input-native",style:"--min: "+t.min+"; --max: "+t.max+"; --value: "+t.position,attrs:{type:"range"},domProps:{value:t.position}},"input",{autofocus:t.autofocus,disabled:t.disabled,id:t.id,max:t.max,min:t.min,name:t.name,required:t.required,step:t.step},!1),t.listeners)),t.tooltip?n("span",{staticClass:"k-range-input-tooltip"},[t.tooltip.before?n("span",{staticClass:"k-range-input-tooltip-before"},[t._v(t._s(t.tooltip.before))]):t._e(),n("span",{staticClass:"k-range-input-tooltip-text"},[t._v(t._s(t.label))]),t.tooltip.after?n("span",{staticClass:"k-range-input-tooltip-after"},[t._v(t._s(t.tooltip.after))]):t._e()]):t._e()])},Wo=[],Jo={inheritAttrs:!1,props:{autofocus:Boolean,disabled:Boolean,id:[String,Number],default:[Number,String],max:{type:Number,default:100},min:{type:Number,default:0},name:[String,Number],required:Boolean,step:{type:Number,default:1},tooltip:{type:[Boolean,Object],default:function(){return{before:null,after:null}}},value:[Number,String]},data:function(){var t=this;return{listeners:Object(x["a"])(Object(x["a"])({},this.$listeners),{},{input:function(e){return t.onInput(e.target.value)}})}},computed:{baseline:function(){return this.min<0?0:this.min},label:function(){return this.required||this.value||0===this.value?this.format(this.position):"–"},position:function(){return this.value||0===this.value?this.value:this.default||this.baseline}},watch:{position:function(){this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus()},methods:{focus:function(){this.$refs.input.focus()},format:function(t){var e=document.lang?document.lang.replace("_","-"):"en",n=this.step.toString().split("."),i=n.length>1?n[1].length:0;return new Intl.NumberFormat(e,{minimumFractionDigits:i}).format(t)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},onInput:function(t){this.$emit("input",t)}},validations:function(){return{position:{required:!this.required||Ma["required"],min:!this.min||Object(Ma["minValue"])(this.min),max:!this.max||Object(Ma["maxValue"])(this.max)}}}},Vo=Jo,Zo=(n("b5d2"),Object(f["a"])(Vo,Go,Wo,!1,null,null,null)),Xo=Zo.exports,Qo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"k-select-input",attrs:{"data-disabled":t.disabled,"data-empty":""===t.selected}},[n("select",t._g({ref:"input",staticClass:"k-select-input-native",attrs:{autofocus:t.autofocus,"aria-label":t.ariaLabel,disabled:t.disabled,id:t.id,name:t.name,required:t.required},domProps:{value:t.selected}},t.listeners),[t.hasEmptyOption?n("option",{attrs:{disabled:t.required,value:""}},[t._v("\n      "+t._s(t.emptyOption)+"\n    ")]):t._e(),t._l(t.options,(function(e){return n("option",{key:e.value,attrs:{disabled:e.disabled},domProps:{value:e.value}},[t._v("\n      "+t._s(e.text)+"\n    ")])}))],2),t._v("\n  "+t._s(t.label)+"\n")])},tu=[],eu={inheritAttrs:!1,props:{autofocus:Boolean,ariaLabel:String,default:String,disabled:Boolean,empty:{type:[Boolean,String],default:!0},id:[Number,String],name:[Number,String],placeholder:String,options:{type:Array,default:function(){return[]}},required:Boolean,value:{type:[String,Number,Boolean],default:""}},data:function(){var t=this;return{selected:this.value,listeners:Object(x["a"])(Object(x["a"])({},this.$listeners),{},{click:function(e){return t.onClick(e)},change:function(e){return t.onInput(e.target.value)},input:function(){}})}},computed:{emptyOption:function(){return this.placeholder||"—"},hasEmptyOption:function(){return!1!==this.empty&&!(this.required&&this.default)},label:function(){var t=this.text(this.selected);return""===this.selected||null===this.selected||null===t?this.emptyOption:t}},watch:{value:function(t){this.selected=t,this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus()},methods:{focus:function(){this.$refs.input.focus()},onClick:function(t){t.stopPropagation(),this.$emit("click",t)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},onInput:function(t){this.selected=t,this.$emit("input",this.selected)},select:function(){this.focus()},text:function(t){var e=null;return this.options.forEach((function(n){n.value==t&&(e=n.text)})),e}},validations:function(){return{selected:{required:!this.required||Ma["required"]}}}},nu=eu,iu=(n("6a18"),Object(f["a"])(nu,Qo,tu,!1,null,null,null)),ru=iu.exports,su=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-draggable",{ref:"box",staticClass:"k-tags-input",attrs:{list:t.tags,"data-layout":t.layout,options:t.dragOptions,dir:t.direction},on:{end:t.onInput}},[t._l(t.tags,(function(e,i){return n("k-tag",{key:i,ref:e.value,refInFor:!0,attrs:{removable:!t.disabled,name:"tag"},on:{remove:function(n){return t.remove(e)}},nativeOn:{click:function(t){t.stopPropagation()},blur:function(e){return t.selectTag(null)},focus:function(n){return t.selectTag(e)},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.navigate("prev")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:t.navigate("next")}],dblclick:function(n){return t.edit(e)}}},[t._v("\n    "+t._s(e.text)+"\n  ")])})),n("span",{staticClass:"k-tags-input-element",attrs:{slot:"footer"},slot:"footer"},[n("k-autocomplete",{ref:"autocomplete",attrs:{options:t.options,skip:t.skip},on:{select:t.addTag,leave:function(e){return t.$refs.input.focus()}}},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newTag,expression:"newTag",modifiers:{trim:!0}}],ref:"input",attrs:{autofocus:t.autofocus,disabled:t.disabled||t.max&&t.tags.length>=t.max,id:t.id,name:t.name,autocomplete:"off",type:"text"},domProps:{value:t.newTag},on:{input:[function(e){e.target.composing||(t.newTag=e.target.value.trim())},function(e){return t.type(e.target.value)}],blur:[t.blurInput,function(e){return t.$forceUpdate()}],keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"s",void 0,e.key,void 0)?null:e.metaKey?t.blurInput(e):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.leaveInput(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.enter(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.tab(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"backspace",void 0,e.key,void 0)||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.leaveInput(e)}]}})])],1)],2)},au=[],ou={inheritAttrs:!1,props:{autofocus:Boolean,accept:{type:String,default:"all"},disabled:Boolean,icon:{type:[String,Boolean],default:"tag"},id:[Number,String],layout:String,max:Number,min:Number,name:[Number,String],options:{type:Array,default:function(){return[]}},required:Boolean,separator:{type:String,default:","},value:{type:Array,default:function(){return[]}}},data:function(){var t=this;return{tags:this.prepareTags(this.value),selected:null,newTag:null,tagOptions:this.options.map((function(e){return t.icon&&t.icon.length>0&&(e.icon=t.icon),e}),this)}},computed:{direction:function(){return uo(this)},dragOptions:function(){return{delay:1,disabled:!this.draggable,draggable:".k-tag"}},draggable:function(){return this.tags.length>1},skip:function(){return this.tags.map((function(t){return t.value}))}},watch:{value:function(t){this.tags=this.prepareTags(t),this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus()},methods:{addString:function(t){var e=this;if(t)if(t=t.trim(),t.includes(this.separator))t.split(this.separator).forEach((function(t){e.addString(t)}));else if(0!==t.length)if("options"===this.accept){var n=this.options.filter((function(e){return e.text===t}))[0];if(!n)return;this.addTag(n)}else this.addTag({text:t,value:t})},addTag:function(t){this.addTagToIndex(t),this.$refs.autocomplete.close(),this.$refs.input.focus()},addTagToIndex:function(t){if("options"===this.accept){var e=this.options.filter((function(e){return e.value===t.value}))[0];if(!e)return}-1===this.index(t)&&(!this.max||this.tags.length<this.max)&&(this.tags.push(t),this.onInput()),this.newTag=null},blurInput:function(t){var e=t.relatedTarget||t.explicitOriginalTarget;this.$refs.autocomplete.$el&&this.$refs.autocomplete.$el.contains(e)||this.$refs.input.value.length&&(this.addTagToIndex(this.$refs.input.value),this.$refs.autocomplete.close())},edit:function(t){this.newTag=t.text,this.$refs.input.select(),this.remove(t)},enter:function(t){if(!this.newTag||0===this.newTag.length)return!0;t.preventDefault(),this.addString(this.newTag)},focus:function(){this.$refs.input.focus()},get:function(t){var e=null,n=null;switch(t){case"prev":if(!this.selected)return;if(n=this.index(this.selected),e=n-1,e<0)return;break;case"next":if(!this.selected)return;if(n=this.index(this.selected),e=n+1,e>=this.tags.length)return;break;case"first":e=0;break;case"last":e=this.tags.length-1;break;default:e=t;break}var i=this.tags[e];if(i){var r=this.$refs[i.value];if(r&&r[0])return{ref:r[0],tag:i,index:e}}return!1},index:function(t){return this.tags.findIndex((function(e){return e.value===t.value}))},onInput:function(){this.$emit("input",this.tags)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},leaveInput:function(t){0===t.target.selectionStart&&t.target.selectionStart===t.target.selectionEnd&&0!==this.tags.length&&(this.$refs.autocomplete.close(),this.navigate("last"),t.preventDefault())},navigate:function(t){var e=this.get(t);e?(e.ref.focus(),this.selectTag(e.tag)):"next"===t&&(this.$refs.input.focus(),this.selectTag(null))},prepareTags:function(t){return!1===Array.isArray(t)?[]:t.map((function(t){return"string"===typeof t?{text:t,value:t}:t}))},remove:function(t){var e=this.get("prev"),n=this.get("next");this.tags.splice(this.index(t),1),this.onInput(),e?(this.selectTag(e.tag),e.ref.focus()):n?this.selectTag(n.tag):(this.selectTag(null),this.$refs.input.focus())},select:function(){this.focus()},selectTag:function(t){this.selected=t},tab:function(t){this.newTag&&this.newTag.length>0&&(t.preventDefault(),this.addString(this.newTag))},type:function(t){this.newTag=t,this.$refs.autocomplete.search(t)}},validations:function(){return{tags:{required:!this.required||Ma["required"],minLength:!this.min||Object(Ma["minLength"])(this.min),maxLength:!this.max||Object(Ma["maxLength"])(this.max)}}}},uu=ou,cu=(n("27c1"),Object(f["a"])(uu,su,au,!1,null,null,null)),lu=cu.exports,pu={extends:fo,props:Object(x["a"])(Object(x["a"])({},fo.props),{},{autocomplete:{type:String,default:"tel"},type:{type:String,default:"tel"}})},du=pu,fu=Object(f["a"])(du,Ps,qs,!1,null,null,null),hu=fu.exports,mu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-textarea-input",attrs:{"data-theme":t.theme,"data-over":t.over}},[n("div",{staticClass:"k-textarea-input-wrapper"},[t.buttons&&!t.disabled?n("k-toolbar",{ref:"toolbar",attrs:{buttons:t.buttons,disabled:t.disabled,uploads:t.uploads},on:{command:t.onCommand},nativeOn:{mousedown:function(t){t.preventDefault()}}}):t._e(),n("textarea",t._b({ref:"input",staticClass:"k-textarea-input-native",attrs:{"data-font":t.font,"data-size":t.size,dir:t.direction},on:{click:t.onClick,focus:t.onFocus,input:t.onInput,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.metaKey?t.onSubmit(e):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?t.onSubmit(e):null},function(e){return e.metaKey?t.onShortcut(e):null},function(e){return e.ctrlKey?t.onShortcut(e):null}],dragover:t.onOver,dragleave:t.onOut,drop:t.onDrop}},"textarea",{autofocus:t.autofocus,disabled:t.disabled,id:t.id,minlength:t.minlength,name:t.name,placeholder:t.placeholder,required:t.required,spellcheck:t.spellcheck,value:t.value},!1))],1),n("k-toolbar-email-dialog",{ref:"emailDialog",on:{cancel:t.cancel,submit:function(e){return t.insert(e)}}}),n("k-toolbar-link-dialog",{ref:"linkDialog",on:{cancel:t.cancel,submit:function(e){return t.insert(e)}}}),n("k-files-dialog",{ref:"fileDialog",on:{cancel:t.cancel,submit:function(e){return t.insertFile(e)}}}),t.uploads?n("k-upload",{ref:"fileUpload",on:{success:t.insertUpload}}):t._e()],1)},gu=[],bu={inheritAttrs:!1,props:{autofocus:Boolean,buttons:{type:[Boolean,Array],default:!0},disabled:Boolean,endpoints:Object,font:String,id:[Number,String],name:[Number,String],maxlength:Number,minlength:Number,placeholder:String,preselect:Boolean,required:Boolean,size:String,spellcheck:{type:[Boolean,String],default:"off"},theme:String,uploads:[Boolean,Object,Array],value:String},data:function(){return{over:!1}},computed:{direction:function(){return uo(this)}},watch:{value:function(){var t=this;this.onInvalid(),this.$nextTick((function(){t.resize()}))}},mounted:function(){var t=this;this.$nextTick((function(){t.$library.autosize(t.$refs.input)})),this.onInvalid(),this.$props.autofocus&&this.focus(),this.$props.preselect&&this.select()},methods:{cancel:function(){this.$refs.input.focus()},dialog:function(t){if(!this.$refs[t+"Dialog"])throw"Invalid toolbar dialog";this.$refs[t+"Dialog"].open(this.$refs.input,this.selection())},focus:function(){this.$refs.input.focus()},insert:function(t){var e=this,n=this.$refs.input,i=n.value;setTimeout((function(){if(n.focus(),document.execCommand("insertText",!1,t),n.value===i){var r=n.value.slice(0,n.selectionStart)+t+n.value.slice(n.selectionEnd);n.value=r,e.$emit("input",r)}})),this.resize()},insertFile:function(t){t&&t.length>0&&this.insert(t.map((function(t){return t.dragText})).join("\n\n"))},insertUpload:function(t,e){this.insert(e.map((function(t){return t.dragText})).join("\n\n")),this.$events.$emit("model.update")},onClick:function(){this.$refs.toolbar&&this.$refs.toolbar.close()},onCommand:function(t,e){"function"===typeof this[t]?"function"===typeof e?this[t](e(this.$refs.input,this.selection())):this[t](e):window.console.warn(t+" is not a valid command")},onDrop:function(t){if(this.uploads&&this.$helper.isUploadEvent(t))return this.$refs.fileUpload.drop(t.dataTransfer.files,{url:C.api+"/"+this.endpoints.field+"/upload",multiple:!1});var e=this.$store.state.drag;e&&"text"===e.type&&(this.focus(),this.insert(e.data))},onFocus:function(t){this.$emit("focus",t)},onInput:function(t){this.$emit("input",t.target.value)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},onOut:function(){this.$refs.input.blur(),this.over=!1},onOver:function(t){if(this.uploads&&this.$helper.isUploadEvent(t))return t.dataTransfer.dropEffect="copy",this.focus(),void(this.over=!0);var e=this.$store.state.drag;e&&"text"===e.type&&(t.dataTransfer.dropEffect="copy",this.focus(),this.over=!0)},onShortcut:function(t){!1!==this.buttons&&"Meta"!==t.key&&"Control"!==t.key&&this.$refs.toolbar&&this.$refs.toolbar.shortcut(t.key,t)},onSubmit:function(t){return this.$emit("submit",t)},prepend:function(t){this.insert(t+" "+this.selection())},resize:function(){this.$library.autosize.update(this.$refs.input)},select:function(){this.$refs.select()},selectFile:function(){this.$refs.fileDialog.open({endpoint:this.endpoints.field+"/files",multiple:!1})},selection:function(){var t=this.$refs.input,e=t.selectionStart,n=t.selectionEnd;return t.value.substring(e,n)},uploadFile:function(){this.$refs.fileUpload.open({url:C.api+"/"+this.endpoints.field+"/upload",multiple:!1})},wrap:function(t){this.insert(t+this.selection()+t)}},validations:function(){return{value:{required:!this.required||Ma["required"],minLength:!this.minlength||Object(Ma["minLength"])(this.minlength),maxLength:!this.maxlength||Object(Ma["maxLength"])(this.maxlength)}}}},vu=bu,ku=(n("cca8"),Object(f["a"])(vu,mu,gu,!1,null,null,null)),$u=ku.exports,yu={extends:Qa,props:{display:{type:String,default:"HH:mm"},max:String,min:String,notation:{type:Number,default:24},step:{type:Object,default:function(){return{size:5,unit:"minute"}}},type:{type:String,default:"time"}},computed:{patterns:function(){var t=Qa.computed.patterns.apply(this);return 12===this.notation&&(t=t.map((function(t){return t+"a"})).concat(t)),t}},methods:{toDatetime:function(t){for(var e=["HH:mm:ss","YYYY-MM-DD HH:mm:ss"],n=0;n<e.length;n++){var i=this.$library.dayjs.utc(t,e[n],!0);if(i.isValid())return i}}}},wu=yu,_u=Object(f["a"])(wu,Fs,Us,!1,null,null,null),xu=_u.exports,Ou=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"k-toggle-input",attrs:{"data-disabled":t.disabled}},[n("input",{ref:"input",staticClass:"k-toggle-input-native",attrs:{disabled:t.disabled,id:t.id,type:"checkbox"},domProps:{checked:t.value},on:{change:function(e){return t.onInput(e.target.checked)}}}),n("span",{staticClass:"k-toggle-input-label",domProps:{innerHTML:t._s(t.label)}})])},ju=[],Cu={inheritAttrs:!1,props:{autofocus:Boolean,disabled:Boolean,id:[Number,String],text:{type:[Array,String],default:function(){return[this.$t("off"),this.$t("on")]}},required:Boolean,value:Boolean},computed:{label:function(){return Array.isArray(this.text)?this.value?this.text[1]:this.text[0]:this.text}},watch:{value:function(){this.onInvalid()}},mounted:function(){this.onInvalid(),this.$props.autofocus&&this.focus()},methods:{focus:function(){this.$refs.input.focus()},onEnter:function(t){"Enter"===t.key&&this.$refs.input.click()},onInput:function(t){this.$emit("input",t)},onInvalid:function(){this.$emit("invalid",this.$v.$invalid,this.$v)},select:function(){this.$refs.input.focus()}},validations:function(){return{value:{required:!this.required||Ma["required"]}}}},Su=Cu,Eu=(n("bb41"),Object(f["a"])(Su,Ou,ju,!1,null,null,null)),Ru=Eu.exports,Tu={extends:fo,props:Object(x["a"])(Object(x["a"])({},fo.props),{},{autocomplete:{type:String,default:"url"},type:{type:String,default:"url"}})},Lu=Tu,Iu=Object(f["a"])(Lu,zs,Hs,!1,null,null,null),Au=Iu.exports,Bu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-blocks-field"},"k-field",t.$props,!1),[n("k-dropdown",{attrs:{slot:"options"},slot:"options"},[n("k-button",{attrs:{icon:"dots"},on:{click:function(e){return t.$refs.options.toggle()}}}),n("k-dropdown-content",{ref:"options",attrs:{align:"right"}},[n("k-dropdown-item",{attrs:{disabled:t.isFull,icon:"add"},on:{click:function(e){return t.$refs.blocks.choose(t.value.length)}}},[t._v("\n        "+t._s(t.$t("add"))+"\n      ")]),n("k-dropdown-item",{attrs:{disabled:t.isEmpty,icon:"trash"},on:{click:function(e){return t.$refs.blocks.confirmToRemoveAll()}}},[t._v("\n        "+t._s(t.$t("delete.all"))+"\n      ")])],1)],1),n("k-blocks",t._g({ref:"blocks",attrs:{compact:!1,empty:t.empty,endpoints:t.endpoints,fieldsets:t.fieldsets,"fieldset-groups":t.fieldsetGroups,group:t.group,max:t.max,value:t.value},on:{close:function(e){t.opened=e},open:function(e){t.opened=e}}},t.$listeners))],1)},Du=[],Mu={inheritAttrs:!1,props:Object(x["a"])(Object(x["a"])({},xr.props),{},{empty:String,fieldsets:Object,fieldsetGroups:Object,group:String,max:{type:Number,default:null},value:{type:Array,default:function(){return[]}}}),data:function(){return{opened:[]}},computed:{hasOpened:function(){return this.opened.length>0},isFull:function(){return!1},isEmpty:function(){return!1}}},Nu=Mu,Pu=(n("ae14"),Object(f["a"])(Nu,Bu,Du,!1,null,null,null)),qu=Pu.exports,Fu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-checkboxes-field",attrs:{counter:t.counterOptions}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"checkboxes"}},"k-input",t.$props,!1),t.$listeners))],1)},Uu=[],zu={inheritAttrs:!1,props:Object(x["a"])(Object(x["a"])(Object(x["a"])(Object(x["a"])({},xr.props),Dr.props),Ga.props),{},{counter:{type:Boolean,default:!0}}),computed:{counterOptions:function(){return null!==this.value&&!this.disabled&&!1!==this.counter&&{count:this.value&&Array.isArray(this.value)?this.value.length:0,min:this.min,max:this.max}}},methods:{focus:function(){this.$refs.input.focus()}}},Hu=zu,Ku=Object(f["a"])(Hu,Fu,Uu,!1,null,null,null),Yu=Ku.exports,Gu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-date-field",attrs:{input:t._uid}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,type:t.inputType,value:t.value,theme:"field"},scopedSlots:t._u([t.calendar?{key:"icon",fn:function(){return[n("k-dropdown",[n("k-button",{staticClass:"k-input-icon-button",attrs:{icon:t.icon,tooltip:t.$t("date.select"),tabindex:"-1"},on:{click:t.onFocus}}),n("k-dropdown-content",{ref:"calendar",attrs:{align:"right"}},[n("k-calendar",{attrs:{value:t.datetime,min:t.min,max:t.max},on:{input:t.onSelect}})],1)],1)]},proxy:!0}:null],null,!0)},"k-input",t.$props,!1),t.listeners))],1)},Wu=[],Ju={inheritAttrs:!1,props:Object(x["a"])(Object(x["a"])(Object(x["a"])(Object(x["a"])({},xr.props),Dr.props),so.props),{},{calendar:{type:Boolean,default:!0},icon:{type:String,default:"calendar"}}),data:function(){return{datetime:this.value}},computed:{inputType:function(){return!1===this.time?"date":"datetime"},listeners:function(){return Object(x["a"])(Object(x["a"])({},this.$listeners),{},{enter:this.onSelect,focus:this.onFocus,input:this.onInput,update:this.onUpdate})}},watch:{value:function(t){this.datetime=t}},methods:{focus:function(){this.$refs.input.focus()},onUpdate:function(t){this.$emit("input",t)},onFocus:function(){this.$refs.calendar&&this.$refs.calendar.open()},onInput:function(t){this.datetime=t},onSelect:function(t){this.onUpdate(t),this.$refs.calendar&&this.$refs.calendar.close()}}},Vu=Ju,Zu=Object(f["a"])(Vu,Gu,Wu,!1,null,null,null),Xu=Zu.exports,Qu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-email-field",attrs:{input:t._uid}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"email"}},"k-input",t.$props,!1),t.$listeners),[t.link?n("k-button",{staticClass:"k-input-icon-button",attrs:{slot:"icon",icon:t.icon,link:t.mailto,tooltip:t.$t("open"),tabindex:"-1",target:"_blank"},slot:"icon"}):t._e()],1)],1)},tc=[],ec={inheritAttrs:!1,props:Object(x["a"])(Object(x["a"])(Object(x["a"])(Object(x["a"])({},xr.props),Dr.props),bo.props),{},{link:{type:Boolean,default:!0},icon:{type:String,default:"email"}}),computed:{mailto:function(){return this.value&&this.value.length>0?"mailto:"+this.value:null}},methods:{focus:function(){this.$refs.input.focus()}}},nc=ec,ic=Object(f["a"])(nc,Qu,tc,!1,null,null,null),rc=ic.exports,sc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-files-field"},"k-field",t.$props,!1),[t.more&&!t.disabled?n("template",{slot:"options"},[n("k-button-group",{staticClass:"k-field-options"},[t.uploads?[n("k-dropdown",[n("k-button",{ref:"pickerToggle",staticClass:"k-field-options-button",attrs:{icon:t.btnIcon},on:{click:t.prompt}},[t._v("\n            "+t._s(t.btnLabel)+"\n          ")]),n("k-dropdown-content",{ref:"picker",attrs:{align:"right"}},[n("k-dropdown-item",{attrs:{icon:"check"},on:{click:t.open}},[t._v(t._s(t.$t("select")))]),n("k-dropdown-item",{attrs:{icon:"upload"},on:{click:t.upload}},[t._v(t._s(t.$t("upload")))])],1)],1)]:[n("k-button",{staticClass:"k-field-options-button",attrs:{icon:"add"},on:{click:t.open}},[t._v(t._s(t.$t("add")))])]],2)],1):t._e(),t.selected.length?[n("k-draggable",{attrs:{element:t.elements.list,list:t.selected,"data-size":t.size,handle:!0,"data-invalid":t.isInvalid},on:{end:t.onInput}},t._l(t.selected,(function(e,i){return n(t.elements.item,{key:e.id,tag:"component",attrs:{sortable:!t.disabled&&t.selected.length>1,text:e.text,link:t.link?e.link:null,info:e.info,image:e.image,icon:e.icon}},[t.disabled?t._e():n("k-button",{attrs:{slot:"options",tooltip:t.$t("remove"),icon:"remove"},on:{click:function(e){return t.remove(i)}},slot:"options"})],1)})),1)]:n("k-empty",{attrs:{layout:t.layout,"data-invalid":t.isInvalid,icon:"image"},on:{click:t.prompt}},[t._v("\n    "+t._s(t.empty||t.$t("field.files.empty"))+"\n  ")]),n("k-files-dialog",{ref:"selector",on:{submit:t.select}}),n("k-upload",{ref:"fileUpload",on:{success:t.selectUpload}})],2)},ac=[],oc={inheritAttrs:!1,props:Object(x["a"])(Object(x["a"])({},xr.props),{},{empty:String,info:String,link:Boolean,layout:String,max:Number,multiple:Boolean,parent:String,search:Boolean,size:String,text:String,value:{type:Array,default:function(){return[]}}}),data:function(){return{selected:this.value}},computed:{btnIcon:function(){return!this.multiple&&this.selected.length>0?"refresh":"add"},btnLabel:function(){return!this.multiple&&this.selected.length>0?this.$t("change"):this.$t("add")},elements:function(){var t={cards:{list:"k-cards",item:"k-card"},list:{list:"k-list",item:"k-list-item"}};return t[this.layout]?t[this.layout]:t["list"]},isInvalid:function(){return!(!this.required||0!==this.selected.length)||(!!(this.min&&this.selected.length<this.min)||!!(this.max&&this.selected.length>this.max))},more:function(){return!this.max||this.max>this.selected.length}},watch:{value:function(t){this.selected=t}},methods:{focus:function(){},onInput:function(){this.$emit("input",this.selected)},remove:function(t){this.selected.splice(t,1),this.onInput()},removeById:function(t){this.selected=this.selected.filter((function(e){return e.id!==t})),this.onInput()},select:function(t){var e=this;0!==t.length?(this.selected=this.selected.filter((function(e){return t.filter((function(t){return t.id===e.id})).length>0})),t.forEach((function(t){0===e.selected.filter((function(e){return t.id===e.id})).length&&e.selected.push(t)})),this.onInput()):this.selected=[]}}},uc={mixins:[oc],props:{uploads:[Boolean,Object,Array]},created:function(){this.$events.$on("file.delete",this.removeById)},destroyed:function(){this.$events.$off("file.delete",this.removeById)},methods:{prompt:function(t){t.stopPropagation(),this.uploads?this.$refs.picker.toggle():this.open()},open:function(){if(this.disabled)return!1;this.$refs.selector.open({endpoint:this.endpoints.field,max:this.max,multiple:this.multiple,search:this.search,selected:this.selected.map((function(t){return t.id}))})},selectUpload:function(t,e){var n=this;!1===this.multiple&&(this.selected=[]),e.forEach((function(t){n.selected.push(t)})),this.onInput(),this.$events.$emit("model.update")},upload:function(){this.$refs.fileUpload.open({url:C.api+"/"+this.endpoints.field+"/upload",multiple:this.multiple,accept:this.uploads.accept})}}},cc=uc,lc=(n("4a4b"),Object(f["a"])(cc,sc,ac,!1,null,null,null)),pc=lc.exports,dc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-field k-gap-field"})},fc=[],hc={},mc=Object(f["a"])(hc,dc,fc,!1,null,null,null),gc=mc.exports,bc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-headline-field"},[n("k-headline",{attrs:{"data-numbered":t.numbered,size:"large"}},[t._v("\n    "+t._s(t.label)+"\n  ")]),t.help?n("footer",{staticClass:"k-field-footer"},[t.help?n("k-text",{staticClass:"k-field-help",attrs:{theme:"help"},domProps:{innerHTML:t._s(t.help)}}):t._e()],1):t._e()],1)},vc=[],kc={props:{help:String,label:String,numbered:Boolean}},$c=kc,yc=(n("19d7"),Object(f["a"])($c,bc,vc,!1,null,null,null)),wc=yc.exports,_c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-field k-info-field"},[n("k-headline",[t._v(t._s(t.label))]),n("k-box",{attrs:{theme:t.theme}},[n("k-text",{domProps:{innerHTML:t._s(t.text)}})],1),t.help?n("footer",{staticClass:"k-field-footer"},[t.help?n("k-text",{staticClass:"k-field-help",attrs:{theme:"help"},domProps:{innerHTML:t._s(t.help)}}):t._e()],1):t._e()],1)},xc=[],Oc={props:{help:String,label:String,text:String,theme:{type:String,default:"info"}}},jc=Oc,Cc=(n("ddfd"),Object(f["a"])(jc,_c,xc,!1,null,null,null)),Sc=Cc.exports,Ec=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-layout-field"},"k-field",t.$props,!1),[n("k-block-layouts",t._b({on:{input:function(e){return t.$emit("input",e)}}},"k-block-layouts",t.$props,!1))],1)},Rc=[],Tc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.rows.length?[n("k-draggable",t._b({staticClass:"k-layouts",on:{sort:t.save}},"k-draggable",t.draggableOptions,!1),t._l(t.rows,(function(e,i){return n("k-layout",t._b({key:e.id,attrs:{endpoints:t.endpoints,"fieldset-groups":t.fieldsetGroups,fieldsets:t.fieldsets,"is-selected":t.selected===e.id,settings:t.settings},on:{append:function(e){return t.selectLayout(i+1)},duplicate:function(n){return t.duplicateLayout(i,e)},prepend:function(e){return t.selectLayout(i)},remove:function(n){return t.removeLayout(e)},select:function(n){t.selected=e.id},updateAttrs:function(e){return t.updateAttrs(i,e)},updateColumn:function(n){return t.updateColumn(Object.assign({},{layout:e,layoutIndex:i},n))}}},"k-layout",e,!1))})),1),n("k-button",{staticClass:"k-layout-add-button",attrs:{icon:"add"},on:{click:function(e){return t.selectLayout(t.rows.length)}}})]:[n("k-empty",{staticClass:"k-layout-empty",attrs:{icon:"dashboard"},on:{click:function(e){return t.selectLayout(0)}}},[t._v("\n      "+t._s(t.empty||t.$t("field.layout.empty"))+"\n    ")])],n("k-dialog",{ref:"selector",staticClass:"k-layout-selector",attrs:{"cancel-button":!1,"submit-button":!1,size:"medium"}},[n("k-headline",[t._v(t._s(t.$t("field.layout.select")))]),n("ul",t._l(t.layouts,(function(e,i){return n("li",{key:i,staticClass:"k-layout-selector-option"},[n("k-grid",{nativeOn:{click:function(n){return t.addLayout(e)}}},t._l(e,(function(t,e){return n("k-column",{key:e,attrs:{width:t}})})),1)],1)})),0)],1)],2)},Lc=[],Ic=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"k-layout",attrs:{"data-selected":t.isSelected,tabindex:"0"},on:{click:function(e){return t.$emit("select")}}},[n("k-grid",{staticClass:"k-layout-columns"},t._l(t.columns,(function(e,i){return n("k-layout-column",t._b({key:e.id,attrs:{endpoints:t.endpoints,"fieldset-groups":t.fieldsetGroups,fieldsets:t.fieldsets},on:{input:function(n){return t.$emit("updateColumn",{column:e,columnIndex:i,blocks:n})}}},"k-layout-column",e,!1))})),1),n("nav",{staticClass:"k-layout-toolbar"},[n("k-dropdown",[n("k-button",{staticClass:"k-layout-toolbar-button",attrs:{icon:"angle-down"},on:{click:function(e){return t.$refs.options.toggle()}}}),n("k-dropdown-content",{ref:"options",attrs:{align:"right"}},[n("k-dropdown-item",{attrs:{icon:"angle-up"},on:{click:function(e){return t.$emit("prepend")}}},[t._v(t._s(t.$t("insert.before")))]),n("k-dropdown-item",{attrs:{icon:"angle-down"},on:{click:function(e){return t.$emit("append")}}},[t._v(t._s(t.$t("insert.after")))]),n("hr"),t.settings?n("k-dropdown-item",{attrs:{icon:"settings"},on:{click:function(e){return t.$refs.drawer.open()}}},[t._v(t._s(t.$t("settings")))]):t._e(),n("k-dropdown-item",{attrs:{icon:"copy"},on:{click:function(e){return t.$emit("duplicate")}}},[t._v(t._s(t.$t("duplicate")))]),n("hr"),n("k-dropdown-item",{attrs:{icon:"trash"},on:{click:function(e){return t.$refs.confirmRemoveDialog.open()}}},[t._v(t._s(t.$t("field.layout.delete")))])],1)],1),n("k-sort-handle")],1),t.settings?n("k-form-drawer",{ref:"drawer",staticClass:"k-layout-drawer",attrs:{tabs:t.tabs,title:t.$t("settings"),value:t.attrs,icon:"dashboard"},on:{input:function(e){return t.$emit("updateAttrs",e)}}}):t._e(),n("k-remove-dialog",{ref:"confirmRemoveDialog",attrs:{text:t.$t("field.layout.delete.confirm")},on:{submit:function(e){return t.$emit("remove")}}})],1)},Ac=[],Bc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-column k-layout-column",attrs:{"data-width":t.width,id:t.id,tabindex:"0"},on:{dblclick:function(e){return t.$refs.blocks.choose(t.blocks.length)}}},[n("k-blocks",{ref:"blocks",attrs:{endpoints:t.endpoints,"fieldset-groups":t.fieldsetGroups,fieldsets:t.fieldsets,value:t.blocks,group:"layout"},on:{input:function(e){return t.$emit("input",e)}},nativeOn:{dblclick:function(t){t.stopPropagation()}}})],1)},Dc=[],Mc={props:{blocks:Array,endpoints:Object,fieldsetGroups:Object,fieldsets:Object,id:String,isSelected:Boolean,width:String}},Nc=Mc,Pc=(n("e791"),Object(f["a"])(Nc,Bc,Dc,!1,null,null,null)),qc=Pc.exports,Fc={components:{"k-layout-column":qc},props:{attrs:[Array,Object],columns:Array,endpoints:Object,fieldsetGroups:Object,fieldsets:Object,id:String,isSelected:Boolean,settings:Object},computed:{tabs:function(){var t=this,e=this.settings.tabs;return Object.entries(e).forEach((function(n){var i=Object(rs["a"])(n,2),r=i[0],s=i[1];Object.entries(s.fields).forEach((function(n){var i=Object(rs["a"])(n,1),s=i[0];e[r].fields[s].endpoints={field:t.endpoints.field+"/fields/"+s,section:t.endpoints.section,model:t.endpoints.model}}))})),e}}},Uc=Fc,zc=(n("170b"),Object(f["a"])(Uc,Ic,Ac,!1,null,null,null)),Hc=zc.exports,Kc={components:{"k-layout":Hc},props:{empty:String,endpoints:Object,fieldsetGroups:Object,fieldsets:Object,layouts:Array,max:Number,settings:Object,value:Array},data:function(){return{currentLayout:null,nextIndex:null,rows:this.value,selected:null}},computed:{draggableOptions:function(){return{id:this._uid,handle:!0,list:this.rows}}},watch:{value:function(){this.rows=this.value}},created:function(){this.save=X(this.save,50)},methods:{addLayout:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$api.post(e.endpoints.field+"/layout",{columns:t});case 2:i=n.sent,e.rows.splice(e.nextIndex,0,i),e.layouts.length>1&&e.$refs.selector.close(),e.save();case 6:case"end":return n.stop()}}),n)})))()},duplicateLayout:function(t,e){var n=this,i=Object(x["a"])(Object(x["a"])({},this.$helper.clone(e)),{},{id:this.$helper.uuid()});i.columns=i.columns.map((function(t){return t.id=n.$helper.uuid(),t.blocks=t.blocks.map((function(t){return t.id=n.$helper.uuid(),t})),t})),this.rows.splice(t+1,0,i),this.save()},removeLayout:function(t){var e=this.rows.findIndex((function(e){return e.id===t.id}));-1!==e&&this.$delete(this.rows,e),this.save()},save:function(){this.$emit("input",this.rows)},selectLayout:function(t){this.nextIndex=t,1!==this.layouts.length?this.$refs.selector.open():this.addLayout(this.layouts[0])},updateColumn:function(t){this.rows[t.layoutIndex].columns[t.columnIndex].blocks=t.blocks,this.save()},updateAttrs:function(t,e){this.rows[t].attrs=e,this.save()}}},Yc=Kc,Gc=(n("a659"),Object(f["a"])(Yc,Tc,Lc,!1,null,null,null)),Wc=Gc.exports,Jc={components:{"k-block-layouts":Wc},inheritAttrs:!1,props:Object(x["a"])(Object(x["a"])({},xr.props),{},{empty:String,fieldsetGroups:Object,fieldsets:Object,layouts:{type:Array,default:function(){return[["1/1"]]}},settings:Object,value:{type:Array,default:function(){return[]}}})},Vc=Jc,Zc=Object(f["a"])(Vc,Ec,Rc,!1,null,null,null),Xc=Zc.exports,Qc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("hr",{staticClass:"k-line-field"})},tl=[],el=(n("718c"),{}),nl=Object(f["a"])(el,Qc,tl,!1,null,null,null),il=nl.exports,rl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-list-field",attrs:{input:t._uid,counter:!1}},"k-field",t.$props,!1),[n("k-input",{ref:"input",attrs:{id:t._uid,marks:t.marks,value:t.value,type:"list",theme:"field"},on:{input:function(e){return t.$emit("input",e)}}})],1)},sl=[],al={inheritAttrs:!1,props:Object(x["a"])(Object(x["a"])(Object(x["a"])({},xr.props),Dr.props),{},{marks:[Array,Boolean],value:String}),methods:{focus:function(){this.$refs.input.focus()}}},ol=al,ul=(n("116a"),Object(f["a"])(ol,rl,sl,!1,null,null,null)),cl=ul.exports,ll=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-multiselect-field",attrs:{input:t._uid,counter:t.counterOptions},on:{blur:t.blur},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.focus(e))}}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"multiselect"}},"k-input",t.$props,!1),t.$listeners))],1)},pl=[],dl={inheritAttrs:!1,props:Object(x["a"])(Object(x["a"])(Object(x["a"])(Object(x["a"])({},xr.props),Dr.props),Ro.props),{},{counter:{type:Boolean,default:!0},icon:{type:String,default:"angle-down"}}),computed:{counterOptions:function(){return null!==this.value&&!this.disabled&&!1!==this.counter&&{count:this.value&&Array.isArray(this.value)?this.value.length:0,min:this.min,max:this.max}}},mounted:function(){this.$refs.input.$el.setAttribute("tabindex",0)},methods:{blur:function(t){this.$refs.input.blur(t)},focus:function(){this.$refs.input.focus()}}},fl=dl,hl=Object(f["a"])(fl,ll,pl,!1,null,null,null),ml=hl.exports,gl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-number-field",attrs:{input:t._uid}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"number"}},"k-input",t.$props,!1),t.$listeners))],1)},bl=[],vl={inheritAttrs:!1,props:Object(x["a"])(Object(x["a"])(Object(x["a"])({},xr.props),Dr.props),Do.props),methods:{focus:function(){this.$refs.input.focus()}}},kl=vl,$l=Object(f["a"])(kl,gl,bl,!1,null,null,null),yl=$l.exports,wl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-pages-field"},"k-field",t.$props,!1),[n("k-button-group",{staticClass:"k-field-options",attrs:{slot:"options"},slot:"options"},[t.more&&!t.disabled?n("k-button",{staticClass:"k-field-options-button",attrs:{icon:t.btnIcon},on:{click:t.open}},[t._v("\n      "+t._s(t.btnLabel)+"\n    ")]):t._e()],1),t.selected.length?[n("k-draggable",{attrs:{element:t.elements.list,handle:!0,list:t.selected,"data-size":t.size,"data-invalid":t.isInvalid},on:{end:t.onInput}},t._l(t.selected,(function(e,i){return n(t.elements.item,{key:e.id,tag:"component",attrs:{sortable:!t.disabled&&t.selected.length>1,text:e.text,info:e.info,link:t.link?e.link:null,icon:e.icon,image:e.image}},[t.disabled?t._e():n("k-button",{attrs:{slot:"options",icon:"remove"},on:{click:function(e){return t.remove(i)}},slot:"options"})],1)})),1)]:n("k-empty",{attrs:{layout:t.layout,"data-invalid":t.isInvalid,icon:"page"},on:{click:t.open}},[t._v("\n    "+t._s(t.empty||t.$t("field.pages.empty"))+"\n  ")]),n("k-pages-dialog",{ref:"selector",on:{submit:t.select}})],2)},_l=[],xl={mixins:[oc],methods:{open:function(){if(this.disabled)return!1;this.$refs.selector.open({endpoint:this.endpoints.field,max:this.max,multiple:this.multiple,search:this.search,selected:this.selected.map((function(t){return t.id}))})}}},Ol=xl,jl=(n("7e85"),Object(f["a"])(Ol,wl,_l,!1,null,null,null)),Cl=jl.exports,Sl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-password-field",attrs:{input:t._uid,counter:t.counterOptions}},"k-field",t.$props,!1),[t._t("options",null,{slot:"options"}),n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"password"}},"k-input",t.$props,!1),t.$listeners))],2)},El=[],Rl={inheritAttrs:!1,props:Object(x["a"])(Object(x["a"])(Object(x["a"])(Object(x["a"])({},xr.props),Dr.props),qo.props),{},{counter:{type:Boolean,default:!0},minlength:{type:Number,default:8},icon:{type:String,default:"key"}}),computed:{counterOptions:function(){return null!==this.value&&!this.disabled&&!1!==this.counter&&{count:this.value?String(this.value).length:0,min:this.minlength,max:this.maxlength}}},methods:{focus:function(){this.$refs.input.focus()}}},Tl=Rl,Ll=Object(f["a"])(Tl,Sl,El,!1,null,null,null),Il=Ll.exports,Al=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-radio-field"},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"radio"}},"k-input",t.$props,!1),t.$listeners))],1)},Bl=[],Dl={inheritAttrs:!1,props:Object(x["a"])(Object(x["a"])(Object(x["a"])({},xr.props),Dr.props),Yo.props),methods:{focus:function(){this.$refs.input.focus()}}},Ml=Dl,Nl=Object(f["a"])(Ml,Al,Bl,!1,null,null,null),Pl=Nl.exports,ql=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-range-field",attrs:{input:t._uid}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"range"}},"k-input",t.$props,!1),t.$listeners))],1)},Fl=[],Ul={inheritAttrs:!1,props:Object(x["a"])(Object(x["a"])(Object(x["a"])({},xr.props),Dr.props),Xo.props),methods:{focus:function(){this.$refs.input.focus()}}},zl=Ul,Hl=Object(f["a"])(zl,ql,Fl,!1,null,null,null),Kl=Hl.exports,Yl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-select-field",attrs:{input:t._uid}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"select"}},"k-input",t.$props,!1),t.$listeners))],1)},Gl=[],Wl={inheritAttrs:!1,props:Object(x["a"])(Object(x["a"])(Object(x["a"])(Object(x["a"])({},xr.props),Dr.props),ru.props),{},{icon:{type:String,default:"angle-down"}}),methods:{focus:function(){this.$refs.input.focus()}}},Jl=Wl,Vl=Object(f["a"])(Jl,Yl,Gl,!1,null,null,null),Zl=Vl.exports,Xl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-structure-field",nativeOn:{click:function(t){t.stopPropagation()}}},"k-field",t.$props,!1),[n("template",{slot:"options"},[t.more&&null===t.currentIndex?n("k-button",{ref:"add",attrs:{id:t._uid,icon:"add"},on:{click:t.add}},[t._v("\n      "+t._s(t.$t("add"))+"\n    ")]):t._e()],1),null!==t.currentIndex?[n("div",{staticClass:"k-structure-backdrop",on:{click:t.escape}}),n("section",{staticClass:"k-structure-form"},[n("k-form",{ref:"form",staticClass:"k-structure-form-fields",attrs:{fields:t.formFields},on:{input:t.onInput,submit:t.submit},model:{value:t.currentModel,callback:function(e){t.currentModel=e},expression:"currentModel"}}),n("footer",{staticClass:"k-structure-form-buttons"},[n("k-button",{staticClass:"k-structure-form-cancel-button",attrs:{icon:"cancel"},on:{click:t.close}},[t._v(t._s(t.$t("cancel")))]),"new"!==t.currentIndex?n("k-pagination",{attrs:{dropdown:!1,total:t.items.length,limit:1,page:t.currentIndex+1,details:!0,validate:t.beforePaginate},on:{paginate:t.paginate}}):t._e(),n("k-button",{staticClass:"k-structure-form-submit-button",attrs:{icon:"check"},on:{click:t.submit}},[t._v(t._s(t.$t("new"!==t.currentIndex?"confirm":"add")))])],1)],1)]:0===t.items.length?n("k-empty",{attrs:{"data-invalid":t.isInvalid,icon:"list-bullet"},on:{click:t.add}},[t._v("\n    "+t._s(t.empty||t.$t("field.structure.empty"))+"\n  ")]):[n("table",{staticClass:"k-structure-table",attrs:{"data-invalid":t.isInvalid,"data-sortable":t.isSortable}},[n("thead",[n("tr",[n("th",{staticClass:"k-structure-table-index"},[t._v("#")]),t._l(t.columns,(function(e,i){return n("th",{key:i+"-header",staticClass:"k-structure-table-column",style:"width:"+t.width(e.width),attrs:{"data-align":e.align}},[t._v("\n            "+t._s(e.label)+"\n          ")])})),n("th")],2)]),n("k-draggable",{attrs:{list:t.items,"data-disabled":t.disabled,options:t.dragOptions,handle:!0,dir:t.direction,element:"tbody"},on:{end:t.onInput}},t._l(t.paginatedItems,(function(e,i){return n("tr",{key:i,on:{click:function(t){t.stopPropagation()}}},[n("td",{staticClass:"k-structure-table-index"},[t.isSortable?n("k-sort-handle"):t._e(),n("span",{staticClass:"k-structure-table-index-number"},[t._v(t._s(t.indexOf(i)))])],1),t._l(t.columns,(function(r,s){return n("td",{key:s,staticClass:"k-structure-table-column",style:"width:"+t.width(r.width),attrs:{title:r.label,"data-align":r.align},on:{click:function(e){return t.jump(i,s)}}},[!1===t.columnIsEmpty(e[s])?[t.previewExists(r.type)?n("k-"+r.type+"-field-preview",{tag:"component",attrs:{value:e[s],column:r,field:t.fields[s]},on:{input:function(e){return t.update(i,s,e)}}}):[n("p",{staticClass:"k-structure-table-text"},[t._v("\n                  "+t._s(r.before)+" "+t._s(t.displayText(t.fields[s],e[s])||"–")+" "+t._s(r.after)+"\n                ")])]]:t._e()],2)})),n("td",{staticClass:"k-structure-table-options"},[t.duplicate&&t.more&&null===t.currentIndex?[n("k-button",{key:i,ref:"actionsToggle",refInFor:!0,staticClass:"k-structure-table-options-button",attrs:{icon:"dots"},on:{click:function(e){t.$refs[i+"-actions"][0].toggle()}}}),n("k-dropdown-content",{ref:i+"-actions",refInFor:!0,attrs:{align:"right"}},[n("k-dropdown-item",{attrs:{icon:"copy"},on:{click:function(e){return t.duplicateItem(i)}}},[t._v(t._s(t.$t("duplicate")))]),n("k-dropdown-item",{attrs:{icon:"remove"},on:{click:function(e){return t.confirmRemove(i)}}},[t._v(t._s(t.$t("remove")))])],1)]:[n("k-button",{staticClass:"k-structure-table-options-button",attrs:{tooltip:t.$t("remove"),icon:"remove"},on:{click:function(e){return t.confirmRemove(i)}}})]],2)],2)})),0)],1),t.limit?n("k-pagination",t._b({on:{paginate:t.paginateItems}},"k-pagination",t.pagination,!1)):t._e(),t.disabled?t._e():n("k-dialog",{ref:"remove",attrs:{"submit-button":t.$t("delete"),theme:"negative"},on:{submit:t.remove}},[n("k-text",[t._v(t._s(t.$t("field.structure.delete.confirm")))])],1)]],2)},Ql=[],tp={inheritAttrs:!1,props:Object(x["a"])(Object(x["a"])({},xr.props),{},{columns:Object,duplicate:{type:Boolean,default:!0},empty:String,fields:Object,limit:Number,max:Number,min:Number,prepend:{type:Boolean,default:!1},sortable:{type:Boolean,default:!0},sortBy:String,value:{type:Array,default:function(){return[]}}}),data:function(){return{items:this.makeItems(this.value),currentIndex:null,currentModel:null,trash:null,page:1}},computed:{direction:function(){return uo(this)},dragOptions:function(){return{disabled:!this.isSortable,fallbackClass:"k-sortable-row-fallback"}},formFields:function(){var t=this,e={};return Object.keys(this.fields).forEach((function(n){var i=t.fields[n];i.section=t.name,i.endpoints={field:t.endpoints.field+"+"+n,section:t.endpoints.section,model:t.endpoints.model},e[n]=i})),e},more:function(){return!0!==this.disabled&&!(this.max&&this.items.length>=this.max)},isInvalid:function(){return!0!==this.disabled&&(!!(this.min&&this.items.length<this.min)||!!(this.max&&this.items.length>this.max))},isSortable:function(){return!this.sortBy&&(!this.limit&&(!0!==this.disabled&&(!(this.items.length<=1)&&!1!==this.sortable)))},pagination:function(){var t=0;return this.limit&&(t=(this.page-1)*this.limit),{page:this.page,offset:t,limit:this.limit,total:this.items.length,align:"center",details:!0}},paginatedItems:function(){return this.limit?this.items.slice(this.pagination.offset,this.pagination.offset+this.limit):this.items}},watch:{value:function(t){t!=this.items&&(this.items=this.makeItems(t))}},methods:{add:function(){var t=this;if(!0===this.disabled)return!1;if(null!==this.currentIndex)return this.escape(),!1;var e={};Object.keys(this.fields).forEach((function(n){var i=t.fields[n];null!==i.default?e[n]=t.$helper.clone(i.default):e[n]=null})),this.currentIndex="new",this.currentModel=e,this.createForm()},addItem:function(t){!0===this.prepend?this.items.unshift(t):this.items.push(t)},beforePaginate:function(){return this.save(this.currentModel)},close:function(){this.currentIndex=null,this.currentModel=null,this.$events.$off("keydown.esc",this.escape),this.$events.$off("keydown.cmd.s",this.submit),this.$store.dispatch("content/enable")},columnIsEmpty:function(t){return void 0===t||null===t||""===t||("object"===Object(me["a"])(t)&&0===Object.keys(t).length&&t.constructor===Object||void 0!==t.length&&0===t.length)},confirmRemove:function(t){this.close(),this.trash=t+this.pagination.offset,this.$refs.remove.open()},createForm:function(t){var e=this;this.$events.$on("keydown.esc",this.escape),this.$events.$on("keydown.cmd.s",this.submit),this.$store.dispatch("content/disable"),this.$nextTick((function(){e.$refs.form&&e.$refs.form.focus(t)}))},displayText:function(t,e){switch(t.type){case"user":return e.email;case"date":var n=this.$library.dayjs(e),i=!0===t.time?"YYYY-MM-DD HH:mm":"YYYY-MM-DD";return n.isValid()?n.format(i):"";case"tags":case"multiselect":return e.map((function(t){return t.text})).join(", ");case"checkboxes":return e.map((function(e){var n=e;return t.options.forEach((function(t){t.value===e&&(n=t.text)})),n})).join(", ");case"radio":case"select":var r=t.options.filter((function(t){return t.value===e}))[0];return r?r.text:null}return"object"===Object(me["a"])(e)&&null!==e?"…":e.toString()},duplicateItem:function(t){this.addItem(this.items[t+this.pagination.offset]),this.onInput()},escape:function(){var t=this;if("new"===this.currentIndex){var e=Object.values(this.currentModel),n=!0;if(e.forEach((function(e){!1===t.columnIsEmpty(e)&&(n=!1)})),!0===n)return void this.close()}this.submit()},focus:function(){this.$refs.add&&this.$refs.add.focus&&this.$refs.add.focus()},indexOf:function(t){return this.limit?(this.page-1)*this.limit+t+1:t+1},isActive:function(t){return this.currentIndex===t},jump:function(t,e){this.open(t+this.pagination.offset,e)},makeItems:function(t){return!1===Array.isArray(t)?[]:this.sort(t)},onInput:function(){this.$emit("input",this.items)},open:function(t,e){this.currentIndex=t,this.currentModel=this.$helper.clone(this.items[t]),this.createForm(e)},paginate:function(t){this.open(t.offset)},paginateItems:function(t){this.page=t.page},previewExists:function(t){return this.$helper.isComponent("k-".concat(t,"-field-preview"))},remove:function(){if(null===this.trash)return!1;this.items.splice(this.trash,1),this.trash=null,this.$refs.remove.close(),this.onInput(),0===this.paginatedItems.length&&this.page>1&&this.page--,this.items=this.sort(this.items)},sort:function(t){return this.sortBy?t.sortBy(this.sortBy):t},save:function(){var t=this;return null!==this.currentIndex&&void 0!==this.currentIndex?this.validate(this.currentModel).then((function(){return"new"===t.currentIndex?t.addItem(t.currentModel):t.items[t.currentIndex]=t.currentModel,t.items=t.sort(t.items),t.onInput(),!0})).catch((function(e){throw t.$store.dispatch("notification/error",{message:t.$t("error.form.incomplete"),details:e}),e})):Promise.resolve()},submit:function(){this.save().then(this.close).catch((function(){}))},validate:function(t){return this.$api.post(this.endpoints.field+"/validate",t).then((function(t){if(t.length>0)throw t;return!0}))},width:function(t){if(!t)return"auto";var e=t.toString().split("/");if(2!==e.length)return"auto";var n=Number(e[0]),i=Number(e[1]);return parseFloat(100/i*n,2).toFixed(2)+"%"},update:function(t,e,n){this.items[t][e]=n,this.onInput()}}},ep=tp,np=(n("088c"),Object(f["a"])(ep,Xl,Ql,!1,null,null,null)),ip=np.exports,rp=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-tags-field",attrs:{input:t._uid,counter:t.counterOptions}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"tags"}},"k-input",t.$props,!1),t.$listeners))],1)},sp=[],ap={inheritAttrs:!1,props:Object(x["a"])(Object(x["a"])(Object(x["a"])(Object(x["a"])({},xr.props),Dr.props),lu.props),{},{counter:{type:Boolean,default:!0}}),computed:{counterOptions:function(){return null!==this.value&&!this.disabled&&!1!==this.counter&&{count:this.value&&Array.isArray(this.value)?this.value.length:0,min:this.min,max:this.max}}},methods:{focus:function(){this.$refs.input.focus()}}},op=ap,up=Object(f["a"])(op,rp,sp,!1,null,null,null),cp=up.exports,lp=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-tel-field",attrs:{input:t._uid}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"tel"}},"k-input",t.$props,!1),t.$listeners))],1)},pp=[],dp={inheritAttrs:!1,props:Object(x["a"])(Object(x["a"])(Object(x["a"])(Object(x["a"])({},xr.props),Dr.props),hu.props),{},{icon:{type:String,default:"phone"}}),methods:{focus:function(){this.$refs.input.focus()}}},fp=dp,hp=Object(f["a"])(fp,lp,pp,!1,null,null,null),mp=hp.exports,gp=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-text-field",attrs:{input:t._uid,counter:t.counterOptions}},"k-field",t.$props,!1),[t._t("options",null,{slot:"options"}),n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field"}},"k-input",t.$props,!1),t.$listeners))],2)},bp=[],vp={inheritAttrs:!1,props:Object(x["a"])(Object(x["a"])(Object(x["a"])(Object(x["a"])({},xr.props),Dr.props),fo.props),{},{counter:{type:Boolean,default:!0}}),computed:{counterOptions:function(){return null!==this.value&&!this.disabled&&!1!==this.counter&&{count:this.value?String(this.value).length:0,min:this.minlength,max:this.maxlength}}},methods:{focus:function(){this.$refs.input.focus()},select:function(){this.$refs.input.select()}}},kp=vp,$p=(n("b746"),Object(f["a"])(kp,gp,bp,!1,null,null,null)),yp=$p.exports,wp=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-textarea-field",attrs:{input:t._uid,counter:t.counterOptions}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,type:"textarea",theme:"field"}},"k-input",t.$props,!1),t.$listeners))],1)},_p=[],xp={inheritAttrs:!1,props:Object(x["a"])(Object(x["a"])(Object(x["a"])(Object(x["a"])({},xr.props),Dr.props),$u.props),{},{counter:{type:Boolean,default:!0}}),computed:{counterOptions:function(){return null!==this.value&&!this.disabled&&!1!==this.counter&&{count:this.value?this.value.length:0,min:this.minlength,max:this.maxlength}}},methods:{focus:function(){this.$refs.input.focus()}}},Op=xp,jp=Object(f["a"])(Op,wp,_p,!1,null,null,null),Cp=jp.exports,Sp=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-time-field",attrs:{input:t._uid}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"time"}},"k-input",t.$props,!1),t.listeners))],1)},Ep=[],Rp={inheritAttrs:!1,props:Object(x["a"])(Object(x["a"])(Object(x["a"])(Object(x["a"])({},xr.props),Dr.props),xu.props),{},{icon:{type:String,default:"clock"}}),computed:{listeners:function(){var t=this;return Object(x["a"])(Object(x["a"])({},this.$listeners),{},{update:function(e){return t.$emit("input",e)},input:function(){}})}},methods:{focus:function(){this.$refs.input.focus()}}},Tp=Rp,Lp=Object(f["a"])(Tp,Sp,Ep,!1,null,null,null),Ip=Lp.exports,Ap=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-toggle-field",attrs:{input:t._uid}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"toggle"}},"k-input",t.$props,!1),t.$listeners))],1)},Bp=[],Dp={inheritAttrs:!1,props:Object(x["a"])(Object(x["a"])(Object(x["a"])({},xr.props),Dr.props),Ru.props),methods:{focus:function(){this.$refs.input.focus()}}},Mp=Dp,Np=Object(f["a"])(Mp,Ap,Bp,!1,null,null,null),Pp=Np.exports,qp=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-url-field",attrs:{input:t._uid}},"k-field",t.$props,!1),[n("k-input",t._g(t._b({ref:"input",attrs:{id:t._uid,theme:"field",type:"url"}},"k-input",t.$props,!1),t.$listeners),[t.link?n("k-button",{staticClass:"k-input-icon-button",attrs:{slot:"icon",icon:t.icon,link:t.value,tooltip:t.$t("open"),tabindex:"-1",target:"_blank"},slot:"icon"}):t._e()],1)],1)},Fp=[],Up={inheritAttrs:!1,props:Object(x["a"])(Object(x["a"])(Object(x["a"])(Object(x["a"])({},xr.props),Dr.props),Au.props),{},{link:{type:Boolean,default:!0},icon:{type:String,default:"url"}}),methods:{focus:function(){this.$refs.input.focus()}}},zp=Up,Hp=Object(f["a"])(zp,qp,Fp,!1,null,null,null),Kp=Hp.exports,Yp=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-users-field"},"k-field",t.$props,!1),[n("k-button-group",{staticClass:"k-field-options",attrs:{slot:"options"},slot:"options"},[t.more&&!t.disabled?n("k-button",{staticClass:"k-field-options-button",attrs:{icon:t.btnIcon},on:{click:t.open}},[t._v("\n      "+t._s(t.btnLabel)+"\n    ")]):t._e()],1),t.selected.length?[n("k-draggable",{attrs:{element:t.elements.list,list:t.selected,handle:!0,"data-invalid":t.isInvalid},on:{end:t.onInput}},t._l(t.selected,(function(e,i){return n(t.elements.item,{key:e.email,tag:"component",attrs:{sortable:!t.disabled&&t.selected.length>1,text:e.text,info:e.info,link:t.link?t.$api.users.link(e.id):null,image:e.image,icon:e.icon}},[t.disabled?t._e():n("k-button",{attrs:{slot:"options",icon:"remove"},on:{click:function(e){return t.remove(i)}},slot:"options"})],1)})),1)]:n("k-empty",{attrs:{"data-invalid":t.isInvalid,icon:"users"},on:{click:t.open}},[t._v("\n    "+t._s(t.empty||t.$t("field.users.empty"))+"\n  ")]),n("k-users-dialog",{ref:"selector",on:{submit:t.select}})],2)},Gp=[],Wp={mixins:[oc],methods:{open:function(){if(this.disabled)return!1;this.$refs.selector.open({endpoint:this.endpoints.field,max:this.max,multiple:this.multiple,search:this.search,selected:this.selected.map((function(t){return t.id}))})}}},Jp=Wp,Vp=(n("7f6e"),Object(f["a"])(Jp,Yp,Gp,!1,null,null,null)),Zp=Vp.exports,Xp=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-field",t._b({staticClass:"k-writer-field",attrs:{input:t._uid,counter:!1}},"k-field",t.$props,!1),[n("k-input",{attrs:{after:t.after,before:t.before,icon:t.icon,theme:"field"}},[n("k-writer",t._b({ref:"input",staticClass:"k-writer-field-input",attrs:{value:t.value},on:{input:function(e){return t.$emit("input",e)}}},"k-writer",t.$props,!1))],1)],1)},Qp=[],td={inheritAttrs:!1,props:Object(x["a"])(Object(x["a"])(Object(x["a"])({},xr.props),Dr.props),Aa.props),methods:{focus:function(){this.$refs.input.focus()}}},ed=td,nd=(n("1267"),Object(f["a"])(ed,Xp,Qp,!1,null,null,null)),id=nd.exports,rd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"k-toolbar"},[n("div",{staticClass:"k-toolbar-wrapper"},[n("div",{staticClass:"k-toolbar-buttons"},[t._l(t.layout,(function(e,i){return[e.divider?[n("span",{key:i,staticClass:"k-toolbar-divider"})]:e.dropdown?[n("k-dropdown",{key:i},[n("k-button",{key:i,staticClass:"k-toolbar-button",attrs:{icon:e.icon,tooltip:e.label,tabindex:"-1"},on:{click:function(e){t.$refs[i+"-dropdown"][0].toggle()}}}),n("k-dropdown-content",{ref:i+"-dropdown",refInFor:!0},t._l(e.dropdown,(function(e,i){return n("k-dropdown-item",{key:i,attrs:{icon:e.icon},on:{click:function(n){return t.command(e.command,e.args)}}},[t._v("\n                "+t._s(e.label)+"\n              ")])})),1)],1)]:[n("k-button",{key:i,staticClass:"k-toolbar-button",attrs:{icon:e.icon,tooltip:e.label,tabindex:"-1"},on:{click:function(n){return t.command(e.command,e.args)}}})]]}))],2)])])},sd=[],ad=function(t){this.command("insert",(function(e,n){var i=[];return n.split("\n").forEach((function(e,n){var r="ol"===t?n+1+".":"-";i.push(r+" "+e)})),i.join("\n")}))},od={layout:["headlines","bold","italic","|","link","email","file","|","code","ul","ol"],props:{buttons:{type:[Boolean,Array],default:!0},uploads:[Boolean,Object,Array]},data:function(){var t={},e={},n=[],i=this.commands();return!1===this.buttons?t:(Array.isArray(this.buttons)&&(n=this.buttons),!0!==Array.isArray(this.buttons)&&(n=this.$options.layout),n.forEach((function(n,r){if("|"===n)t["divider-"+r]={divider:!0};else if(i[n]){var s=i[n];t[n]=s,s.shortcut&&(e[s.shortcut]=n)}})),{layout:t,shortcuts:e})},methods:{command:function(t,e){"function"===typeof t?t.apply(this):this.$emit("command",t,e)},close:function(){var t=this;Object.keys(this.$refs).forEach((function(e){var n=t.$refs[e][0];n.close&&"function"===typeof n.close&&n.close()}))},fileCommandSetup:function(){var t={label:this.$t("toolbar.button.file"),icon:"attachment"};return!1===this.uploads?t.command="selectFile":t.dropdown={select:{label:this.$t("toolbar.button.file.select"),icon:"check",command:"selectFile"},upload:{label:this.$t("toolbar.button.file.upload"),icon:"upload",command:"uploadFile"}},t},commands:function(){return{headlines:{label:this.$t("toolbar.button.headings"),icon:"title",dropdown:{h1:{label:this.$t("toolbar.button.heading.1"),icon:"title",command:"prepend",args:"#"},h2:{label:this.$t("toolbar.button.heading.2"),icon:"title",command:"prepend",args:"##"},h3:{label:this.$t("toolbar.button.heading.3"),icon:"title",command:"prepend",args:"###"}}},bold:{label:this.$t("toolbar.button.bold"),icon:"bold",command:"wrap",args:"**",shortcut:"b"},italic:{label:this.$t("toolbar.button.italic"),icon:"italic",command:"wrap",args:"*",shortcut:"i"},link:{label:this.$t("toolbar.button.link"),icon:"url",shortcut:"k",command:"dialog",args:"link"},email:{label:this.$t("toolbar.button.email"),icon:"email",shortcut:"e",command:"dialog",args:"email"},file:this.fileCommandSetup(),code:{label:this.$t("toolbar.button.code"),icon:"code",command:"wrap",args:"`"},ul:{label:this.$t("toolbar.button.ul"),icon:"list-bullet",command:function(){return ad.apply(this,["ul"])}},ol:{label:this.$t("toolbar.button.ol"),icon:"list-numbers",command:function(){return ad.apply(this,["ol"])}}}},shortcut:function(t,e){if(this.shortcuts[t]){var n=this.layout[this.shortcuts[t]];if(!n)return!1;e.preventDefault(),this.command(n.command,n.args)}}}},ud=od,cd=(n("df0d"),Object(f["a"])(ud,rd,sd,!1,null,null,null)),ld=cd.exports,pd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dialog",{ref:"dialog",attrs:{"submit-button":t.$t("insert")},on:{close:t.cancel,submit:function(e){return t.$refs.form.submit()}}},[n("k-form",{ref:"form",attrs:{fields:t.fields},on:{submit:t.submit},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},dd=[],fd={data:function(){return{value:{email:null,text:null},fields:{email:{label:this.$t("email"),type:"email"},text:{label:this.$t("link.text"),type:"text"}}}},computed:{kirbytext:function(){return this.$store.state.system.info.kirbytext}},methods:{open:function(t,e){this.value.text=e,this.$refs.dialog.open()},cancel:function(){this.$emit("cancel")},createKirbytext:function(){var t=this.value.email||"";return this.value.text&&this.value.text.length>0?"(email: ".concat(t," text: ").concat(this.value.text,")"):"(email: ".concat(t,")")},createMarkdown:function(){var t=this.value.email||"";return this.value.text&&this.value.text.length>0?"[".concat(this.value.text,"](mailto:").concat(t,")"):"<".concat(t,">")},submit:function(){this.$emit("submit",this.kirbytext?this.createKirbytext():this.createMarkdown()),this.value={email:null,text:null},this.$refs.dialog.close()}}},hd=fd,md=Object(f["a"])(hd,pd,dd,!1,null,null,null),gd=md.exports,bd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dialog",{ref:"dialog",attrs:{"submit-button":t.$t("insert")},on:{close:t.cancel,submit:function(e){return t.$refs.form.submit()}}},[n("k-form",{ref:"form",attrs:{fields:t.fields},on:{submit:t.submit},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},vd=[],kd={data:function(){return{value:{url:null,text:null},fields:{url:{label:this.$t("link"),type:"text",placeholder:this.$t("url.placeholder"),icon:"url"},text:{label:this.$t("link.text"),type:"text"}}}},computed:{kirbytext:function(){return this.$store.state.system.info.kirbytext}},methods:{open:function(t,e){this.value.text=e,this.$refs.dialog.open()},cancel:function(){this.$emit("cancel")},createKirbytext:function(){return this.value.text.length>0?"(link: ".concat(this.value.url," text: ").concat(this.value.text,")"):"(link: ".concat(this.value.url,")")},createMarkdown:function(){return this.value.text.length>0?"[".concat(this.value.text,"](").concat(this.value.url,")"):"<".concat(this.value.url,">")},submit:function(){this.$emit("submit",this.kirbytext?this.createKirbytext():this.createMarkdown()),this.value={url:null,text:null},this.$refs.dialog.close()}}},$d=kd,yd=Object(f["a"])($d,bd,vd,!1,null,null,null),wd=yd.exports,_d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",{staticClass:"k-date-field-preview"},[t._v("\n    "+t._s(t.text)+"\n  ")])])},xd=[],Od={props:{field:Object,value:String},computed:{text:function(){var t=Qa.methods.toDatetime.call(this,this.value);return t.format(this.field.display)}}},jd=Od,Cd=(n("96a5"),Object(f["a"])(jd,_d,xd,!1,null,null,null)),Sd=Cd.exports,Ed=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"k-url-field-preview"},[t._v("\n  "+t._s(t.column.before)+"\n  "),n("k-link",{attrs:{to:t.link,target:"_blank"},nativeOn:{click:function(t){t.stopPropagation()}}},[t._v(t._s(t.value))]),t._v("\n  "+t._s(t.column.after)+"\n")],1)},Rd=[],Td={props:{column:{type:Object,default:function(){return{}}},value:String},computed:{link:function(){return this.value}}},Ld=Td,Id=(n("977f"),Object(f["a"])(Ld,Ed,Rd,!1,null,null,null)),Ad=Id.exports,Bd={extends:Ad,computed:{link:function(){return this.value&&this.value.length>0?"mailto:"+this.value:null}}},Dd=Bd,Md=Object(f["a"])(Dd,Ks,Ys,!1,null,null,null),Nd=Md.exports,Pd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.value?n("ul",{staticClass:"k-files-field-preview"},t._l(t.value,(function(e){return n("li",{key:e.url},[n("k-link",{attrs:{title:e.filename,to:e.link},nativeOn:{click:function(t){t.stopPropagation()}}},["image"===e.type?n("k-image",t._b({},"k-image",t.imageOptions(e),!1)):n("k-icon",t._b({},"k-icon",e.icon,!1))],1)],1)})),0):t._e()},qd=[],Fd=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"list",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1/1";if(!t||0===t.length)return!1;var i=null,r=null;if(t.list?(i=t[e].url,r=t[e].srcset):(i=t.url,r=t.srcset),!i)return!1;var s={src:i,srcset:r,back:t.back||"black",cover:t.cover};return"cards"===e&&(s.ratio=t.ratio||"3/2",s.sizes=Ud(n)),s};function Ud(t){switch(t){case"1/2":case"2/4":return"(min-width: 30em) and (max-width: 65em) 59em, (min-width: 65em) 44em, 27em";case"1/3":return"(min-width: 30em) and (max-width: 65em) 59em, (min-width: 65em) 29.333em, 27em";case"1/4":return"(min-width: 30em) and (max-width: 65em) 59em, (min-width: 65em) 22em, 27em";case"2/3":return"(min-width: 30em) and (max-width: 65em) 59em, (min-width: 65em) 27em, 27em";case"3/4":return"(min-width: 30em) and (max-width: 65em) 59em, (min-width: 65em) 66em, 27em";default:return"(min-width: 30em) and (max-width: 65em) 59em, (min-width: 65em) 88em, 27em"}}var zd,Hd,Kd,Yd,Gd={props:{value:Array,field:Object},methods:{imageOptions:function(t){var e=Fd(t.image);return e.src?Object(x["a"])(Object(x["a"])({},e),{},{back:"pattern",cover:!1},this.field.image||{}):{src:t.url}}}},Wd=Gd,Jd=(n("21dc"),Object(f["a"])(Wd,Pd,qd,!1,null,null,null)),Vd=Jd.exports,Zd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.value?n("ul",{staticClass:"k-pages-field-preview"},t._l(t.value,(function(e){return n("li",{key:e.id},[n("figure",[n("k-link",{attrs:{title:e.id,to:t.$api.pages.link(e.id)},nativeOn:{click:function(t){t.stopPropagation()}}},[n("k-icon",{staticClass:"k-pages-field-preview-image",attrs:{type:"page",back:"pattern"}}),n("figcaption",[t._v("\n          "+t._s(e.text)+"\n        ")])],1)],1)])})),0):t._e()},Xd=[],Qd={props:{value:Array}},tf=Qd,ef=(n("d0c1"),Object(f["a"])(tf,Zd,Xd,!1,null,null,null)),nf=ef.exports,rf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",{staticClass:"k-time-field-preview"},[t._v("\n    "+t._s(t.text)+"\n  ")])])},sf=[],af={props:{field:Object,value:String},computed:{text:function(){var t=xu.methods.toDatetime.call(this,this.value);return t.format(this.field.display)}}},of=af,uf=(n("f9aa"),Object(f["a"])(of,rf,sf,!1,null,null,null)),cf=uf.exports,lf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-input",{staticClass:"k-toggle-field-preview",attrs:{text:t.text,type:"toggle"},on:{input:function(e){return t.$emit("input",e)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})},pf=[],df={props:{field:Object,value:Boolean,column:Object},computed:{text:function(){return!1!==this.column.text?this.field.text:null}}},ff=df,hf=(n("1c4e"),Object(f["a"])(ff,lf,pf,!1,null,null,null)),mf=hf.exports,gf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.value?n("ul",{staticClass:"k-users-field-preview"},t._l(t.value,(function(e){return n("li",{key:e.email},[n("figure",[n("k-link",{attrs:{title:e.email,to:t.$api.users.link(e.id)},nativeOn:{click:function(t){t.stopPropagation()}}},[e.avatar?n("k-image",{staticClass:"k-users-field-preview-avatar",attrs:{src:e.avatar.url,back:"pattern"}}):n("k-icon",{staticClass:"k-users-field-preview-avatar",attrs:{type:"user",back:"pattern"}}),n("figcaption",[t._v("\n          "+t._s(e.username)+"\n        ")])],1)],1)])})),0):t._e()},bf=[],vf={props:{value:Array}},kf=vf,$f=(n("3a85"),Object(f["a"])(kf,gf,bf,!1,null,null,null)),yf=$f.exports,wf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"k-aspect-ratio",style:{paddingBottom:t.ratioPadding},attrs:{"data-cover":t.cover}},[t._t("default")],2)},_f=[],xf={props:{cover:Boolean,ratio:String},computed:{ratioPadding:function(){return this.$helper.ratio(this.ratio)}}},Of=xf,jf=(n("8d8b"),Object(f["a"])(Of,wf,_f,!1,null,null,null)),Cf=jf.exports,Sf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-bar"},[t.$slots.left?n("div",{staticClass:"k-bar-slot",attrs:{"data-position":"left"}},[t._t("left")],2):t._e(),t.$slots.center?n("div",{staticClass:"k-bar-slot",attrs:{"data-position":"center"}},[t._t("center")],2):t._e(),t.$slots.right?n("div",{staticClass:"k-bar-slot",attrs:{"data-position":"right"}},[t._t("right")],2):t._e()])},Ef=[],Rf=(n("6f7be"),{}),Tf=Object(f["a"])(Rf,Sf,Ef,!1,null,null,null),Lf=Tf.exports,If=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._g({staticClass:"k-box",attrs:{"data-theme":t.theme}},t.$listeners),[t._t("default",[n("k-text",{domProps:{innerHTML:t._s(t.text)}})])],2)},Af=[],Bf={props:{theme:String,text:String}},Df=Bf,Mf=(n("7dc7"),Object(f["a"])(Df,If,Af,!1,null,null,null)),Nf=Mf.exports,Pf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("figure",t._g({staticClass:"k-card"},t.$listeners),[t.sortable?n("k-sort-handle"):t._e(),n(t.wrapper,{tag:"component",attrs:{to:t.link,target:t.target}},[t.imageOptions?n("k-image",t._b({staticClass:"k-card-image"},"k-image",t.imageOptions,!1)):n("span",{staticClass:"k-card-icon",style:"padding-bottom:"+t.ratioPadding},[n("k-icon",t._b({},"k-icon",t.icon,!1))],1),n("figcaption",{staticClass:"k-card-content"},[n("span",{staticClass:"k-card-text",attrs:{"data-noinfo":!t.info}},[t._v(t._s(t.text))]),t.info?n("span",{staticClass:"k-card-info",domProps:{innerHTML:t._s(t.info)}}):t._e()])],1),n("nav",{staticClass:"k-card-options"},[t.flag?n("k-status-icon",t._b({staticClass:"k-card-options-button"},"k-status-icon",t.flag,!1)):t._e(),t._t("options",[t.options?n("k-button",{staticClass:"k-card-options-button",attrs:{tooltip:t.$t("options"),icon:"dots"},on:{click:function(e){return e.stopPropagation(),t.$refs.dropdown.toggle()}}}):t._e(),n("k-dropdown-content",{ref:"dropdown",staticClass:"k-card-options-dropdown",attrs:{options:t.options,align:"right"},on:{action:function(e){return t.$emit("action",e)}}})])],2)],1)},qf=[],Ff={inheritAttrs:!1,props:{column:String,flag:Object,icon:{type:Object,default:function(){return{type:"file",back:"black"}}},image:[Object,Boolean],info:String,link:[String,Function],options:[Array,Function],sortable:Boolean,target:String,text:String},computed:{wrapper:function(){return this.link?"k-link":"div"},ratioPadding:function(){return this.icon&&this.icon.ratio?this.$helper.ratio(this.icon.ratio):this.$helper.ratio("3/2")},imageOptions:function(){return Fd(this.image,"cards",this.column)}}},Uf=Ff,zf=(n("c119"),Object(f["a"])(Uf,Pf,qf,!1,null,null,null)),Hf=zf.exports,Kf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-cards"},[t._t("default",t._l(t.cards,(function(e,i){return n("k-card",t._g(t._b({key:i},"k-card",e,!1),t.$listeners))})))],2)},Yf=[],Gf={props:{cards:Array}},Wf=Gf,Jf=(n("f56d"),Object(f["a"])(Wf,Kf,Yf,!1,null,null,null)),Vf=Jf.exports,Zf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-collection",attrs:{"data-layout":t.layout}},[n("k-draggable",{attrs:{list:t.items,options:t.dragOptions,element:t.elements.list,"data-size":t.size,handle:!0},on:{change:function(e){return t.$emit("change",e)},end:t.onEnd}},t._l(t.items,(function(e,i){return n(t.elements.item,t._b({key:i,tag:"component",class:{"k-draggable-item":e.sortable},on:{action:function(n){return t.$emit("action",e,n)},dragstart:function(n){return t.onDragStart(n,e.dragText)}}},"component",e,!1))})),1),t.hasFooter?n("footer",{staticClass:"k-collection-footer"},[t.help?n("k-text",{staticClass:"k-collection-help",attrs:{theme:"help"},domProps:{innerHTML:t._s(t.help)}}):t._e(),n("div",{staticClass:"k-collection-pagination"},[t.hasPagination?n("k-pagination",t._b({on:{paginate:function(e){return t.$emit("paginate",e)}}},"k-pagination",t.paginationOptions,!1)):t._e()],1)],1):t._e()],1)},Xf=[],Qf={props:{help:String,items:{type:[Array,Object],default:function(){return[]}},layout:{type:String,default:"list"},size:String,sortable:Boolean,pagination:{type:[Boolean,Object],default:function(){return!1}}},computed:{hasPagination:function(){return!1!==this.pagination&&(!0!==this.paginationOptions.hide&&!(this.pagination.total<=this.pagination.limit))},hasFooter:function(){return!(!this.hasPagination&&!this.help)},dragOptions:function(){return{sort:this.sortable,disabled:!1===this.sortable,draggable:".k-draggable-item"}},elements:function(){var t={cards:{list:"k-cards",item:"k-card"},list:{list:"k-list",item:"k-list-item"}};return t[this.layout]?t[this.layout]:t["list"]},paginationOptions:function(){var t="object"!==Object(me["a"])(this.pagination)?{}:this.pagination;return Object(x["a"])({limit:10,details:!0,keys:!1,total:0,hide:!1},t)}},watch:{$props:function(){this.$forceUpdate()}},over:null,methods:{onEnd:function(){this.over&&this.over.removeAttribute("data-over"),this.$emit("sort",this.items)},onDragStart:function(t,e){this.$store.dispatch("drag",{type:"text",data:e})}}},th=Qf,eh=(n("8c28"),Object(f["a"])(th,Zf,Xf,!1,null,null,null)),nh=eh.exports,ih=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-column",attrs:{"data-width":t.width,"data-sticky":t.sticky}},[n("div",[t._t("default")],2)])},rh=[],sh={props:{width:String,sticky:Boolean}},ah=sh,oh=(n("c9cb"),Object(f["a"])(ah,ih,rh,!1,null,null,null)),uh=oh.exports,ch=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-dropzone",attrs:{"data-dragging":t.dragging,"data-over":t.over},on:{dragenter:t.onEnter,dragleave:t.onLeave,dragover:t.onOver,drop:t.onDrop}},[t._t("default")],2)},lh=[],ph={props:{label:{type:String,default:"Drop to upload"},disabled:{type:Boolean,default:!1}},data:function(){return{files:[],dragging:!1,over:!1}},methods:{cancel:function(){this.reset()},reset:function(){this.dragging=!1,this.over=!1},onDrop:function(t){return!0===this.disabled||!1===this.$helper.isUploadEvent(t)?this.reset():(this.$events.$emit("dropzone.drop"),this.files=t.dataTransfer.files,this.$emit("drop",this.files),void this.reset())},onEnter:function(t){!1===this.disabled&&this.$helper.isUploadEvent(t)&&(this.dragging=!0)},onLeave:function(){this.reset()},onOver:function(t){!1===this.disabled&&this.$helper.isUploadEvent(t)&&(t.dataTransfer.dropEffect="copy",this.over=!0)}}},dh=ph,fh=(n("414d"),Object(f["a"])(dh,ch,lh,!1,null,null,null)),hh=fh.exports,mh=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.element,t._g({tag:"component",staticClass:"k-empty",attrs:{"data-layout":t.layout,type:"button"===t.element&&"button"}},t.$listeners),[t.icon?n("k-icon",{attrs:{type:t.icon}}):t._e(),n("p",[t._t("default")],2)],1)},gh=[],bh={props:{text:String,icon:String,layout:{type:String,default:"list"}},computed:{element:function(){return void 0!==this.$listeners["click"]?"button":"div"}}},vh=bh,kh=(n("ba8f"),Object(f["a"])(vh,mh,gh,!1,null,null,null)),$h=kh.exports,yh=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-file-preview"},[n("k-view",{staticClass:"k-file-preview-layout"},[n("div",{staticClass:"k-file-preview-image"},[n("k-link",{staticClass:"k-file-preview-image-link",attrs:{to:t.file.url,title:t.$t("open"),target:"_blank"}},[t.file.panelImage&&t.file.panelImage.cards&&t.file.panelImage.cards.url?n("k-image",{attrs:{src:t.file.panelImage.cards.url,srcset:t.file.panelImage.cards.srcset,back:"none"}}):t.file.panelIcon?n("k-icon",{staticClass:"k-file-preview-icon",style:{color:t.file.panelIcon.color},attrs:{type:t.file.panelIcon.type}}):n("span",{staticClass:"k-file-preview-placeholder"})],1)],1),n("div",{staticClass:"k-file-preview-details"},[n("ul",[n("li",[n("h3",[t._v(t._s(t.$t("template")))]),n("p",[t._v(t._s(t.file.template||"—"))])]),n("li",[n("h3",[t._v(t._s(t.$t("mime")))]),n("p",[t._v(t._s(t.file.mime))])]),n("li",[n("h3",[t._v(t._s(t.$t("url")))]),n("p",[n("k-link",{attrs:{to:t.file.url,tabindex:"-1",target:"_blank"}},[t._v("/"+t._s(t.file.id))])],1)]),n("li",[n("h3",[t._v(t._s(t.$t("size")))]),n("p",[t._v(t._s(t.file.niceSize))])]),n("li",[n("h3",[t._v(t._s(t.$t("dimensions")))]),t.file.dimensions&&(t.file.dimensions.width||t.file.dimensions.height)?n("p",[t._v("\n            "+t._s(t.file.dimensions.width)+"×"+t._s(t.file.dimensions.height)+" "+t._s(t.$t("pixel"))+"\n          ")]):n("p",[t._v("—")])]),n("li",[n("h3",[t._v(t._s(t.$t("orientation")))]),t.file.dimensions&&t.file.dimensions.orientation?n("p",[t._v("\n            "+t._s(t.$t("orientation."+t.file.dimensions.orientation))+"\n          ")]):n("p",[t._v("—")])])])])])],1)},wh=[],_h={props:{file:Object}},xh=_h,Oh=(n("696b"),Object(f["a"])(xh,yh,wh,!1,null,null,null)),jh=Oh.exports,Ch=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-grid",attrs:{"data-gutter":t.gutter}},[t._t("default")],2)},Sh=[],Eh={props:{gutter:String}},Rh=Eh,Th=(n("5b23"),Object(f["a"])(Rh,Ch,Sh,!1,null,null,null)),Lh=Th.exports,Ih=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"k-header",attrs:{"data-editable":t.editable}},[n("k-headline",{attrs:{tag:"h1",size:"huge"}},[t.editable&&t.$listeners.edit?n("span",{staticClass:"k-headline-editable",on:{click:function(e){return t.$emit("edit")}}},[t._t("default"),n("k-icon",{attrs:{type:"edit"}})],2):t._t("default")],2),t.$slots.left||t.$slots.right?n("k-bar",{staticClass:"k-header-buttons"},[t._t("left",null,{slot:"left"}),t._t("right",null,{slot:"right"})],2):t._e(),n("k-tabs",{attrs:{tab:t.tab,tabs:t.tabsWithBadges,theme:"notice"}})],1)},Ah=[],Bh={props:{editable:Boolean,tab:String,tabs:{type:Array,default:function(){return[]}}},computed:{tabsWithBadges:function(){var t=Object.keys(this.$store.getters["content/changes"]());return this.tabs.map((function(e){var n=[];return Object.values(e.columns).forEach((function(t){Object.values(t.sections).forEach((function(t){"fields"===t.type&&Object.keys(t.fields).forEach((function(t){n.push(t)}))}))})),e.badge=n.filter((function(e){return t.includes(e.toLowerCase())})).length,e}))}}},Dh=Bh,Mh=(n("53c5"),Object(f["a"])(Dh,Ih,Ah,!1,null,null,null)),Nh=Mh.exports,Ph=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"k-list"},[t._t("default",t._l(t.items,(function(e,i){return n("k-list-item",t._g(t._b({key:i},"k-list-item",e,!1),t.$listeners))})))],2)},qh=[],Fh={props:{items:Array}},Uh=Fh,zh=(n("c857"),Object(f["a"])(Uh,Ph,qh,!1,null,null,null)),Hh=zh.exports,Kh=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.element,t._g({tag:"component",staticClass:"k-list-item"},t.$listeners),[t.sortable?n("k-sort-handle"):t._e(),n("k-link",{staticClass:"k-list-item-content",attrs:{to:t.link,target:t.target}},[t.image?n("span",{staticClass:"k-list-item-image"},[t.imageOptions?n("k-image",t._b({},"k-image",t.imageOptions,!1)):n("k-icon",t._b({},"k-icon",t.icon,!1))],1):t._e(),n("span",{staticClass:"k-list-item-text"},[n("em",[t._v(t._s(t.text))]),t.info?n("small",{domProps:{innerHTML:t._s(t.info)}}):t._e()])]),n("nav",{staticClass:"k-list-item-options"},[t._t("options",[t.flag?n("k-status-icon",t._b({staticClass:"k-list-item-status"},"k-status-icon",t.flag,!1)):t._e(),t.options?n("k-button",{staticClass:"k-list-item-toggle",attrs:{tooltip:t.$t("options"),icon:"dots",alt:"Options"},on:{click:function(e){return e.stopPropagation(),t.$refs.options.toggle()}}}):t._e(),n("k-dropdown-content",{ref:"options",attrs:{options:t.options,align:"right"},on:{action:function(e){return t.$emit("action",e)}}})])],2)],1)},Yh=[],Gh={inheritAttrs:!1,props:{element:{type:String,default:"li"},image:[Object,Boolean],icon:{type:Object,default:function(){return{type:"file",back:"black"}}},sortable:Boolean,text:String,target:String,info:String,link:[String,Function],flag:Object,options:[Array,Function]},computed:{imageOptions:function(){return Fd(this.image)}}},Wh=Gh,Jh=(n("fa6a"),Object(f["a"])(Wh,Kh,Yh,!1,null,null,null)),Vh=Jh.exports,Zh=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isOpen?n("portal",[n("div",t._g({ref:"overlay",staticClass:"k-overlay",class:t.$vnode.data.staticClass,attrs:{"data-centered":t.loading||t.centered,"data-dimmed":t.dimmed,"data-loading":t.loading},on:{mousedown:t.close}},t.$listeners),[t.loading?n("k-loader",{staticClass:"k-overlay-loader"}):t._t("default",null,{close:t.close,isOpen:t.isOpen})],2)]):t._e()},Xh=[],Qh={inheritAttrs:!0,props:{autofocus:{type:Boolean,default:!0},centered:{type:Boolean,default:!1},dimmed:{type:Boolean,default:!0},loading:{type:Boolean,default:!1}},data:function(){return{isOpen:!1,scrollTop:0}},methods:{close:function(){this.isOpen=!1,this.$emit("close"),this.restoreScrollPosition(),this.$events.$off("keydown.esc",this.close),document.removeEventListener("focus",this.focustrap)},focus:function(){var t=this.$refs.overlay.querySelector("\n        [autofocus],\n        [data-autofocus]\n      ");null===t&&(t=this.$refs.overlay.querySelector("\n          input,\n          textarea,\n          select,\n          button\n        ")),t&&"function"===typeof t.focus?t.focus():this.$slots.default[0]&&this.$slots.default[0].context&&"function"===typeof this.$slots.default[0].context.focus&&this.$slots.default[0].context.focus()},focustrap:function(t){this.$refs.overlay&&!1===this.$refs.overlay.contains(t.target)&&this.focus()},open:function(){var t=this;this.storeScrollPosition(),this.isOpen=!0,this.$emit("open"),this.$events.$on("keydown.esc",this.close),setTimeout((function(){!0===t.autofocus&&t.focus(),document.querySelector(".k-overlay > *").addEventListener("mousedown",(function(t){return t.stopPropagation()})),t.$emit("ready")}),1)},restoreScrollPosition:function(){var t=document.querySelector(".k-panel-view");t&&t.scrollTop&&(t.scrollTop=this.scrollTop)},storeScrollPosition:function(){var t=document.querySelector(".k-panel-view");t&&t.scrollTop?this.scrollTop=t.scrollTop:this.scrollTop=0}}},tm=Qh,em=(n("f7f5"),Object(f["a"])(tm,Zh,Xh,!1,null,null,null)),nm=em.exports,im=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.tabs&&t.tabs.length>1?n("div",{staticClass:"k-tabs",attrs:{"data-theme":t.theme}},[n("nav",[t._l(t.visibleTabs,(function(e){return n("k-button",{key:e.name,staticClass:"k-tab-button",attrs:{link:"#"+e.name,current:t.current===e.name,icon:e.icon,tooltip:e.label}},[t._v("\n      "+t._s(e.label||e.text||e.name)+"\n\n      "),e.badge?n("span",{staticClass:"k-tabs-badge"},[t._v("\n        "+t._s(e.badge)+"\n      ")]):t._e()])})),t.invisibleTabs.length?n("k-button",{staticClass:"k-tab-button k-tabs-dropdown-button",attrs:{text:t.$t("more"),icon:"dots"},on:{click:function(e){return e.stopPropagation(),t.$refs.more.toggle()}}}):t._e()],2),t.invisibleTabs.length?n("k-dropdown-content",{ref:"more",staticClass:"k-tabs-dropdown",attrs:{align:"right"}},t._l(t.invisibleTabs,(function(e){return n("k-dropdown-item",{key:"more-"+e.name,attrs:{link:"#"+e.name,current:t.tab===e.name,icon:e.icon,tooltip:e.label}},[t._v("\n      "+t._s(e.label||e.name)+"\n    ")])})),1):t._e()],1):t._e()},rm=[],sm={props:{tab:String,tabs:Array,theme:String},data:function(){return{size:null,visibleTabs:this.tabs,invisibleTabs:[]}},computed:{current:function(){var t=this,e=this.tabs.find((function(e){return e.name===t.tab}))||this.tabs[0]||{};return e.name}},watch:{tabs:function(t){this.visibleTabs=t,this.invisibleTabs=[],this.resize(!0)}},created:function(){window.addEventListener("resize",this.resize)},destroyed:function(){window.removeEventListener("resize",this.resize)},methods:{resize:function(t){if(this.tabs&&!(this.tabs.length<=1)){if(this.tabs.length<=3)return this.visibleTabs=this.tabs,void(this.invisibleTabs=[]);if(window.innerWidth>=700){if("large"===this.size&&!t)return;this.visibleTabs=this.tabs,this.invisibleTabs=[],this.size="large"}else{if("small"===this.size&&!t)return;this.visibleTabs=this.tabs.slice(0,2),this.invisibleTabs=this.tabs.slice(2),this.size="small"}}}}},am=sm,om=(n("8f7d"),Object(f["a"])(am,im,rm,!1,null,null,null)),um=om.exports,cm=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-view",attrs:{"data-align":t.align}},[t._t("default")],2)},lm=[],pm={props:{align:String}},dm=pm,fm=(n("daa8"),Object(f["a"])(dm,cm,lm,!1,null,null,null)),hm=fm.exports,mm=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("draggable",t._g(t._b({staticClass:"k-draggable",attrs:{"component-data":t.data,tag:t.element,list:t.list,move:t.move}},"draggable",t.dragOptions,!1),t.listeners),[t._t("default"),t._t("footer",null,{slot:"footer"})],2)},gm=[],bm=n("b76a"),vm=n.n(bm),km={components:{draggable:vm.a},props:{data:Object,element:String,handle:[String,Boolean],list:[Array,Object],move:Function,options:Object},data:function(){var t=this;return{listeners:Object(x["a"])(Object(x["a"])({},this.$listeners),{},{start:function(e){t.$store.dispatch("drag",{}),t.$listeners.start&&t.$listeners.start(e)},end:function(e){t.$store.dispatch("drag",null),t.$listeners.end&&t.$listeners.end(e)}})}},computed:{dragOptions:function(){var t=!1;return t=!0===this.handle?".k-sort-handle":this.handle,Object(x["a"])({fallbackClass:"k-sortable-fallback",fallbackOnBody:!0,forceFallback:!0,ghostClass:"k-sortable-ghost",handle:t,scroll:document.querySelector(".k-panel-view")},this.options)}}},$m=km,ym=Object(f["a"])($m,mm,gm,!1,null,null,null),wm=ym.exports,_m={data:function(){return{error:null}},errorCaptured:function(t){return C.debug&&window.console.warn(t),this.error=t,!1},render:function(t){return this.error?this.$slots.error?this.$slots.error[0]:this.$scopedSlots.error?this.$scopedSlots.error({error:this.error}):t("k-box",{attrs:{theme:"negative"}},this.error.message||this.error):this.$slots.default[0]}},xm=_m,Om=Object(f["a"])(xm,zd,Hd,!1,null,null,null),jm=Om.exports,Cm=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.tag,t._g({tag:"component",staticClass:"k-headline",attrs:{"data-theme":t.theme,"data-size":t.size}},t.$listeners),[t.link?n("k-link",{attrs:{to:t.link}},[t._t("default")],2):t._t("default")],2)},Sm=[],Em={props:{link:String,size:{type:String},tag:{type:String,default:"h2"},theme:{type:String}}},Rm=Em,Tm=(n("f8a7"),Object(f["a"])(Rm,Cm,Sm,!1,null,null,null)),Lm=Tm.exports,Im=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{class:"k-icon k-icon-"+t.type,attrs:{"aria-label":t.alt,role:t.alt?"img":null,"aria-hidden":!t.alt,"data-back":t.back,"data-size":t.size}},[t.isEmoji?n("span",{staticClass:"k-icon-emoji"},[t._v(t._s(t.type))]):n("svg",{style:{color:t.color},attrs:{viewBox:"0 0 16 16"}},[n("use",{attrs:{"xlink:href":"#icon-"+t.type}})])])},Am=[],Bm={props:{alt:String,color:String,back:String,size:String,type:String},computed:{isEmoji:function(){return this.$helper.string.hasEmoji(this.type)}}},Dm=Bm,Mm=(n("3342"),Object(f["a"])(Dm,Im,Am,!1,null,null,null)),Nm=Mm.exports,Pm=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",t._g({staticClass:"k-image",attrs:{"data-ratio":t.ratio,"data-back":t.back,"data-cover":t.cover}},t.$listeners),[n("span",{style:"padding-bottom:"+t.ratioPadding},[t.loaded?n("img",{key:t.src,attrs:{alt:t.alt||"",src:t.src,srcset:t.srcset,sizes:t.sizes},on:{dragstart:function(t){t.preventDefault()}}}):t._e(),t.loaded||t.error?t._e():n("k-loader",{attrs:{position:"center",theme:"light"}}),!t.loaded&&t.error?n("k-icon",{staticClass:"k-image-error",attrs:{type:"cancel"}}):t._e()],1)])},qm=[],Fm={props:{alt:String,back:String,cover:Boolean,ratio:String,sizes:String,src:String,srcset:String},data:function(){return{loaded:{type:Boolean,default:!1},error:{type:Boolean,default:!1}}},computed:{ratioPadding:function(){return this.$helper.ratio(this.ratio||"1/1")}},created:function(){var t=this,e=new Image;e.onload=function(){t.loaded=!0,t.$emit("load")},e.onerror=function(){t.error=!0,t.$emit("error")},e.src=this.src}},Um=Fm,zm=(n("0d56"),Object(f["a"])(Um,Pm,qm,!1,null,null,null)),Hm=zm.exports,Km=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-icon",{staticClass:"k-loader",attrs:{type:"loader"}})},Ym=[],Gm=(n("3cf3"),{}),Wm=Object(f["a"])(Gm,Km,Ym,!1,null,null,null),Jm=Wm.exports,Vm=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("progress",{staticClass:"k-progress",attrs:{max:"100"},domProps:{value:t.state}},[t._v("\n  "+t._s(t.state)+"%\n")])},Zm=[],Xm={props:{value:{type:Number,default:0}},data:function(){return{state:this.value}},methods:{set:function(t){this.state=t}}},Qm=Xm,tg=(n("9799"),Object(f["a"])(Qm,Vm,Zm,!1,null,null,null)),eg=tg.exports,ng=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-icon",{staticClass:"k-sort-handle",attrs:{type:t.icon,"aria-hidden":"true"}})},ig=[],rg={props:{icon:{type:String,default:"sort"}}},sg=rg,ag=(n("35cb"),Object(f["a"])(sg,ng,ig,!1,null,null,null)),og=ag.exports,ug=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-button",{class:"k-status-icon k-status-icon-"+t.status,attrs:{disabled:t.disabled,icon:t.icon,responsive:t.responsive,tooltip:t.title},on:{click:t.onClick}},[t._v("\n  "+t._s(t.text)+"\n")])},cg=[],lg={props:{click:{type:Function,default:function(){}},disabled:Boolean,responsive:Boolean,status:String,text:String,tooltip:String},computed:{icon:function(){return"draft"===this.status?"circle-outline":"unlisted"===this.status?"circle-half":"circle"},title:function(){var t=this.tooltip||this.text;return this.disabled&&(t+=" (".concat(this.$t("disabled"),")")),t}},methods:{onClick:function(){this.click(),this.$emit("click")}}},pg=lg,dg=(n("dd70"),Object(f["a"])(pg,ug,cg,!1,null,null,null)),fg=dg.exports,hg=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-text",attrs:{"data-align":t.align,"data-size":t.size,"data-theme":t.theme}},[t._t("default")],2)},mg=[],gg={props:{align:String,size:String,theme:String}},bg=gg,vg=(n("b0d6"),Object(f["a"])(bg,hg,mg,!1,null,null,null)),kg=vg.exports,$g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-user-info"},[t.user.avatar?n("k-image",{attrs:{cover:!0,src:t.user.avatar.url,ratio:"1/1"}}):n("k-icon",{attrs:{type:"user"}}),t._v("\n  "+t._s(t.user.name||t.user.email||t.user)+"\n")],1)},yg=[],wg={props:{user:[Object,String]}},_g=wg,xg=(n("217b"),Object(f["a"])(_g,$g,yg,!1,null,null,null)),Og=xg.exports,jg=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.component,t._g(t._b({ref:"button",tag:"component"},"component",t.$props,!1),t.$listeners),[t._t("default")],2)},Cg=[],Sg={inheritAttrs:!1,props:{autofocus:Boolean,current:[String,Boolean],disabled:Boolean,icon:String,id:[String,Number],link:String,responsive:Boolean,rel:String,role:String,target:String,tabindex:String,theme:String,tooltip:String,type:{type:String,default:"button"}},computed:{component:function(){return!0===this.disabled?"k-button-disabled":this.link?"k-button-link":"k-button-native"}},methods:{focus:function(){this.$refs.button.focus&&this.$refs.button.focus()},tab:function(){this.$refs.button.tab&&this.$refs.button.tab()},untab:function(){this.$refs.button.untab&&this.$refs.button.untab()}}},Eg=Sg,Rg=(n("3787"),Object(f["a"])(Eg,jg,Cg,!1,null,null,null)),Tg=Rg.exports,Lg=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"k-button",attrs:{id:t.id,"data-disabled":!0,"data-responsive":t.responsive,"data-theme":t.theme,title:t.tooltip}},[t.icon?n("k-icon",{staticClass:"k-button-icon",attrs:{type:t.icon,alt:t.tooltip}}):t._e(),t.$slots.default?n("span",{staticClass:"k-button-text"},[t._t("default")],2):t._e()],1)},Ig=[],Ag={inheritAttrs:!1,props:{icon:String,id:[String,Number],responsive:Boolean,theme:String,tooltip:String}},Bg=Ag,Dg=(n("16eb"),Object(f["a"])(Bg,Lg,Ig,!1,null,null,null)),Mg=Dg.exports,Ng=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-button-group"},[t._t("default")],2)},Pg=[],qg=(n("a567"),{}),Fg=Object(f["a"])(qg,Ng,Pg,!1,null,null,null),Ug=Fg.exports,zg=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-link",t._g({staticClass:"k-button",attrs:{"aria-current":t.current,autofocus:t.autofocus,id:t.id,"data-theme":t.theme,"data-responsive":t.responsive,rel:t.rel,role:t.role,tabindex:t.tabindex,target:t.target,title:t.tooltip,to:t.link}},t.$listeners),[t.icon?n("k-icon",{staticClass:"k-button-icon",attrs:{type:t.icon,alt:t.tooltip}}):t._e(),t.$slots.default?n("span",{staticClass:"k-button-text"},[t._t("default")],2):t._e()],1)},Hg=[],Kg={inheritAttrs:!1,props:{autofocus:Boolean,current:[String,Boolean],icon:String,id:[String,Number],link:String,rel:String,responsive:Boolean,role:String,target:String,tabindex:String,theme:String,tooltip:String}},Yg=Kg,Gg=Object(f["a"])(Yg,zg,Hg,!1,null,null,null),Wg=Gg.exports,Jg=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",t._g({staticClass:"k-button",attrs:{"aria-current":t.current,autofocus:t.autofocus,id:t.id,"data-theme":t.theme,"data-responsive":t.responsive,role:t.role,tabindex:t.tabindex,title:t.tooltip,type:t.type}},t.$listeners),[t.icon?n("k-icon",{staticClass:"k-button-icon",attrs:{type:t.icon,alt:t.tooltip}}):t._e(),t.$slots.default?n("span",{staticClass:"k-button-text"},[t._t("default")],2):t._e()],1)},Vg=[],Zg={mounted:function(){this.$el.addEventListener("keyup",this.onTab,!0),this.$el.addEventListener("blur",this.onUntab,!0)},destroyed:function(){this.$el.removeEventListener("keyup",this.onTab,!0),this.$el.removeEventListener("blur",this.onUntab,!0)},methods:{focus:function(){this.$el.focus&&this.$el.focus()},onTab:function(t){9===t.keyCode&&this.$el.setAttribute("data-tabbed",!0)},onUntab:function(){this.$el.removeAttribute("data-tabbed")},tab:function(){this.$el.focus(),this.$el.setAttribute("data-tabbed",!0)},untab:function(){this.$el.removeAttribute("data-tabbed")}}},Xg={mixins:[Zg],inheritAttrs:!1,props:{autofocus:Boolean,current:[String,Boolean],icon:String,id:[String,Number],responsive:Boolean,role:String,tabindex:String,theme:String,tooltip:String,type:{type:String,default:"button"}}},Qg=Xg,tb=Object(f["a"])(Qg,Jg,Vg,!1,null,null,null),eb=tb.exports,nb=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"k-dropdown",on:{click:function(t){t.stopPropagation()}}},[t._t("default")],2)},ib=[],rb=(n("f95f"),{}),sb=Object(f["a"])(rb,nb,ib,!1,null,null,null),ab=sb.exports,ob=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isOpen?n("div",{staticClass:"k-dropdown-content",attrs:{"data-align":t.align}},[t._t("default",[t._l(t.items,(function(e,i){return["-"===e?n("hr",{key:t._uid+"-item-"+i}):n("k-dropdown-item",t._b({key:t._uid+"-item-"+i,ref:t._uid+"-item-"+i,refInFor:!0,on:{click:function(n){return t.$emit("action",e.click)}}},"k-dropdown-item",e,!1),[t._v("\n        "+t._s(e.text)+"\n      ")])]}))])],2):t._e()},ub=[],cb=null,lb={props:{options:[Array,Function],align:String},data:function(){return{items:[],current:-1,isOpen:!1}},methods:{fetchOptions:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.options){n.next=14;break}if("string"!==typeof e.options){n.next=11;break}return n.next=4,fetch(e.options);case 4:return i=n.sent,n.next=7,i.json();case 7:return r=n.sent,n.abrupt("return",t(r));case 11:"function"===typeof e.options?e.options(t):Array.isArray(e.options)&&t(e.options);case 12:n.next=15;break;case 14:return n.abrupt("return",t(e.items));case 15:case"end":return n.stop()}}),n)})))()},open:function(){var t=this;this.reset(),cb&&cb!==this&&cb.close(),this.fetchOptions((function(e){t.$events.$on("keydown",t.navigate),t.$events.$on("click",t.close),t.items=e,t.isOpen=!0,t.$emit("open"),cb=t}))},reset:function(){this.current=-1,this.$events.$off("keydown",this.navigate),this.$events.$off("click",this.close)},close:function(){this.reset(),this.isOpen=cb=!1,this.$emit("close")},toggle:function(){this.isOpen?this.close():this.open()},focus:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.$children[t]&&this.$children[t].focus&&(this.current=t,this.$children[t].focus())},navigate:function(t){switch(t.code){case"Escape":case"ArrowLeft":this.close(),this.$emit("leave",t.code);break;case"ArrowUp":t.preventDefault();while(1){if(this.current--,this.current<0){this.close(),this.$emit("leave",t.code);break}if(this.$children[this.current]&&!1===this.$children[this.current].disabled){this.focus(this.current);break}}break;case"ArrowDown":t.preventDefault();while(1){if(this.current++,this.current>this.$children.length-1){var e=this.$children.filter((function(t){return!1===t.disabled}));this.current=this.$children.indexOf(e[e.length-1]);break}if(this.$children[this.current]&&!1===this.$children[this.current].disabled){this.focus(this.current);break}}break;case"Tab":while(1){if(this.current++,this.current>this.$children.length-1){this.close(),this.$emit("leave",t.code);break}if(this.$children[this.current]&&!1===this.$children[this.current].disabled)break}break}}}},pb=lb,db=(n("98a1"),Object(f["a"])(pb,ob,ub,!1,null,null,null)),fb=db.exports,hb=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-button",t._g(t._b({ref:"button",staticClass:"k-dropdown-item"},"k-button",t.$props,!1),t.listeners),[t._t("default")],2)},mb=[],gb={inheritAttrs:!1,props:{disabled:Boolean,icon:String,image:[String,Object],link:String,target:String,theme:String,upload:String,current:[String,Boolean]},data:function(){var t=this;return{listeners:Object(x["a"])(Object(x["a"])({},this.$listeners),{},{click:function(e){t.$parent.close(),t.$emit("click",e)}})}},methods:{focus:function(){this.$refs.button.focus()},tab:function(){this.$refs.button.tab()}}},bb=gb,vb=(n("580a"),Object(f["a"])(bb,hb,mb,!1,null,null,null)),kb=vb.exports,$b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.to&&!t.disabled?n("a",t._g({ref:"link",staticClass:"k-link",attrs:{href:t.href,rel:t.relAttr,tabindex:t.tabindex,target:t.target,title:t.title}},t.listeners),[t._t("default")],2):n("span",{staticClass:"k-link",attrs:{title:t.title,"data-disabled":""}},[t._t("default")],2)},yb=[],wb={mixins:[Zg],props:{disabled:Boolean,rel:String,tabindex:[String,Number],target:String,title:String,to:[String,Function]},data:function(){return{relAttr:"_blank"===this.target?"noreferrer noopener":this.rel,listeners:Object(x["a"])(Object(x["a"])({},this.$listeners),{},{click:this.onClick})}},computed:{href:function(){return"function"===typeof this.to?"":void 0===this.$route||"/"!==this.to[0]||this.target?this.to:(this.$router.options.url||"")+this.to}},methods:{isRoutable:function(t){return void 0!==this.$route&&(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&(!t.defaultPrevented&&((void 0===t.button||0===t.button)&&!this.target)))},onClick:function(t){if(!0===this.disabled)return t.preventDefault(),!1;"function"===typeof this.to&&(t.preventDefault(),this.to()),this.isRoutable(t)&&(t.preventDefault(),this.$go(this.to)),this.$emit("click",t)}}},_b=wb,xb=(n("cc79"),Object(f["a"])(_b,$b,yb,!1,null,null,null)),Ob=xb.exports,jb=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.languages.length?n("k-dropdown",[n("k-button",{attrs:{responsive:!0,icon:"globe"},on:{click:function(e){return t.$refs.languages.toggle()}}},[t._v("\n    "+t._s(t.language.name)+"\n  ")]),t.languages?n("k-dropdown-content",{ref:"languages"},[n("k-dropdown-item",{on:{click:function(e){return t.change(t.defaultLanguage)}}},[t._v(t._s(t.defaultLanguage.name))]),n("hr"),t._l(t.languages,(function(e){return n("k-dropdown-item",{key:e.code,on:{click:function(n){return t.change(e)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])}))],2):t._e()],1):t._e()},Cb=[],Sb={computed:{defaultLanguage:function(){return this.$store.state.languages.default},language:function(){return this.$store.state.languages.current},languages:function(){return this.$store.state.languages.all.filter((function(t){return!1===t.default}))}},methods:{change:function(t){this.$store.dispatch("languages/current",t),this.$emit("change",t)}}},Eb=Sb,Rb=Object(f["a"])(Eb,jb,Cb,!1,null,null,null),Tb=Rb.exports,Lb=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("nav",{staticClass:"k-pagination",attrs:{"data-align":t.align}},[t.show?n("k-button",{attrs:{disabled:!t.hasPrev,tooltip:t.prevLabel,icon:"angle-left"},on:{click:t.prev}}):t._e(),t.details?[t.dropdown?[n("k-dropdown",[n("k-button",{staticClass:"k-pagination-details",attrs:{disabled:!t.hasPages},on:{click:function(e){return t.$refs.dropdown.toggle()}}},[t.total>1?[t._v(t._s(t.detailsText))]:t._e(),t._v(t._s(t.total)+"\n        ")],2),n("k-dropdown-content",{ref:"dropdown",staticClass:"k-pagination-selector",on:{open:function(e){t.$nextTick((function(){return t.$refs.page.focus()}))}}},[n("div",{staticClass:"k-pagination-settings"},[n("label",{attrs:{for:"k-pagination-page"}},[n("span",[t._v(t._s(t.pageLabel)+":")]),n("select",{ref:"page",attrs:{id:"k-pagination-page"}},t._l(t.pages,(function(e){return n("option",{key:e,domProps:{selected:t.page===e,value:e}},[t._v("\n                  "+t._s(e)+"\n                ")])})),0)]),n("k-button",{attrs:{icon:"check"},on:{click:function(e){return t.goTo(t.$refs.page.value)}}})],1)])],1)]:[n("span",{staticClass:"k-pagination-details"},[t.total>1?[t._v(t._s(t.detailsText))]:t._e(),t._v(t._s(t.total)+"\n      ")],2)]]:t._e(),t.show?n("k-button",{attrs:{disabled:!t.hasNext,tooltip:t.nextLabel,icon:"angle-right"},on:{click:t.next}}):t._e()],2):t._e()},Ib=[],Ab={props:{align:{type:String,default:"left"},details:{type:Boolean,default:!1},dropdown:{type:Boolean,default:!0},validate:{type:Function,default:function(){return Promise.resolve()}},page:{type:Number,default:1},total:{type:Number,default:0},limit:{type:Number,default:10},keys:{type:Boolean,default:!1},pageLabel:{type:String,default:function(){return this.$t("pagination.page")}},prevLabel:{type:String,default:function(){return this.$t("prev")}},nextLabel:{type:String,default:function(){return this.$t("next")}}},data:function(){return{currentPage:this.page}},computed:{show:function(){return this.pages>1},start:function(){return(this.currentPage-1)*this.limit+1},end:function(){var t=this.start-1+this.limit;return t>this.total?this.total:t},detailsText:function(){return 1===this.limit?this.start+" / ":this.start+"-"+this.end+" / "},pages:function(){return Math.ceil(this.total/this.limit)},hasPrev:function(){return this.start>1},hasNext:function(){return this.end<this.total},hasPages:function(){return this.total>this.limit},offset:function(){return this.start-1}},watch:{page:function(t){this.currentPage=parseInt(t)}},created:function(){!0===this.keys&&window.addEventListener("keydown",this.navigate,!1)},destroyed:function(){window.removeEventListener("keydown",this.navigate,!1)},methods:{goTo:function(t){var e=this;this.validate(t).then((function(){t<1&&(t=1),t>e.pages&&(t=e.pages),e.currentPage=t,e.$refs.dropdown&&e.$refs.dropdown.close(),e.$emit("paginate",{page:e.currentPage,start:e.start,end:e.end,limit:e.limit,offset:e.offset})})).catch((function(){}))},prev:function(){this.goTo(this.currentPage-1)},next:function(){this.goTo(this.currentPage+1)},navigate:function(t){switch(t.code){case"ArrowLeft":this.prev();break;case"ArrowRight":this.next();break}}}},Bb=Ab,Db=(n("a66d"),Object(f["a"])(Bb,Lb,Ib,!1,null,null,null)),Mb=Db.exports,Nb=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-button-group",{staticClass:"k-prev-next"},[n("k-button",t._b({attrs:{icon:"angle-left"}},"k-button",t.prev,!1)),n("k-button",t._b({attrs:{icon:"angle-right"}},"k-button",t.next,!1))],1)},Pb=[],qb={props:{prev:{type:Object,default:function(){return{disabled:!0,link:"#"}}},next:{type:Object,default:function(){return{disabled:!0,link:"#"}}}}},Fb=qb,Ub=(n("7a7d"),Object(f["a"])(Fb,Nb,Pb,!1,null,null,null)),zb=Ub.exports,Hb=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-overlay",{ref:"overlay"},[n("div",{staticClass:"k-search",attrs:{role:"search"}},[n("div",{staticClass:"k-search-input"},[n("k-dropdown",{staticClass:"k-search-types"},[n("k-button",{attrs:{icon:t.currentType.icon},on:{click:function(e){return t.$refs.types.toggle()}}},[t._v("\n          "+t._s(t.currentType.label)+":\n        ")]),n("k-dropdown-content",{ref:"types"},t._l(t.types,(function(e,i){return n("k-dropdown-item",{key:i,attrs:{icon:e.icon},on:{click:function(e){return t.changeType(i)}}},[t._v("\n            "+t._s(e.label)+"\n          ")])})),1)],1),n("input",{directives:[{name:"model",rawName:"v-model",value:t.q,expression:"q"}],ref:"input",attrs:{placeholder:t.$t("search")+" …","aria-label":t.$t("search"),autofocus:!0,type:"text"},domProps:{value:t.q},on:{input:[function(e){e.target.composing||(t.q=e.target.value)},function(e){t.hasResults=!0}],keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),t.onDown(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.onUp(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:(e.preventDefault(),t.onTab(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}]}}),n("k-button",{staticClass:"k-search-close",attrs:{icon:t.isLoading?"loader":"cancel",tooltip:t.$t("close")},on:{click:t.close}})],1),!t.q||t.hasResults&&!t.items.length?t._e():n("div",{staticClass:"k-search-results"},[t.items.length?n("ul",{on:{mouseout:function(e){t.selected=-1}}},t._l(t.items,(function(e,i){return n("li",{key:e.id,attrs:{"data-selected":t.selected===i},on:{mouseover:function(e){t.selected=i}}},[n("k-link",{attrs:{to:e.link},on:{click:t.close}},[n("span",{staticClass:"k-search-item-image"},[t.imageOptions(e.image)?n("k-image",t._b({},"k-image",t.imageOptions(e.image),!1)):n("k-icon",t._b({},"k-icon",e.icon,!1))],1),n("span",{staticClass:"k-search-item-info"},[n("strong",[t._v(t._s(e.title))]),n("small",[t._v(t._s(e.info))])])])],1)})),0):t.hasResults?t._e():n("p",{staticClass:"k-search-empty"},[t._v("\n        "+t._s(t.$t("search.results.none"))+"\n      ")])])])])},Kb=[],Yb={props:{types:{type:Object,default:function(){return{}}},type:{type:String}},data:function(){return{isLoading:!1,hasResults:!0,items:[],currentType:this.getType(this.type),q:null,selected:-1}},watch:{q:X((function(t){this.search(t)}),200),currentType:function(){this.search(this.q)},type:function(){this.currentType=this.getType(this.type)},types:function(){this.currentType=this.getType(this.type)}},methods:{changeType:function(t){var e=this;this.currentType=this.getType(t),this.$nextTick((function(){e.$refs.input.focus()}))},close:function(){this.$refs.overlay.close(),this.hasResults=!0,this.items=[],this.q=null},getType:function(t){return this.types[t]||this.types[Object.keys(this.types)[0]]},imageOptions:function(t){return Fd(t)},navigate:function(t){this.$go(t.link),this.close()},onDown:function(){this.selected<this.items.length-1&&this.selected++},onEnter:function(){var t=this.items[this.selected]||this.items[0];t&&this.navigate(t)},onTab:function(){var t=this.items[this.selected];t&&this.navigate(t)},onUp:function(){this.selected>=0&&this.selected--},open:function(){this.$refs.overlay.open()},search:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.isLoading=!0,e.$refs.types&&e.$refs.types.close(),n.prev=2,""!==t){n.next=5;break}throw new Error;case 5:return n.next=7,e.currentType.search({query:t,limit:C.search.limit});case 7:e.items=n.sent,n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](2),e.items=[];case 13:return n.prev=13,e.selected=-1,e.isLoading=!1,e.hasResults=e.items.length>0,n.finish(13);case 18:case"end":return n.stop()}}),n,null,[[2,10,13,18]])})))()}}},Gb=Yb,Wb=(n("4cb2"),Object(f["a"])(Gb,Hb,Kb,!1,null,null,null)),Jb=Wb.exports,Vb=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{ref:"button",staticClass:"k-tag",attrs:{"data-size":t.size,tabindex:"0"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:(e.preventDefault(),t.remove(e))}}},[n("span",{staticClass:"k-tag-text"},[t._t("default")],2),t.removable?n("span",{staticClass:"k-tag-toggle",on:{click:t.remove}},[t._v("×")]):t._e()])},Zb=[],Xb={props:{removable:Boolean,size:String},methods:{remove:function(){this.removable&&this.$emit("remove")},focus:function(){this.$refs.button.focus()}}},Qb=Xb,tv=(n("021f"),Object(f["a"])(Qb,Vb,Zb,!1,null,null,null)),ev=tv.exports,nv=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.user&&t.view?n("div",{staticClass:"k-topbar"},[n("k-view",[n("div",{staticClass:"k-topbar-wrapper"},[n("k-dropdown",{staticClass:"k-topbar-menu"},[n("k-button",{staticClass:"k-topbar-button k-topbar-menu-button",attrs:{tooltip:t.$t("menu"),icon:"bars"},on:{click:function(e){return t.$refs.menu.toggle()}}},[n("k-icon",{attrs:{type:"angle-down"}})],1),n("k-dropdown-content",{ref:"menu",staticClass:"k-topbar-menu"},[n("ul",[t._l(t.views,(function(e,i){return[e.menu?n("li",{key:"menu-item-"+i,attrs:{"aria-current":t.$store.state.view===i}},[n("k-dropdown-item",{attrs:{disabled:!1===t.$permissions.access[i],icon:e.icon,link:e.link}},[t._v("\n                  "+t._s(t.menuTitle(e,i))+"\n                ")])],1):t._e()]})),n("li",[n("hr")]),n("li",{attrs:{"aria-current":"account"===t.$route.meta.view}},[n("k-dropdown-item",{attrs:{icon:"account",link:"/account"}},[t._v("\n                "+t._s(t.$t("view.account"))+"\n              ")])],1),n("li",[n("hr")]),n("li",[n("k-dropdown-item",{attrs:{icon:"logout",link:"/logout"}},[t._v("\n                "+t._s(t.$t("logout"))+"\n              ")])],1)],2)])],1),t.view?n("k-link",{staticClass:"k-topbar-button k-topbar-view-button",attrs:{to:t.view.link}},[n("k-icon",{attrs:{type:t.view.icon}}),t._v(" "+t._s(t.breadcrumbTitle)+"\n      ")],1):t._e(),t.$store.state.breadcrumb.length>1?n("k-dropdown",{staticClass:"k-topbar-breadcrumb-menu"},[n("k-button",{staticClass:"k-topbar-button",on:{click:function(e){return t.$refs.crumb.toggle()}}},[t._v("\n          …\n          "),n("k-icon",{attrs:{type:"angle-down"}})],1),n("k-dropdown-content",{ref:"crumb"},[n("k-dropdown-item",{attrs:{icon:t.view.icon,link:t.view.link}},[t._v("\n            "+t._s(t.$t("view."+t.$store.state.view,t.view.label))+"\n          ")]),t._l(t.$store.state.breadcrumb,(function(e,i){return n("k-dropdown-item",{key:"crumb-"+i+"-dropdown",attrs:{icon:t.view.icon,link:e.link}},[t._v("\n            "+t._s(e.label)+"\n          ")])}))],2)],1):t._e(),n("nav",{staticClass:"k-topbar-crumbs"},t._l(t.$store.state.breadcrumb,(function(e,i){return n("k-link",{key:"crumb-"+i,attrs:{to:e.link}},[t._v("\n          "+t._s(e.label)+"\n        ")])})),1),n("div",{staticClass:"k-topbar-signals"},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.isLoading,expression:"$store.state.isLoading"}],staticClass:"k-topbar-loader"},[n("svg",{attrs:{viewBox:"0 0 16 18"}},[n("path",{attrs:{fill:"white",d:"M8,0 L16,4.50265232 L16,13.5112142 L8,18.0138665 L0,13.5112142 L0,4.50265232 L8,0 Z M2.10648757,5.69852516 L2.10648757,12.3153414 L8,15.632396 L13.8935124,12.3153414 L13.8935124,5.69852516 L8,2.38147048 L2.10648757,5.69852516 Z"}})])]),t.notification?[n("k-button",{staticClass:"k-topbar-notification k-topbar-signals-button",attrs:{theme:"positive"},on:{click:function(e){return t.$store.dispatch("notification/close")}}},[t._v("\n            "+t._s(t.notification.message)+"\n          ")])]:t.unregistered?[n("div",{staticClass:"k-registration"},[n("p",[t._v(t._s(t.$t("license.unregistered")))]),n("k-button",{staticClass:"k-topbar-signals-button",attrs:{responsive:!0,tooltip:t.$t("license.unregistered"),icon:"key"},on:{click:function(e){return t.$emit("register")}}},[t._v("\n              "+t._s(t.$t("license.register"))+"\n            ")]),n("k-button",{staticClass:"k-topbar-signals-button",attrs:{responsive:!0,link:"https://getkirby.com/buy",target:"_blank",icon:"cart"}},[t._v("\n              "+t._s(t.$t("license.buy"))+"\n            ")])],1)]:t._e(),[n("k-form-indicator")],n("k-button",{staticClass:"k-topbar-signals-button",attrs:{tooltip:t.$t("search"),icon:"search"},on:{click:function(e){return t.$emit("search")}}})],2)],1)])],1):t._e()},iv=[],rv=Object(x["a"])({site:{link:"/site",icon:"page",menu:!0},users:{link:"/users",icon:"users",menu:!0},settings:{link:"/settings",icon:"settings",menu:!0},account:{link:"/account",icon:"users",menu:!1},resetPassword:{link:"/reset-password",icon:"key",menu:!1}},window.panel.plugins.views),sv={computed:{breadcrumbTitle:function(){var t=this.$t("view.".concat(this.$store.state.view),this.view.label);return"site"===this.$store.state.view&&this.$store.state.system.info.title||t},view:function(){return rv[this.$store.state.view]},views:function(){return rv},user:function(){return this.$store.state.user.current},notification:function(){return this.$store.state.notification.type&&"error"!==this.$store.state.notification.type?this.$store.state.notification:null},unregistered:function(){return!this.$store.state.system.info.license}},methods:{menuTitle:function(t,e){var n=this.$t("view."+e,t.label);return"site"===e&&this.$store.state.system.info.site||n}}},av=sv,ov=(n("1e3b"),Object(f["a"])(av,nv,iv,!1,null,null,null)),uv=ov.exports,cv=function(){var t=this,e=t.$createElement,n=t._self._c||e;return 0===t.tabs.length?n("k-box",{attrs:{text:t.empty,theme:"info"}}):n("k-grid",{staticClass:"k-sections",attrs:{gutter:"large"}},t._l(t.currentTab.columns,(function(e,i){return n("k-column",{key:t.parent+"-column-"+i,attrs:{width:e.width,sticky:e.sticky}},[t._l(e.sections,(function(r,s){return[t.meetsCondition(r)?[t.exists(r.type)?n("k-"+r.type+"-section",t._b({key:t.parent+"-column-"+i+"-section-"+s+"-"+t.blueprint,tag:"component",class:"k-section k-section-name-"+r.name,attrs:{name:r.name,parent:t.parent,blueprint:t.blueprint,column:e.width},on:{submit:function(e){return t.$emit("submit",e)}}},"component",r,!1)):[n("k-box",{key:t.parent+"-column-"+i+"-section-"+s,attrs:{text:t.$t("error.section.type.invalid",{type:r.type}),theme:"negative"}})]]:t._e()]}))],2)})),1)},lv=[],pv={props:{empty:String,blueprint:String,parent:String,tab:String,tabs:Array},computed:{currentTab:function(){var t=this;return this.tabs.find((function(e){return e.name===t.tab}))||this.tabs[0]||{}},content:function(){return this.$store.getters["content/values"]()}},methods:{exists:function(t){return this.$helper.isComponent("k-".concat(t,"-section"))},meetsCondition:function(t){var e=this;if(!t.when)return!0;var n=!0;return Object.keys(t.when).forEach((function(i){var r=e.content[i.toLowerCase()],s=t.when[i];r!==s&&(n=!1)})),n}}},dv=pv,fv=(n("6bcd"),Object(f["a"])(dv,cv,lv,!1,null,null,null)),hv=fv.exports,mv=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"k-info-section"},[n("k-headline",{staticClass:"k-info-section-headline"},[t._v(t._s(t.headline))]),n("k-box",{attrs:{theme:t.theme}},[n("k-text",{domProps:{innerHTML:t._s(t.text)}})],1)],1)},gv=[],bv={props:{blueprint:String,help:String,name:String,parent:String},methods:{load:function(){return this.$api.get(this.parent+"/sections/"+this.name)}}},vv={mixins:[bv],data:function(){return{headline:null,issue:null,text:null,theme:null}},created:function(){var t=this;this.load().then((function(e){t.headline=e.options.headline,t.text=e.options.text,t.theme=e.options.theme||"info"})).catch((function(e){t.issue=e}))}},kv=vv,$v=(n("4333"),Object(f["a"])(kv,mv,gv,!1,null,null,null)),yv=$v.exports,wv=function(){var t=this,e=t.$createElement,n=t._self._c||e;return!1===t.isLoading?n("section",{staticClass:"k-pages-section",attrs:{"data-processing":t.isProcessing}},[n("header",{staticClass:"k-section-header"},[n("k-headline",{attrs:{link:t.options.link}},[t._v("\n      "+t._s(t.headline)+" "),t.options.min?n("abbr",{attrs:{title:t.$t("section.required")}},[t._v("*")]):t._e()]),t.add?n("k-button-group",[n("k-button",{attrs:{icon:"add"},on:{click:t.create}},[t._v(t._s(t.$t("add")))])],1):t._e()],1),t.error?[n("k-box",{attrs:{theme:"negative"}},[n("k-text",{attrs:{size:"small"}},[n("strong",[t._v("\n          "+t._s(t.$t("error.section.notLoaded",{name:t.name}))+":\n        ")]),t._v("\n        "+t._s(t.error)+"\n      ")])],1)]:[t.data.length?n("k-collection",{attrs:{layout:t.options.layout,help:t.help,items:t.data,pagination:t.pagination,sortable:!t.isProcessing&&t.options.sortable,size:t.options.size,"data-invalid":t.isInvalid},on:{change:t.sort,paginate:t.paginate,action:t.action}}):[n("k-empty",{attrs:{layout:t.options.layout,"data-invalid":t.isInvalid,icon:"page"},on:{click:t.create}},[t._v("\n        "+t._s(t.options.empty||t.$t("pages.empty"))+"\n      ")]),n("footer",{staticClass:"k-collection-footer"},[t.help?n("k-text",{staticClass:"k-collection-help",attrs:{theme:"help"},domProps:{innerHTML:t._s(t.help)}}):t._e()],1)],n("k-page-create-dialog",{ref:"create"}),n("k-page-duplicate-dialog",{ref:"duplicate"}),n("k-page-rename-dialog",{ref:"rename",on:{success:t.update}}),n("k-page-sort-dialog",{ref:"sort",on:{success:t.update}}),n("k-page-status-dialog",{ref:"status",on:{success:t.update}}),n("k-page-template-dialog",{ref:"template",on:{success:t.update}}),n("k-page-remove-dialog",{ref:"remove",on:{success:t.update}})]],2):t._e()},_v=[],xv={inheritAttrs:!1,props:{blueprint:String,column:String,parent:String,name:String},data:function(){return{data:[],error:null,isLoading:!1,isProcessing:!1,options:{empty:null,headline:null,help:null,layout:"list",link:null,max:null,min:null,size:null,sortable:null},pagination:{page:null}}},computed:{headline:function(){return this.options.headline||" "},help:function(){return this.options.help},isInvalid:function(){return!!(this.options.min&&this.data.length<this.options.min)||!!(this.options.max&&this.data.length>this.options.max)},language:function(){return this.$store.state.languages.current},paginationId:function(){return"kirby$pagination$"+this.parent+"/"+this.name}},watch:{language:function(){this.reload()}},methods:{items:function(t){return t},load:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t||(e.isLoading=!0),e.isProcessing=!0,null===e.pagination.page&&(e.pagination.page=localStorage.getItem(e.paginationId)||1),n.prev=3,n.next=6,e.$api.get(e.parent+"/sections/"+e.name,{page:e.pagination.page});case 6:i=n.sent,e.options=i.options,e.pagination=i.pagination,e.data=e.items(i.data),n.next=15;break;case 12:n.prev=12,n.t0=n["catch"](3),e.error=n.t0.message;case 15:return n.prev=15,e.isProcessing=!1,e.isLoading=!1,n.finish(15);case 19:case"end":return n.stop()}}),n,null,[[3,12,15,19]])})))()},paginate:function(t){localStorage.setItem(this.paginationId,t.page),this.pagination=t,this.reload()},reload:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.load(!0);case 2:case"end":return e.stop()}}),e)})))()}}},Ov={mixins:[xv],computed:{add:function(){return this.options.add&&this.$permissions.pages.create}},created:function(){this.load(),this.$events.$on("page.changeStatus",this.reload)},destroyed:function(){this.$events.$off("page.changeStatus",this.reload)},methods:{create:function(){this.add&&this.$refs.create.open(this.options.link||this.parent,this.parent+"/blueprints",this.name)},action:function(t,e){var n=this;switch(e){case"duplicate":this.$refs.duplicate.open(t.id);break;case"preview":var i=window.open("","_blank");i.document.write="...",this.$api.pages.preview(t.id).then((function(t){i.location.href=t})).catch((function(t){n.$store.dispatch("notification/error",t)}));break;case"rename":this.$refs.rename.open(t.id,t.permissions,"title");break;case"url":this.$refs.rename.open(t.id,t.permissions,"slug");break;case"sort":this.$refs.sort.open(t.id);break;case"status":this.$refs.status.open(t.id);break;case"template":this.$refs.template.open(t.id);break;case"remove":if(this.data.length<=this.options.min){var r=this.options.min>1?"plural":"singular";this.$store.dispatch("notification/error",{message:this.$t("error.section.pages.min."+r,{section:this.options.headline||this.name,min:this.options.min})});break}this.$refs.remove.open(t.id);break;default:throw new Error("Invalid action")}},items:function(t){var e=this;return t.map((function(t){var n=!1!==t.permissions.changeStatus;return t.flag={status:t.status,tooltip:e.$t("page.status"),disabled:!n,click:function(){e.action(t,"status")}},t.sortable=t.permissions.sort&&e.options.sortable,t.column=e.column,t.options=function(){var n=Object(v["a"])(regeneratorRuntime.mark((function n(i){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.pages.options(t.id,"list",t.sortable);case 3:r=n.sent,i(r),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),e.$store.dispatch("notification/error",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}(),t}))},sort:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var i,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=null,t.added&&(i="added"),t.moved&&(i="moved"),!i){n.next=21;break}return e.isProcessing=!0,r=t[i].element,s=t[i].newIndex+1+e.pagination.offset,n.prev=7,n.next=10,e.$api.pages.status(r.id,"listed",s);case 10:e.$store.dispatch("notification/success",":)"),n.next=18;break;case 13:return n.prev=13,n.t0=n["catch"](7),e.$store.dispatch("notification/error",{message:n.t0.message,details:n.t0.details}),n.next=18,e.reload();case 18:return n.prev=18,e.isProcessing=!1,n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[7,13,18,21]])})))()},update:function(){this.reload(),this.$events.$emit("model.update")}}},jv=Ov,Cv=(n("224d"),Object(f["a"])(jv,wv,_v,!1,null,null,null)),Sv=Cv.exports,Ev=function(){var t=this,e=t.$createElement,n=t._self._c||e;return!1===t.isLoading?n("section",{staticClass:"k-files-section",attrs:{"data-processing":t.isProcessing}},[n("header",{staticClass:"k-section-header"},[n("k-headline",[t._v("\n      "+t._s(t.headline)+" "),t.options.min?n("abbr",{attrs:{title:t.$t("section.required")}},[t._v("*")]):t._e()]),t.add?n("k-button-group",[n("k-button",{attrs:{icon:"upload"},on:{click:t.upload}},[t._v(t._s(t.$t("add")))])],1):t._e()],1),t.error?[n("k-box",{attrs:{theme:"negative"}},[n("k-text",{attrs:{size:"small"}},[n("strong",[t._v(t._s(t.$t("error.section.notLoaded",{name:t.name}))+":")]),t._v("\n        "+t._s(t.error)+"\n      ")])],1)]:[n("k-dropzone",{attrs:{disabled:!1===t.add},on:{drop:t.drop}},[t.data.length?n("k-collection",{attrs:{help:t.help,items:t.data,layout:t.options.layout,pagination:t.pagination,sortable:!t.isProcessing&&t.options.sortable,size:t.options.size,"data-invalid":t.isInvalid},on:{sort:t.sort,paginate:t.paginate,action:t.action}}):[n("k-empty",{attrs:{layout:t.options.layout,"data-invalid":t.isInvalid,icon:"image"},on:{click:function(e){t.add&&t.upload()}}},[t._v("\n          "+t._s(t.options.empty||t.$t("files.empty"))+"\n        ")]),n("footer",{staticClass:"k-collection-footer"},[t.help?n("k-text",{staticClass:"k-collection-help",attrs:{theme:"help"},domProps:{innerHTML:t._s(t.help)}}):t._e()],1)]],2),n("k-file-rename-dialog",{ref:"rename",on:{success:t.update}}),n("k-file-remove-dialog",{ref:"remove",on:{success:t.update}}),n("k-file-sort-dialog",{ref:"sort",on:{success:t.reload}}),n("k-upload",{ref:"upload",on:{success:t.uploaded,error:t.reload}})]],2):t._e()},Rv=[],Tv={mixins:[xv],computed:{add:function(){return!(!this.$permissions.files.create||!1===this.options.upload)&&this.options.upload}},created:function(){this.load(),this.$events.$on("model.update",this.reload)},destroyed:function(){this.$events.$off("model.update",this.reload)},methods:{action:function(t,e){switch(e){case"edit":this.$go(t.link);break;case"download":window.open(t.url);break;case"rename":this.$refs.rename.open(t.parent,t.filename);break;case"replace":this.$refs.upload.open({url:C.api+"/"+this.$api.files.url(t.parent,t.filename),accept:"."+t.extension+","+t.mime,multiple:!1});break;case"remove":if(this.data.length<=this.options.min){var n=this.options.min>1?"plural":"singular";this.$store.dispatch("notification/error",{message:this.$t("error.section.files.min."+n,{section:this.options.headline||this.name,min:this.options.min})});break}this.$refs.remove.open(t.parent,t.filename);break;case"sort":this.$refs.sort.open(t.parent,t,this.options.apiUrl);break}},drop:function(t){if(!1===this.add)return!1;this.$refs.upload.drop(t,Object(x["a"])(Object(x["a"])({},this.add),{},{url:C.api+"/"+this.add.api}))},items:function(t){var e=this;return t.map((function(t){return t.sortable=e.options.sortable,t.column=e.column,t.options=function(){var n=Object(v["a"])(regeneratorRuntime.mark((function n(i){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.files.options(t.parent,t.filename,"list",e.options.sortable);case 3:r=n.sent,i(r),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),e.$store.dispatch("notification/error",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}(),t}))},replace:function(t){this.$refs.upload.open({url:C.api+"/"+this.$api.files.url(t.parent,t.filename),accept:t.mime,multiple:!1})},sort:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!1!==e.options.sortable){n.next=2;break}return n.abrupt("return",!1);case 2:return e.isProcessing=!0,t=t.map((function(t){return t.id})),n.prev=4,n.next=7,e.$api.patch(e.options.apiUrl+"/files/sort",{files:t,index:e.pagination.offset});case 7:e.$store.dispatch("notification/success",":)"),n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](4),e.reload(),e.$store.dispatch("notification/error",n.t0.message);case 14:return n.prev=14,e.isProcessing=!1,n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[4,10,14,17]])})))()},update:function(){this.$events.$emit("model.update")},upload:function(){if(!1===this.add)return!1;this.$refs.upload.open(Object(x["a"])(Object(x["a"])({},this.add),{},{url:C.api+"/"+this.add.api}))},uploaded:function(){this.$events.$emit("file.create"),this.$events.$emit("model.update"),this.$store.dispatch("notification/success",":)")}}},Lv=Tv,Iv=(n("b7a8"),Object(f["a"])(Lv,Ev,Rv,!1,null,null,null)),Av=Iv.exports,Bv=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isLoading?t._e():n("section",{staticClass:"k-fields-section"},[t.issue?[n("k-headline",{staticClass:"k-fields-issue-headline"},[t._v("Error")]),n("k-box",{attrs:{text:t.issue.message,theme:"negative"}})]:t._e(),n("k-form",{attrs:{fields:t.fields,validate:!0,value:t.values,disabled:null!==t.$store.state.content.status.lock},on:{input:t.input,submit:t.onSubmit}})],2)},Dv=[],Mv={mixins:[bv],inheritAttrs:!1,data:function(){return{fields:{},isLoading:!0,issue:null}},computed:{language:function(){return this.$store.state.languages.current},values:function(){return this.$store.getters["content/values"]()}},watch:{language:function(){this.fetch()}},created:function(){this.fetch()},methods:{input:function(t,e,n){this.$store.dispatch("content/update",[n,t[n]])},fetch:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.load();case 3:n=e.sent,t.fields=n.fields,Object.keys(t.fields).forEach((function(e){t.fields[e].section=t.name,t.fields[e].endpoints={field:t.parent+"/fields/"+e,section:t.parent+"/sections/"+t.name,model:t.parent}})),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.issue=e.t0;case 11:return e.prev=11,t.isLoading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))()},onSubmit:function(t){this.$events.$emit("keydown.cmd.s",t)}}},Nv=Mv,Pv=(n("7d5d"),Object(f["a"])(Nv,Bv,Dv,!1,null,null,null)),qv=Pv.exports,Fv=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-error-view",{staticClass:"k-browser-view"},[n("p",[t._v("\n    We are really sorry, but your browser does not support\n    all features required for the Kirby Panel.\n  ")]),!1===t.hasFetchSupport?[n("p",[n("strong",[t._v("Fetch")]),n("br"),t._v("\n      We use Javascript's new Fetch API. You can find a list of supported browsers for this feature on\n      "),n("strong",[n("a",{attrs:{href:"https://caniuse.com/#feat=fetch"}},[t._v("caniuse.com")])])])]:t._e(),!1===t.hasGridSupport?[n("p",[n("strong",[t._v("CSS Grid")]),n("br"),t._v("\n      We use CSS Grids for all our layouts. You can find a list of supported browsers for this feature on\n      "),n("strong",[n("a",{attrs:{href:"https://caniuse.com/#feat=css-grid"}},[t._v("caniuse.com")])])])]:t._e()],2)},Uv=[],zv={grid:function(){return!(!window.CSS||!window.CSS.supports("display","grid"))},fetch:function(){return void 0!==window.fetch},all:function(){return this.fetch()&&this.grid()}},Hv={computed:{hasFetchSupport:function(){return zv.fetch()},hasGridSupport:function(){return zv.grid()}},created:function(){this.$store.dispatch("content/current",null),zv.all()&&this.$go("/")}},Kv=Hv,Yv=(n("d6fc"),Object(f["a"])(Kv,Fv,Uv,!1,null,null,null)),Gv=Yv.exports,Wv=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-error-boundary",{key:t.plugin,scopedSlots:t._u([{key:"error",fn:function(e){var i=e.error;return n("k-error-view",{},[t._v("\n    "+t._s(i.message||i)+"\n  ")])}}])},[n("k-"+t.plugin+"-plugin-view",t._b({tag:"component"},"component",t.$props,!1))],1)},Jv=[],Vv={props:{plugin:String,hash:String},beforeRouteEnter:function(t,e,n){n((function(t){t.$store.dispatch("breadcrumb",[]),t.$store.dispatch("content/current",null)}))}},Zv=Vv,Xv=Object(f["a"])(Zv,Wv,Jv,!1,null,null,null),Qv=Xv.exports,tk=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-view",{staticClass:"k-error-view"},[n("div",{staticClass:"k-error-view-content"},[n("k-text",[n("p",[n("k-icon",{staticClass:"k-error-view-icon",attrs:{type:"alert"}})],1),n("p",[t._t("default")],2)])],1)])},ek=[],nk=(n("d221"),{}),ik=Object(f["a"])(nk,tk,ek,!1,null,null,null),rk=ik.exports,sk=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.issue?n("k-error-view",[t._v("\n  "+t._s(t.issue.message)+"\n")]):null!==t.file.id?n("div",{staticClass:"k-file-view"},[n("k-file-preview",{attrs:{file:t.file}}),n("k-view",{staticClass:"k-file-content",attrs:{"data-locked":t.isLocked}},[n("k-header",{attrs:{editable:t.permissions.changeName&&!t.isLocked,tab:t.tab,tabs:t.tabs},on:{edit:function(e){return t.action("rename")}}},[t._v("\n\n      "+t._s(t.file.filename)+"\n\n      "),n("k-button-group",{attrs:{slot:"left"},slot:"left"},[n("k-button",{attrs:{link:t.file.url,responsive:!0,icon:"open",target:"_blank"}},[t._v("\n          "+t._s(t.$t("open"))+"\n        ")]),n("k-dropdown",[n("k-button",{attrs:{responsive:!0,disabled:t.isLocked,icon:"cog"},on:{click:function(e){return t.$refs.settings.toggle()}}},[t._v("\n            "+t._s(t.$t("settings"))+"\n          ")]),n("k-dropdown-content",{ref:"settings",attrs:{options:t.options},on:{action:t.action}})],1),n("k-languages-dropdown")],1),t.file.id?n("k-prev-next",{attrs:{slot:"right",prev:t.prev,next:t.next},slot:"right"}):t._e()],1),t.file.id?n("k-sections",{attrs:{blueprint:t.file.blueprint.name,empty:t.$t("file.blueprint",{template:t.file.blueprint.name}),parent:t.parent,tab:t.tab,tabs:t.tabs}}):t._e(),n("k-file-rename-dialog",{ref:"rename",on:{success:t.renamed}}),n("k-file-remove-dialog",{ref:"remove",on:{success:t.deleted}}),n("k-upload",{ref:"upload",attrs:{url:t.uploadApi,accept:t.file.mime,multiple:!1},on:{success:t.uploaded}})],1)],1):t._e()},ak=[],ok={computed:{isLocked:function(){return null!==this.$store.state.content.status.lock}},created:function(){this.fetch(),this.$events.$on("model.reload",this.fetch),this.$events.$on("keydown.left",this.toPrev),this.$events.$on("keydown.right",this.toNext)},destroyed:function(){this.$events.$off("model.reload",this.fetch),this.$events.$off("keydown.left",this.toPrev),this.$events.$off("keydown.right",this.toNext)},methods:{toPrev:function(t){this.prev&&"body"===t.target.localName&&this.$router.push(this.prev.link)},toNext:function(t){this.next&&"body"===t.target.localName&&this.$router.push(this.next.link)}}},uk={mixins:[ok],props:{path:{type:String},filename:{type:String,required:!0},tab:{type:String,required:!0}},data:function(){return{file:{id:null,parent:null,filename:"",url:"",prev:null,next:null,panelIcon:null,panelImage:null,mime:null,content:{}},parent:null,permissions:{changeName:!1,delete:!1},issue:null,tabs:[],options:null}},computed:{uploadApi:function(){return C.api+"/"+this.path+"/files/"+this.filename},prev:function(){return this.file.prev?{link:this.$api.files.link(this.path,this.file.prev.filename),tooltip:this.file.prev.filename}:null},language:function(){return this.$store.state.languages.current},next:function(){return this.file.next?{link:this.$api.files.link(this.path,this.file.next.filename),tooltip:this.file.next.filename}:null}},watch:{language:function(){this.fetch()},filename:function(){this.fetch()}},methods:{fetch:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.files.get(t.path,t.filename,{view:"panel"});case 3:n=e.sent,t.file=Object(x["a"])(Object(x["a"])({},n),{},{next:n.nextWithTemplate,prev:n.prevWithTemplate,url:n.url}),t.parent=t.$api.files.url(t.path,n.filename),t.tabs=n.blueprint.tabs,t.permissions=n.options,t.options=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(n){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.files.options(t.path,t.file.filename);case 2:i=e.sent,n(i);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.$store.dispatch("breadcrumb",t.$api.files.breadcrumb(t.file,t.$route.name)),t.$store.dispatch("title",t.filename),t.$store.dispatch("content/create",{id:"files/"+n.id,api:t.$api.files.link(t.path,t.filename),content:n.content}),e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](0),window.console.error(e.t0),t.issue=e.t0;case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))()},action:function(t){switch(t){case"rename":this.$refs.rename.open(this.path,this.file.filename);break;case"replace":this.$refs.upload.open({url:C.api+"/"+this.$api.files.url(this.path,this.file.filename),accept:"."+this.file.extension+","+this.file.mime});break;case"remove":this.$refs.remove.open(this.path,this.file.filename);break}},deleted:function(){this.path?this.$go("/"+this.path):this.$go("/site")},renamed:function(t){this.$go(this.$api.files.link(this.path,t.filename))},uploaded:function(){this.fetch(),this.$store.dispatch("notification/success",":)")}}},ck=uk,lk=Object(f["a"])(ck,sk,ak,!1,null,null,null),pk=lk.exports,dk=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.system?n("k-view",{staticClass:"k-installation-view",attrs:{align:"center"}},["install"===t.state?n("form",{on:{submit:function(e){return e.preventDefault(),t.install(e)}}},[n("h1",{staticClass:"k-offscreen"},[t._v(t._s(t.$t("installation")))]),n("k-fieldset",{attrs:{fields:t.fields,novalidate:!0},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}}),n("k-button",{attrs:{type:"submit",icon:"check"}},[t._v(t._s(t.$t("install")))])],1):"completed"===t.state?n("k-text",[n("k-headline",[t._v(t._s(t.$t("installation.completed")))]),n("k-link",{attrs:{to:"/login"}},[t._v(t._s(t.$t("login")))])],1):n("div",[t.system.isInstalled?t._e():n("k-headline",[t._v(t._s(t.$t("installation.issues.headline")))]),n("ul",{staticClass:"k-installation-issues"},[!1===t.system.isInstallable?n("li",[n("k-icon",{attrs:{type:"alert"}}),n("span",{domProps:{innerHTML:t._s(t.$t("installation.disabled"))}})],1):t._e(),!1===t.requirements.php?n("li",[n("k-icon",{attrs:{type:"alert"}}),n("span",{domProps:{innerHTML:t._s(t.$t("installation.issues.php"))}})],1):t._e(),!1===t.requirements.server?n("li",[n("k-icon",{attrs:{type:"alert"}}),n("span",{domProps:{innerHTML:t._s(t.$t("installation.issues.server"))}})],1):t._e(),!1===t.requirements.mbstring?n("li",[n("k-icon",{attrs:{type:"alert"}}),n("span",{domProps:{innerHTML:t._s(t.$t("installation.issues.mbstring"))}})],1):t._e(),!1===t.requirements.curl?n("li",[n("k-icon",{attrs:{type:"alert"}}),n("span",{domProps:{innerHTML:t._s(t.$t("installation.issues.curl"))}})],1):t._e(),!1===t.requirements.accounts?n("li",[n("k-icon",{attrs:{type:"alert"}}),n("span",{domProps:{innerHTML:t._s(t.$t("installation.issues.accounts"))}})],1):t._e(),!1===t.requirements.content?n("li",[n("k-icon",{attrs:{type:"alert"}}),n("span",{domProps:{innerHTML:t._s(t.$t("installation.issues.content"))}})],1):t._e(),!1===t.requirements.media?n("li",[n("k-icon",{attrs:{type:"alert"}}),n("span",{domProps:{innerHTML:t._s(t.$t("installation.issues.media"))}})],1):t._e(),!1===t.requirements.sessions?n("li",[n("k-icon",{attrs:{type:"alert"}}),n("span",{domProps:{innerHTML:t._s(t.$t("installation.issues.sessions"))}})],1):t._e()]),n("k-button",{attrs:{icon:"refresh"},on:{click:t.check}},[n("span",{domProps:{innerHTML:t._s(t.$t("retry"))}})])],1)],1):t._e()},fk=[],hk={data:function(){return{user:{name:"",email:"",language:"",password:"",role:"admin"},languages:[],system:null}},computed:{state:function(){return this.system.isOk&&this.system.isInstallable&&!this.system.isInstalled?"install":this.system.isOk&&this.system.isInstallable&&this.system.isInstalled?"completed":null},translation:function(){return this.$store.state.translation.current},requirements:function(){return this.system&&this.system.requirements?this.system.requirements:{}},fields:function(){return{email:{label:this.$t("email"),type:"email",link:!1,required:!0},password:{label:this.$t("password"),type:"password",placeholder:this.$t("password")+" …",required:!0},language:{label:this.$t("language"),type:"select",options:this.languages,icon:"globe",empty:!1,required:!0}}}},watch:{translation:{handler:function(t){this.user.language=t},immediate:!0},"user.language":function(t){this.$store.dispatch("translation/activate",t)}},created:function(){this.$store.dispatch("content/current",null),this.check()},methods:{install:function(){var t=this;this.$api.system.install(this.user).then((function(e){t.$store.dispatch("user/current",e),t.$store.dispatch("notification/success",t.$t("welcome")+"!"),t.$go("/")})).catch((function(e){t.$store.dispatch("notification/error",e)}))},check:function(){var t=this;this.$store.dispatch("system/load",!0).then((function(e){!0===e.isInstalled&&e.isReady?t.$go("/login"):t.$api.translations.options().then((function(n){t.languages=n,t.system=e,t.$store.dispatch("title",t.$t("view.installation"))}))}))}}},mk=hk,gk=(n("146c"),Object(f["a"])(mk,dk,fk,!1,null,null,null)),bk=gk.exports,vk=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.issue?n("k-error-view",[t._v("\n  "+t._s(t.issue.message)+"\n")]):t.ready&&"login"===t.form?n("k-view",{staticClass:"k-login-view",attrs:{align:"center"}},[n("k-login-plugin")],1):t.ready&&"code"===t.form?n("k-view",{staticClass:"k-login-code-view",attrs:{align:"center"}},[n("k-login-code")],1):t._e()},kk=[],$k={components:{"k-login-plugin":window.panel.plugins.login||Ur},data:function(){return{ready:!1,issue:null}},computed:{form:function(){return this.$store.state.user.pendingEmail?"code":"login"}},created:function(){var t=this;this.$store.dispatch("content/current",null),this.$store.dispatch("system/load").then((function(e){e.isReady||t.$go("/installation"),e.user&&e.user.id&&t.$go("/"),e.pendingChallenge&&t.$store.dispatch("user/pending",{email:e.pendingEmail,challenge:e.pendingChallenge}),t.ready=!0,t.$store.dispatch("title",t.$t("login"))})).catch((function(e){t.issue=e}))}},yk=$k,wk=(n("24c1"),Object(f["a"])(yk,vk,kk,!1,null,null,null)),_k=wk.exports,xk=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.issue?n("k-error-view",[t._v("\n  "+t._s(t.issue.message)+"\n")]):n("k-view",{staticClass:"k-page-view",attrs:{"data-locked":t.isLocked}},[n("k-header",{attrs:{editable:t.permissions.changeTitle&&!t.isLocked,tab:t.tab,tabs:t.tabs},on:{edit:function(e){return t.action("rename")}}},[t._v("\n    "+t._s(t.page.title)+"\n    "),n("k-button-group",{attrs:{slot:"left"},slot:"left"},[t.permissions.preview&&t.page.previewUrl?n("k-button",{attrs:{responsive:!0,link:t.page.previewUrl,target:"_blank",icon:"open"}},[t._v("\n        "+t._s(t.$t("open"))+"\n      ")]):t._e(),t.status?n("k-status-icon",{attrs:{status:t.page.status,disabled:!t.permissions.changeStatus||t.isLocked,responsive:!0,text:t.status.label},on:{click:function(e){return t.action("status")}}}):t._e(),n("k-dropdown",[n("k-button",{attrs:{responsive:!0,disabled:!0===t.isLocked,icon:"cog"},on:{click:function(e){return t.$refs.settings.toggle()}}},[t._v("\n          "+t._s(t.$t("settings"))+"\n        ")]),n("k-dropdown-content",{ref:"settings",attrs:{options:t.options},on:{action:t.action}})],1),n("k-languages-dropdown")],1),t.page.id?n("k-prev-next",{attrs:{slot:"right",prev:t.prev,next:t.next},slot:"right"}):t._e()],1),t.page.id?n("k-sections",{attrs:{blueprint:t.blueprint,empty:t.$t("page.blueprint",{template:t.blueprint}),parent:t.$api.pages.url(t.page.id),tab:t.tab,tabs:t.tabs}}):t._e(),n("k-page-rename-dialog",{ref:"rename",on:{success:t.update}}),n("k-page-duplicate-dialog",{ref:"duplicate"}),n("k-page-status-dialog",{ref:"status",on:{success:t.update}}),n("k-page-template-dialog",{ref:"template",on:{success:t.update}}),n("k-page-remove-dialog",{ref:"remove"})],1)},Ok=[],jk={mixins:[ok],props:{path:{type:String,required:!0},tab:{type:String}},data:function(){return{page:{title:"",id:null,prev:null,next:null,status:null},blueprint:null,preview:!0,permissions:{changeTitle:!1,changeStatus:!1},icon:"page",issue:null,tabs:[],options:null}},computed:{language:function(){return this.$store.state.languages.current},next:function(){return this.page.next?{link:this.$api.pages.link(this.page.next.id),tooltip:this.page.next.title}:null},prev:function(){return this.page.prev?{link:this.$api.pages.link(this.page.prev.id),tooltip:this.page.prev.title}:null},status:function(){return null!==this.page.status?this.page.blueprint.status[this.page.status]:null}},watch:{language:function(){this.fetch()},path:function(){this.fetch()}},created:function(){this.$events.$on("page.changeSlug",this.update)},destroyed:function(){this.$events.$off("page.changeSlug",this.update)},methods:{action:function(t){switch(t){case"duplicate":this.$refs.duplicate.open(this.page.id);break;case"rename":this.$refs.rename.open(this.page.id,this.permissions,"title");break;case"url":this.$refs.rename.open(this.page.id,this.permissions,"slug");break;case"status":this.$refs.status.open(this.page.id);break;case"template":this.$refs.template.open(this.page.id);break;case"remove":this.$refs.remove.open(this.page.id);break;default:this.$store.dispatch("notification/error",this.$t("notification.notImplemented"));break}},fetch:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.pages.get(t.path,{view:"panel"});case 3:t.page=e.sent,t.blueprint=t.page.blueprint.name,t.permissions=t.page.options,t.tabs=t.page.blueprint.tabs,t.options=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(n){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.pages.options(t.page.id);case 2:i=e.sent,n(i);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.$store.dispatch("breadcrumb",t.$api.pages.breadcrumb(t.page)),t.$store.dispatch("title",t.page.title),t.$store.dispatch("content/create",{id:"pages/"+t.page.id,api:t.$api.pages.link(t.page.id),content:t.page.content}),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),t.issue=e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()},update:function(){this.fetch(),this.$emit("model.update")}}},Ck=jk,Sk=Object(f["a"])(Ck,xk,Ok,!1,null,null,null),Ek=Sk.exports,Rk=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-view",{staticClass:"k-password-reset-view",attrs:{align:"center"}},[n("k-form",{attrs:{fields:t.fields,"submit-button":t.$t("change")},on:{submit:t.submit},model:{value:t.values,callback:function(e){t.values=e},expression:"values"}},[n("template",{slot:"header"},[n("h1",{staticClass:"k-offscreen"},[t._v(t._s(t.$t("view.resetPassword")))]),t.issue?n("div",{staticClass:"k-login-alert",on:{click:function(e){t.issue=null}}},[n("span",[t._v(t._s(t.issue))]),n("k-icon",{attrs:{type:"alert"}})],1):t._e(),n("k-user-info",{attrs:{user:t.$user}})],1),n("div",{staticClass:"k-login-buttons",attrs:{slot:"footer"},slot:"footer"},[n("k-button",{staticClass:"k-login-button",attrs:{icon:"check",type:"submit"}},[t._v("\n        "+t._s(t.$t("change"))+" "),t.isLoading?[t._v("…")]:t._e()],2)],1)],2)],1)},Tk=[],Lk={data:function(){return{isLoading:!1,issue:"",values:{password:null,passwordConfirmation:null}}},computed:{fields:function(){return{password:{autofocus:!0,label:this.$t("user.changePassword.new"),icon:"key",type:"password"},passwordConfirmation:{label:this.$t("user.changePassword.new.confirm"),icon:"key",type:"password"}}}},mounted:function(){this.$store.dispatch("title",this.$t("view.resetPassword"))},methods:{submit:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.values.password&&!(t.values.password.length<8)){e.next=3;break}return t.issue=t.$t("error.user.password.invalid"),e.abrupt("return",!1);case 3:if(t.values.password===t.values.passwordConfirmation){e.next=6;break}return t.issue=t.$t("error.user.password.notSame"),e.abrupt("return",!1);case 6:return t.isLoading=!0,e.prev=7,e.next=10,t.$api.users.changePassword(t.$user.id,t.values.password);case 10:t.$store.dispatch("notification/success",":)"),t.$go("/"),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](7),t.issue=e.t0.message;case 17:return e.prev=17,t.isLoading=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[7,14,17,20]])})))()}}},Ik=Lk,Ak=(n("310e"),Object(f["a"])(Ik,Rk,Tk,!1,null,null,null)),Bk=Ak.exports,Dk=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-view",{staticClass:"k-settings-view"},[n("k-header",[t._v("\n    "+t._s(t.$t("view.settings"))+"\n  ")]),n("section",{staticClass:"k-system-info"},[n("header",[n("k-headline",[t._v("Kirby")])],1),n("ul",{staticClass:"k-system-info-box"},[n("li",[n("dl",[n("dt",[t._v(t._s(t.$t("license")))]),n("dd",[t.license?[t._v("\n              "+t._s(t.license)+"\n            ")]:n("p",[n("strong",{staticClass:"k-system-unregistered"},[t._v(t._s(t.$t("license.unregistered")))])])],2)])]),n("li",[n("dl",[n("dt",[t._v(t._s(t.$t("version")))]),n("dd",[t._v(t._s(t.$store.state.system.info.version))])])])])]),t.multilang?n("section",{staticClass:"k-languages"},[t.languages.length>0?[n("section",{staticClass:"k-languages-section"},[n("header",[n("k-headline",[t._v(t._s(t.$t("languages.default")))])],1),n("k-collection",{attrs:{items:t.defaultLanguage},on:{action:t.action}})],1),n("section",{staticClass:"k-languages-section"},[n("header",[n("k-headline",[t._v(t._s(t.$t("languages.secondary")))]),n("k-button",{attrs:{icon:"add"},on:{click:function(e){return t.$refs.create.open()}}},[t._v(t._s(t.$t("language.create")))])],1),t.translations.length?n("k-collection",{attrs:{items:t.translations},on:{action:t.action}}):n("k-empty",{attrs:{icon:"globe"},on:{click:function(e){return t.$refs.create.open()}}},[t._v(t._s(t.$t("languages.secondary.empty")))])],1)]:0===t.languages.length?[n("header",[n("k-headline",[t._v(t._s(t.$t("languages")))]),n("k-button",{attrs:{icon:"add"},on:{click:function(e){return t.$refs.create.open()}}},[t._v(t._s(t.$t("language.create")))])],1),n("k-empty",{attrs:{icon:"globe"},on:{click:function(e){return t.$refs.create.open()}}},[t._v(t._s(t.$t("languages.empty")))])]:t._e(),n("k-language-create-dialog",{ref:"create",on:{success:t.fetch}}),n("k-language-update-dialog",{ref:"update",on:{success:t.fetch}}),n("k-language-remove-dialog",{ref:"remove",on:{success:t.fetch}})],2):t._e()],1)},Mk=[],Nk={data:function(){return{languages:[]}},computed:{defaultLanguage:function(){return this.languages.filter((function(t){return t.default}))},multilang:function(){return this.$store.state.system.info.multilang},license:function(){return this.$store.state.system.info.license},translations:function(){return this.languages.filter((function(t){return!1===t.default}))}},created:function(){this.$store.dispatch("content/current",null),this.$store.dispatch("title",this.$t("view.settings")),this.$store.dispatch("breadcrumb",[]),this.fetch()},methods:{fetch:function(){var t=this;!0===this.multilang?this.$api.get("languages").then((function(e){t.languages=e.data.map((function(n){return{id:n.code,default:n.default,icon:{type:"globe",back:"black"},image:!0,text:n.name,info:n.code,link:function(){t.$refs.update.open(n.code)},options:[{icon:"edit",text:t.$t("edit"),click:"update"},{icon:"trash",text:t.$t("delete"),disabled:n.default&&1!==e.data.length,click:"remove"}]}}))})):this.languages=[]},action:function(t,e){switch(e){case"update":this.$refs.update.open(t.id);break;case"remove":this.$refs.remove.open(t.id);break}}}},Pk=Nk,qk=(n("9bd5"),Object(f["a"])(Pk,Dk,Mk,!1,null,null,null)),Fk=qk.exports,Uk=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.issue?n("k-error-view",[t._v("\n  "+t._s(t.issue.message)+"\n")]):n("k-view",{key:"site-view",staticClass:"k-site-view",attrs:{"data-locked":t.isLocked}},[n("k-header",{attrs:{editable:t.permissions.changeTitle&&!t.isLocked,tab:t.tab,tabs:t.tabs},on:{edit:function(e){return t.action("rename")}}},[t._v("\n    "+t._s(t.site.title)+"\n    "),n("k-button-group",{attrs:{slot:"left"},slot:"left"},[n("k-button",{attrs:{responsive:!0,link:t.site.previewUrl,target:"_blank",icon:"open"}},[t._v("\n        "+t._s(t.$t("open"))+"\n      ")]),n("k-languages-dropdown")],1)],1),t.site.url?n("k-sections",{attrs:{blueprint:t.site.blueprint.name,empty:t.$t("site.blueprint"),tab:t.tab,tabs:t.tabs,parent:"site"},on:{submit:function(e){return t.$emit("submit",e)}}}):t._e(),n("k-site-rename-dialog",{ref:"rename",on:{success:t.fetch}})],1)},zk=[],Hk={props:{tab:String},data:function(){return{site:{title:null,url:null},issue:null,tabs:[],options:null,permissions:{changeTitle:!0}}},computed:{isLocked:function(){return null!==this.$store.state.content.status.lock},language:function(){return this.$store.state.languages.current}},watch:{language:function(){this.fetch()}},created:function(){this.fetch()},methods:{fetch:function(){var t=this;this.$api.site.get({view:"panel"}).then((function(e){t.site=e,t.tabs=e.blueprint.tabs,t.permissions=e.options,t.options=function(e){t.$api.site.options().then((function(t){e(t)}))},t.$store.dispatch("breadcrumb",[]),t.$store.dispatch("title",null),t.$store.dispatch("content/create",{id:"site",api:"site",content:e.content})})).catch((function(e){t.issue=e}))},action:function(t){switch(t){case"languages":this.$refs.languages.open();break;case"rename":this.$refs.rename.open();break;default:this.$store.dispatch("notification/error",this.$t("notification.notImplemented"));break}}}},Kk=Hk,Yk=Object(f["a"])(Kk,Uk,zk,!1,null,null,null),Gk=Yk.exports,Wk=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.issue?n("k-error-view",[t._v("\n  "+t._s(t.issue.message)+"\n")]):n("k-view",{staticClass:"k-users-view"},[n("k-header",[t._v("\n    "+t._s(t.$t("view.users"))+"\n\n    "),n("k-button-group",{attrs:{slot:"left"},slot:"left"},[n("k-button",{attrs:{disabled:!1===t.$permissions.users.create,icon:"add"},on:{click:function(e){return t.$refs.create.open()}}},[t._v(t._s(t.$t("user.create")))])],1),n("k-button-group",{attrs:{slot:"right"},slot:"right"},[n("k-dropdown",[n("k-button",{attrs:{responsive:!0,icon:"funnel"},on:{click:function(e){return t.$refs.roles.toggle()}}},[t._v("\n          "+t._s(t.$t("role"))+": "+t._s(t.role?t.role.text:t.$t("role.all"))+"\n        ")]),n("k-dropdown-content",{ref:"roles",attrs:{align:"right"}},[n("k-dropdown-item",{attrs:{icon:"bolt"},on:{click:function(e){return t.filter(!1)}}},[t._v("\n            "+t._s(t.$t("role.all"))+"\n          ")]),n("hr"),t._l(t.roles,(function(e){return n("k-dropdown-item",{key:e.value,attrs:{icon:"bolt"},on:{click:function(n){return t.filter(e)}}},[t._v("\n            "+t._s(e.text)+"\n          ")])}))],2)],1)],1)],1),t.users.length>0?[n("k-collection",{attrs:{items:t.users,pagination:t.pagination},on:{paginate:t.paginate,action:t.action}})]:0===t.total?[n("k-empty",{attrs:{icon:"users"}},[t._v(t._s(t.$t("role.empty")))])]:t._e(),n("k-user-create-dialog",{ref:"create",on:{success:t.fetch}}),n("k-user-email-dialog",{ref:"email",on:{success:t.fetch}}),n("k-user-language-dialog",{ref:"language",on:{success:t.fetch}}),n("k-user-password-dialog",{ref:"password"}),n("k-user-remove-dialog",{ref:"remove",on:{success:t.fetch}}),n("k-user-rename-dialog",{ref:"rename",on:{success:t.fetch}}),n("k-user-role-dialog",{ref:"role",on:{success:t.fetch}})],2)},Jk=[],Vk={data:function(){return{page:1,limit:20,total:null,users:[],roles:[],issue:null}},computed:{pagination:function(){return{page:this.page,limit:this.limit,total:this.total}},role:function(){var t=this,e=null;return this.$route.params.role&&this.roles.forEach((function(n){n.value===t.$route.params.role&&(e=n)})),e}},watch:{$route:function(){this.fetch()}},created:function(){var t=this;this.$store.dispatch("content/current",null),this.$api.roles.options().then((function(e){t.roles=e,t.fetch()}))},methods:{fetch:function(){var t=this;this.$store.dispatch("title",this.$t("view.users"));var e={paginate:{page:this.page,limit:this.limit},sortBy:"username asc"};this.role&&(e.filterBy=[{field:"role",operator:"==",value:this.role.value}]),this.$api.users.list(e).then((function(e){t.users=e.data.map((function(e){var n={id:e.id,icon:{type:"user",back:"black"},text:e.name||e.email,info:e.role.title,link:"/users/"+e.id,options:function(n){t.$api.users.options(e.id,"list").then((function(t){return n(t)})).catch((function(e){t.$store.dispatch("notification/error",e)}))},image:!0};return e.avatar&&(n.image={url:e.avatar.url,cover:!0}),n})),t.role?t.$store.dispatch("breadcrumb",[{link:"/users/role/"+t.role.value,label:t.$t("role")+": "+t.role.text}]):t.$store.dispatch("breadcrumb",[]),t.total=e.pagination.total})).catch((function(e){t.issue=e}))},paginate:function(t){this.page=t.page,this.limit=t.limit,this.fetch()},action:function(t,e){switch(e){case"edit":this.$go("/users/"+t.id);break;case"email":this.$refs.email.open(t.id);break;case"role":this.$refs.role.open(t.id);break;case"rename":this.$refs.rename.open(t.id);break;case"password":this.$refs.password.open(t.id);break;case"language":this.$refs.language.open(t.id);break;case"remove":this.$refs.remove.open(t.id);break}},filter:function(t){!1===t?this.$go("/users"):this.$go("/users/role/"+t.value),this.$refs.roles.close()}}},Zk=Vk,Xk=Object(f["a"])(Zk,Wk,Jk,!1,null,null,null),Qk=Xk.exports,t$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.issue?n("k-error-view",[t._v("\n  "+t._s(t.issue.message)+"\n")]):t.ready?n("div",{staticClass:"k-user-view",attrs:{"data-locked":t.isLocked}},[n("div",{staticClass:"k-user-profile"},[n("k-view",[t.avatar?[n("k-dropdown",[n("k-button",{staticClass:"k-user-view-image",attrs:{tooltip:t.$t("avatar"),disabled:t.isLocked},on:{click:function(e){return t.$refs.picture.toggle()}}},[t.avatar?n("k-image",{attrs:{cover:!0,src:t.avatar,ratio:"1/1"}}):t._e()],1),n("k-dropdown-content",{ref:"picture"},[n("k-dropdown-item",{attrs:{icon:"upload"},on:{click:function(e){return t.$refs.upload.open()}}},[t._v("\n              "+t._s(t.$t("change"))+"\n            ")]),n("k-dropdown-item",{attrs:{icon:"trash"},on:{click:function(e){return t.action("picture.delete")}}},[t._v("\n              "+t._s(t.$t("delete"))+"\n            ")])],1)],1)]:[n("k-button",{staticClass:"k-user-view-image",attrs:{tooltip:t.$t("avatar")},on:{click:function(e){return t.$refs.upload.open()}}},[n("k-icon",{attrs:{type:"user"}})],1)],n("k-button-group",[n("k-button",{attrs:{disabled:!t.permissions.changeEmail||t.isLocked,icon:"email"},on:{click:function(e){return t.action("email")}}},[t._v(t._s(t.$t("email"))+": "+t._s(t.user.email))]),n("k-button",{attrs:{disabled:!t.permissions.changeRole||t.isLocked,icon:"bolt"},on:{click:function(e){return t.action("role")}}},[t._v(t._s(t.$t("role"))+": "+t._s(t.user.role.title))]),n("k-button",{attrs:{disabled:!t.permissions.changeLanguage||t.isLocked,icon:"globe"},on:{click:function(e){return t.action("language")}}},[t._v(t._s(t.$t("language"))+": "+t._s(t.user.language))])],1)],2)],1),n("k-view",[n("k-header",{attrs:{editable:t.permissions.changeName&&!t.isLocked,tab:t.tab,tabs:t.tabs},on:{edit:function(e){return t.action("rename")}}},[t.user.name&&0!==t.user.name.length?[t._v(t._s(t.user.name))]:n("span",{staticClass:"k-user-name-placeholder"},[t._v(t._s(t.$t("name"))+" …")]),n("k-button-group",{attrs:{slot:"left"},slot:"left"},[n("k-dropdown",[n("k-button",{attrs:{disabled:t.isLocked,icon:"cog"},on:{click:function(e){return t.$refs.settings.toggle()}}},[t._v("\n            "+t._s(t.$t("settings"))+"\n          ")]),n("k-dropdown-content",{ref:"settings",attrs:{options:t.options},on:{action:t.action}})],1),n("k-languages-dropdown")],1),t.user.id&&"User"===t.$route.name?n("k-prev-next",{attrs:{slot:"right",prev:t.prev,next:t.next},slot:"right"}):t._e()],2),t.user?n("k-sections",{attrs:{blueprint:t.user.blueprint.name,empty:t.$t("user.blueprint",{role:t.user.role.name}),parent:"users/"+t.user.id,tab:t.tab,tabs:t.tabs}}):t._e(),n("k-user-email-dialog",{ref:"email",on:{success:t.fetch}}),n("k-user-language-dialog",{ref:"language",on:{success:t.fetch}}),n("k-user-password-dialog",{ref:"password"}),n("k-user-remove-dialog",{ref:"remove"}),n("k-user-rename-dialog",{ref:"rename",on:{success:t.fetch}}),n("k-user-role-dialog",{ref:"role",on:{success:t.fetch}}),n("k-upload",{ref:"upload",attrs:{url:t.uploadApi,multiple:!1,accept:"image/*"},on:{success:t.uploadedAvatar}})],1)],1):t._e()},e$=[],n$={mixins:[ok],props:{id:{type:[Boolean,String],required:!0},tab:String},data:function(){return{tabs:[],ready:!1,user:{role:{name:null},name:null,language:null,prev:null,next:null},permissions:{changeEmail:!0,changeName:!0,changeLanguage:!0,changeRole:!0},issue:null,avatar:null,options:null}},computed:{language:function(){return this.$store.state.languages.current},next:function(){return this.user.next?{link:this.$api.users.link(this.user.next.id),tooltip:this.user.next.name}:null},prev:function(){return this.user.prev?{link:this.$api.users.link(this.user.prev.id),tooltip:this.user.prev.name}:null},uploadApi:function(){return C.api+"/users/"+this.user.id+"/avatar"}},watch:{"$route.name":{handler:function(t){"Account"===t&&this.$store.dispatch("breadcrumb",[])},immediate:!0},language:function(){this.fetch()},id:function(){this.fetch()}},methods:{action:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:n.t0=t,n.next="email"===n.t0?3:"language"===n.t0?5:"password"===n.t0?7:"picture.delete"===n.t0?9:"remove"===n.t0?14:"rename"===n.t0?16:"role"===n.t0?18:20;break;case 3:return e.$refs.email.open(e.user.id),n.abrupt("break",21);case 5:return e.$refs.language.open(e.user.id),n.abrupt("break",21);case 7:return e.$refs.password.open(e.user.id),n.abrupt("break",21);case 9:return n.next=11,e.$api.users.deleteAvatar(e.id);case 11:return e.avatar=null,e.$store.dispatch("notification/success",":)"),n.abrupt("break",21);case 14:return e.$refs.remove.open(e.user.id),n.abrupt("break",21);case 16:return e.$refs.rename.open(e.user.id),n.abrupt("break",21);case 18:return e.$refs.role.open(e.user.id),n.abrupt("break",21);case 20:e.$store.dispatch("notification/error","Not yet implemented");case 21:case"end":return n.stop()}}),n)})))()},fetch:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.id){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,t.$api.users.get(t.id,{view:"panel"});case 5:t.user=e.sent,t.tabs=t.user.blueprint.tabs,t.ready=!0,t.permissions=t.user.options,t.options=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(n){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.users.options(t.user.id);case 2:i=e.sent,n(i);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.user.avatar?t.avatar=t.user.avatar.url:t.avatar=null,"User"===t.$route.name&&t.$store.dispatch("breadcrumb",t.$api.users.breadcrumb(t.user)),t.$store.dispatch("title",t.user.name||t.user.email),t.$store.dispatch("content/create",{id:"users/"+t.user.id,api:t.$api.users.link(t.user.id),content:t.user.content}),e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](2),window.console.error(e.t0),t.issue=e.t0;case 20:case"end":return e.stop()}}),e,null,[[2,16]])})))()},uploadedAvatar:function(){this.$store.dispatch("notification/success",":)"),this.fetch()}}},i$=n$,r$=(n("bd96"),Object(f["a"])(i$,t$,e$,!1,null,null,null)),s$=r$.exports,a$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container",staticClass:"k-block-container",class:"k-block-container-type-"+t.type,attrs:{"data-batched":t.isBatched,"data-disabled":t.fieldset.disabled,"data-hidden":t.isHidden,"data-last-in-batch":t.isLastInBatch,"data-selected":t.isSelected,"data-translate":t.fieldset.translate,tabindex:"0"},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:e.ctrlKey&&e.shiftKey?(e.preventDefault(),t.$emit("sortDown")):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:e.ctrlKey&&e.shiftKey?(e.preventDefault(),t.$emit("sortUp")):null}],focus:function(e){return t.$emit("focus")},focusin:function(e){return t.$emit("focus")}}},[n("div",{staticClass:"k-block",class:t.className},[n(t.customComponent,t._g(t._b({ref:"editor",tag:"component"},"component",t.$props,!1),t.listeners))],1),n("k-block-options",t._g({ref:"options",attrs:{"is-batched":t.isBatched,"is-full":t.isFull,"is-hidden":t.isHidden}},t.listeners)),t.isBatched?t._e():n("k-form-drawer",{ref:"drawer",staticClass:"k-block-drawer",attrs:{icon:t.fieldset.icon||"block",tabs:t.tabs,title:t.fieldset.name,value:t.content},on:{close:function(e){return t.focus()},input:function(e){return t.$emit("update",e)}},scopedSlots:t._u([{key:"options",fn:function(){return[t.isHidden?n("k-button",{staticClass:"k-drawer-option",attrs:{icon:"hidden"},on:{click:function(e){return t.$emit("show")}}}):t._e()]},proxy:!0}],null,!1,244433476)}),n("k-remove-dialog",{ref:"removeDialog",attrs:{text:t.$t("field.blocks.delete.confirm")},on:{submit:t.remove}})],1)},o$=[],u$={inheritAttrs:!1,props:{attrs:[Array,Object],content:[Array,Object],endpoints:Object,fieldset:Object,id:String,isBatched:Boolean,isFull:Boolean,isHidden:Boolean,isLastInBatch:Boolean,isSelected:Boolean,name:String,type:String},computed:{className:function(){var t=["k-block-type-"+this.type];return this.fieldset.preview&&this.fieldset.preview!==this.type&&t.push("k-block-type-"+this.fieldset.preview),!1===this.wysiwyg&&t.push("k-block-type-default"),t},customComponent:function(){return this.wysiwyg?this.wysiwygComponent:"k-block-type-default"},listeners:function(){return Object(x["a"])(Object(x["a"])({},this.$listeners),{},{confirmToRemove:this.confirmToRemove,open:this.open})},tabs:function(){var t=this,e=this.fieldset.tabs;return Object.entries(e).forEach((function(n){var i=Object(rs["a"])(n,2),r=i[0],s=i[1];Object.entries(s.fields).forEach((function(n){var i=Object(rs["a"])(n,2),s=i[0];i[1];e[r].fields[s].section=t.name,e[r].fields[s].endpoints={field:t.endpoints.field+"/fieldsets/"+t.type+"/fields/"+s,section:t.endpoints.section,model:t.endpoints.model}}))})),e},wysiwyg:function(){return!1!==this.wysiwygComponent},wysiwygComponent:function(){if(!1===this.fieldset.preview)return!1;var t="k-block-type-"+this.type;return(this.$helper.isComponent(t)||!(!this.fieldset.preview||(t="k-block-type-"+this.fieldset.preview,!this.$helper.isComponent(t))))&&t}},methods:{confirmToRemove:function(){this.$refs.removeDialog.open()},focus:function(){"function"===typeof this.$refs.editor.focus?this.$refs.editor.focus():this.$refs.container.focus()},open:function(){this.$refs.drawer.open()},remove:function(){this.$refs.removeDialog.close(),this.$emit("remove",this.id)}}},c$=u$,l$=(n("bbdf"),Object(f["a"])(c$,a$,o$,!1,null,null,null)),p$=l$.exports,d$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-blocks",attrs:{"data-empty":0===t.blocks.length,"data-alt":t.altKey}},[n("k-draggable",t._b({staticClass:"k-blocks-list",on:{sort:t.save},scopedSlots:t._u([{key:"footer",fn:function(){return[n("k-empty",{staticClass:"k-blocks-empty",attrs:{icon:"box"},on:{click:function(e){return t.choose(t.blocks.length)}}},[t._v("\n        "+t._s(t.empty||t.$t("field.blocks.empty"))+"\n      ")])]},proxy:!0}])},"k-draggable",t.draggableOptions,!1),t._l(t.blocks,(function(e,i){return t.fieldsets[e.type]?n("k-block",t._b({key:e.id,ref:"block-"+e.id,refInFor:!0,attrs:{endpoints:t.endpoints,fieldset:t.fieldsets[e.type],"is-batched":t.isBatched(e),"is-last-in-batch":t.isLastInBatch(e),"is-full":t.isFull,"is-hidden":!0===e.isHidden,"is-selected":t.isSelected(e)},on:{append:function(e){return t.add(e,i+1)},blur:function(e){return t.select(null)},choose:function(e){return t.choose(e)},chooseToAppend:function(e){return t.choose(i+1)},chooseToConvert:function(n){return t.chooseToConvert(e)},chooseToPrepend:function(e){return t.choose(i)},confirmToRemoveSelected:t.confirmToRemoveSelected,duplicate:function(n){return t.duplicate(e,i)},focus:function(n){return t.select(e)},hide:function(n){return t.hide(e)},prepend:function(e){return t.add(e,i)},remove:function(n){return t.remove(e)},sortDown:function(n){return t.sort(e,i,i+1)},sortUp:function(n){return t.sort(e,i,i-1)},show:function(n){return t.show(e)},update:function(n){return t.update(e,n)}}},"k-block",e,!1)):t._e()})),1),n("k-block-selector",{ref:"selector",attrs:{fieldsets:t.fieldsets,"fieldset-groups":t.fieldsetGroups},on:{add:t.add,convert:t.convert}}),n("k-remove-dialog",{ref:"removeAll",attrs:{text:t.$t("field.blocks.delete.confirm.all")},on:{submit:t.removeAll}}),n("k-remove-dialog",{ref:"removeSelected",attrs:{text:t.$t("field.blocks.delete.confirm.selected")},on:{submit:t.removeSelected}})],1)},f$=[],h$={inheritAttrs:!1,props:{empty:String,endpoints:Object,fieldsets:Object,fieldsetGroups:Object,group:String,max:{type:Number,default:null},value:{type:Array,default:function(){return[]}}},data:function(){return{batch:[],blocks:this.value,altKey:!1}},computed:{draggableOptions:function(){return{id:this._uid,handle:".k-block-handle",list:this.blocks,move:this.move,delay:10,data:{fieldsets:this.fieldsets,isFull:this.isFull},options:{group:this.group}}},isEmpty:function(){return 0===this.blocks.length},isFull:function(){return null!==this.max&&this.blocks.length>=this.max},selected:function(){return this.$store.state.blocks.current}},watch:{value:function(){this.blocks=this.value}},created:function(){var t=this;this.save=X(this.save,50),this.outsideFocus=function(e){var n=document.querySelector(".k-overlay:last-of-type");!1!==t.$el.contains(e.target)||n&&!1!==n.contains(e.target)||t.select(null)},document.addEventListener("focus",this.outsideFocus,!0),this.onAlt=function(e){e.altKey?t.altKey=!0:t.altKey=!1},document.addEventListener("keydown",this.onAlt,!0),document.addEventListener("keyup",this.onAlt,!0)},destroyed:function(){document.removeEventListener("focus",this.outsideFocus),document.removeEventListener("keydown",this.onAlt),document.removeEventListener("keyup",this.onAlt)},methods:{add:function(){var t=arguments,e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var i,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.length>0&&void 0!==t[0]?t[0]:"text",r=t.length>1?t[1]:void 0,n.next=4,e.$api.get(e.endpoints.field+"/fieldsets/"+i);case 4:s=n.sent,e.blocks.splice(r,0,s),e.save(),e.$nextTick((function(){e.focusOrOpen(s)}));case 8:case"end":return n.stop()}}),n)})))()},addToBatch:function(t){null!==this.selected&&!1===this.batch.includes(this.selected)&&(this.batch.push(this.selected),this.$store.dispatch("blocks/current",null)),!1===this.batch.includes(t.id)&&this.batch.push(t.id)},choose:function(t){if(1===Object.keys(this.fieldsets).length){var e=Object.values(this.fieldsets)[0].type;this.add(e,t)}else this.$refs.selector.open(t)},chooseToConvert:function(t){this.$refs.selector.open(t,{disabled:[t.type],headline:this.$t("field.blocks.changeType"),event:"convert"})},click:function(t){this.$emit("click",t)},confirmToRemoveAll:function(){this.$refs.removeAll.open()},confirmToRemoveSelected:function(){this.$refs.removeSelected.open()},convert:function(t,e){var n=this;return Object(v["a"])(regeneratorRuntime.mark((function i(){var r,s,a,o,u,c,l,p,d;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(r=n.blocks.findIndex((function(t){return t.id===e.id})),-1!==r){i.next=3;break}return i.abrupt("return",!1);case 3:return s=function(t){var e={};return Object.values(t.tabs).forEach((function(t){e=Object(x["a"])(Object(x["a"])({},e),t.fields)})),e},a=n.blocks[r],i.next=7,n.$api.get(n.endpoints.field+"/fieldsets/"+t);case 7:if(o=i.sent,u=n.fieldsets[a.type],c=n.fieldsets[t],c){i.next=12;break}return i.abrupt("return",!1);case 12:l=o.content,p=s(u),d=s(c),Object.entries(d).forEach((function(t){var e=Object(rs["a"])(t,2),n=e[0],i=e[1],r=p[n];r&&r.type===i.type&&a.content[n]&&(l[n]=a.content[n])})),n.blocks[r]=Object(x["a"])(Object(x["a"])({},o),{},{id:a.id,content:l}),n.save();case 18:case"end":return i.stop()}}),i)})))()},duplicate:function(t,e){var n=this;return Object(v["a"])(regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:r=Object(x["a"])(Object(x["a"])({},n.$helper.clone(t)),{},{id:n.$helper.uuid()}),n.blocks.splice(e+1,0,r),n.save();case 3:case"end":return i.stop()}}),i)})))()},fieldset:function(t){return this.fieldsets[t.type]},focus:function(t){this.$refs["block-"+t.id]&&this.$refs["block-"+t.id][0].focus()},focusOrOpen:function(t){this.fieldsets[t.type].wysiwyg?this.focus(t):this.open(t)},hide:function(t){this.$set(t,"isHidden",!0),this.save()},isBatched:function(t){return this.batch.includes(t.id)},isLastInBatch:function(t){var e=this.batch.slice(-1),n=Object(rs["a"])(e,1),i=n[0];return i&&t.id===i},isSelected:function(t){return this.selected&&this.selected===t.id},move:function(t){if(t.from!==t.to){var e=t.draggedContext.element,n=t.relatedContext.component.componentData||t.relatedContext.component.$parent.componentData;if(!1===Object.keys(n.fieldsets).includes(e.type))return!1;if(!0===n.isFull)return!1}return!0},open:function(t){this.$refs["block-"+t.id]&&this.$refs["block-"+t.id][0].open()},remove:function(t){var e=this.blocks.findIndex((function(e){return e.id===t.id}));-1!==e&&(this.selected&&this.selected.id===t.id&&this.select(null),this.$delete(this.blocks,e),this.save())},removeAll:function(){this.blocks=[],this.save(),this.$refs.removeAll.close()},removeSelected:function(){var t=this;this.batch.forEach((function(e){var n=t.blocks.findIndex((function(t){return t.id===e}));-1!==n&&t.$delete(t.blocks,n)})),this.batch=[],this.$store.dispatch("blocks/current",null),this.save(),this.$refs.removeSelected.close()},save:function(){this.$emit("input",this.blocks)},select:function(t){t&&this.altKey?this.addToBatch(t):(this.batch=[],this.$store.dispatch("blocks/current",t?t.id:null))},show:function(t){this.$set(t,"isHidden",!1),this.save()},sort:function(t,e,n){var i=this;if(!(n<0)){var r=this.$helper.clone(this.blocks);r.splice(e,1),r.splice(n,0,t),this.blocks=r,this.save(),this.$nextTick((function(){i.focus(t)}))}},update:function(t,e){var n=this.blocks.findIndex((function(e){return e.id===t.id}));-1!==n&&this.$set(this.blocks[n],"content",e),this.save()}}},m$=h$,g$=(n("f470"),Object(f["a"])(m$,d$,f$,!1,null,null,null)),b$=g$.exports,v$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("figure",{staticClass:"k-block-figure"},[t.isEmpty?n("k-button",{staticClass:"k-block-figure-empty",attrs:{icon:t.emptyIcon},on:{click:function(e){return t.$emit("open")}}},[t._v("\n    "+t._s(t.emptyText)+"\n  ")]):n("span",{staticClass:"k-block-figure-container",on:{dblclick:function(e){return t.$emit("open")}}},[t._t("default")],2),t.caption?n("figcaption",[n("k-writer",{attrs:{inline:!0,marks:t.captionMarks,value:t.caption},on:{input:function(e){return t.$emit("update",{caption:e})}}})],1):t._e()],1)},k$=[],$$={inheritAttrs:!1,props:{caption:String,captionMarks:[Boolean,Array],cover:{type:Boolean,default:!0},isEmpty:Boolean,emptyIcon:String,emptyText:String,ratio:String},computed:{ratioPadding:function(){return this.$helper.ratio(this.ratio||"16/9")}}},y$=$$,w$=(n("0069"),Object(f["a"])(y$,v$,k$,!1,null,null,null)),_$=w$.exports,x$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"k-block-header"},[n("k-block-title",{staticClass:"k-block-header-title",attrs:{content:t.content,fieldset:t.fieldset}}),t.hasTabs?n("nav",{staticClass:"k-block-header-tabs"},t._l(t.tabs,(function(e){return n("k-button",{key:e.name,staticClass:"k-block-header-tab",attrs:{current:t.currentTab==e.name},on:{click:function(n){return n.stopPropagation(),t.$emit("tab",e.name)}}},[t._v("\n      "+t._s(e.label)+"\n    ")])})),1):t._e(),n("nav",{staticClass:"k-block-header-options"},[t.isHidden?n("k-button",{staticClass:"k-block-header-status",attrs:{icon:"hidden"},on:{click:function(e){return e.stopPropagation(),t.$emit("show")}}}):t._e(),n("k-button",{staticClass:"k-block-header-close",attrs:{icon:"cancel"},on:{click:function(e){return t.$emit("close")}}})],1)],1)},O$=[],j$={props:{content:Object,fieldset:Object,isHidden:Boolean,tab:String,tabs:Array},computed:{currentTab:function(){return this.tab||this.tabs[0].name},hasTabs:function(){return this.tabs.length>1}}},C$=j$,S$=(n("f2fc"),Object(f["a"])(C$,x$,O$,!1,null,null,null)),E$=S$.exports,R$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dropdown",{staticClass:"k-block-options"},[t.isBatched?[n("k-button",{staticClass:"k-block-options-button",attrs:{tooltip:t.$t("remove"),icon:"trash"},nativeOn:{mousedown:function(e){return e.preventDefault(),t.$emit("confirmToRemoveSelected")}}})]:[n("k-button",{staticClass:"k-block-options-button",attrs:{tooltip:t.$t("edit"),icon:"edit"},on:{click:function(e){return t.$emit("open")}}}),n("k-button",{staticClass:"k-block-options-button",attrs:{tooltip:t.$t("insert.after"),icon:"add"},on:{click:function(e){return t.$emit("chooseToAppend")}}}),n("k-button",{staticClass:"k-block-options-button",attrs:{tooltip:t.$t("more"),icon:"dots"},on:{click:function(e){return t.$refs.options.toggle()}}}),n("k-button",{staticClass:"k-block-options-button k-block-handle",attrs:{tooltip:t.$t("sort"),icon:"sort"},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.$emit("sortUp"))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),t.$emit("sortDown"))}]}}),n("k-dropdown-content",{ref:"options",attrs:{align:"right"}},[n("k-dropdown-item",{attrs:{disabled:t.isFull,icon:"angle-up"},on:{click:function(e){return t.$emit("chooseToPrepend")}}},[t._v("\n        "+t._s(t.$t("insert.before"))+"\n      ")]),n("k-dropdown-item",{attrs:{disabled:t.isFull,icon:"angle-down"},on:{click:function(e){return t.$emit("chooseToAppend")}}},[t._v("\n        "+t._s(t.$t("insert.after"))+"\n      ")]),n("hr"),n("k-dropdown-item",{attrs:{icon:"edit"},on:{click:function(e){return t.$emit("open")}}},[t._v("\n        "+t._s(t.$t("edit"))+"\n      ")]),n("k-dropdown-item",{attrs:{icon:"refresh"},on:{click:function(e){return t.$emit("chooseToConvert")}}},[t._v("\n        "+t._s(t.$t("field.blocks.changeType"))+"\n      ")]),n("hr"),n("k-dropdown-item",{attrs:{icon:t.isHidden?"preview":"hidden"},on:{click:function(e){return t.$emit(t.isHidden?"show":"hide")}}},[t._v("\n        "+t._s(!0===t.isHidden?t.$t("show"):t.$t("hide"))+"\n      ")]),n("k-dropdown-item",{attrs:{disabled:t.isFull,icon:"copy"},on:{click:function(e){return t.$emit("duplicate")}}},[t._v("\n        "+t._s(t.$t("duplicate"))+"\n      ")]),n("hr"),n("k-dropdown-item",{attrs:{icon:"trash"},on:{click:function(e){return t.$emit("confirmToRemove")}}},[t._v("\n        "+t._s(t.$t("delete"))+"\n      ")])],1)]],2)},T$=[],L$={props:{isBatched:Boolean,isFull:Boolean,isHidden:Boolean},methods:{open:function(){this.$refs.options.open()}}},I$=L$,A$=(n("9c44"),Object(f["a"])(I$,R$,T$,!1,null,null,null)),B$=A$.exports,D$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-dialog",{ref:"dialog",staticClass:"k-block-selector",attrs:{"cancel-button":!1,"submit-button":!1,size:"medium"}},[t.headline?n("k-headline",[t._v(t._s(t.headline))]):t._e(),t._l(t.groups,(function(e,i){return n("details",{key:i,attrs:{open:e.open}},[n("summary",[t._v(t._s(e.label))]),n("div",{staticClass:"k-block-types"},t._l(e.fieldsets,(function(e){return n("k-button",{key:e.name,ref:"fieldset-"+e.index,refInFor:!0,attrs:{disabled:t.disabled.includes(e.type),icon:e.icon||"box"},on:{keydown:[function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"up",38,n.key,["Up","ArrowUp"])?null:t.navigate(e.index-1)},function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"down",40,n.key,["Down","ArrowDown"])?null:t.navigate(e.index+1)}],click:function(n){return t.add(e.type)}}},[t._v("\n        "+t._s(e.name)+"\n      ")])})),1)])}))],2)},M$=[],N$={inheritAttrs:!1,props:{endpoint:String,fieldsets:Object,fieldsetGroups:Object},data:function(){return{disabled:[],headline:null,payload:null,event:"add",groups:this.createGroups()}},methods:{add:function(t){this.$emit(this.event,t,this.payload),this.$refs.dialog.close()},createGroups:function(){var t=this,e={},n=0,i=this.fieldsetGroups||{blocks:{label:this.$t("field.blocks.fieldsets.label"),sets:Object.keys(this.fieldsets)}};return Object.keys(i).forEach((function(r){var s=i[r];s.open=!1!==s.open,s.fieldsets=s.sets.filter((function(e){return t.fieldsets[e]})).map((function(e){return n++,Object(x["a"])(Object(x["a"])({},t.fieldsets[e]),{},{index:n})})),0!==s.fieldsets.length&&(e[r]=s)})),e},navigate:function(t){var e=this.$refs["fieldset-"+t];e&&e[0]&&e[0].focus()},open:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(x["a"])({event:"add",disabled:[],headline:null},e);this.event=n.event,this.disabled=n.disabled,this.headline=n.headline,this.payload=t,this.$refs.dialog.open()}}},P$=N$,q$=(n("f6c2"),Object(f["a"])(P$,D$,M$,!1,null,null,null)),F$=q$.exports,U$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._g({staticClass:"k-block-title"},t.$listeners),[n("k-icon",{staticClass:"k-block-icon",attrs:{type:t.icon}}),n("span",{staticClass:"k-block-name"},[t._v("\n    "+t._s(t.name)+"\n  ")]),t.label?n("span",{staticClass:"k-block-label"},[t._v("\n    "+t._s(t.label)+"\n  ")]):t._e()],1)},z$=[],H$={inheritAttrs:!1,props:{fieldset:Object,content:Object},computed:{icon:function(){return this.fieldset.icon||"box"},label:function(){if(!this.fieldset.label||0===this.fieldset.label.length)return!1;if(this.fieldset.label===this.fieldset.name)return!1;var t=this.$helper.string.template(this.fieldset.label,this.content);return"…"!==t&&t},name:function(){return this.fieldset.name}}},K$=H$,Y$=(n("c21a"),Object(f["a"])(K$,U$,z$,!1,null,null,null)),G$=Y$.exports,W$={inheritAttrs:!1,props:{content:Object,fieldset:Object},methods:{field:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null;return Object.values(this.fieldset.tabs).forEach((function(e){e.fields[t]&&(n=e.fields[t])})),n||e},open:function(){this.$emit("open")},update:function(t){this.$emit("update",Object(x["a"])(Object(x["a"])({},this.content),t))}}},J$=W$,V$=Object(f["a"])(J$,Kd,Yd,!1,null,null,null),Z$=V$.exports;B["a"].component("k-block",p$),B["a"].component("k-blocks",b$),B["a"].component("k-block-figure",_$),B["a"].component("k-block-header",E$),B["a"].component("k-block-options",B$),B["a"].component("k-block-selector",F$),B["a"].component("k-block-title",G$),B["a"].component("k-block-type",Z$);var X$=n("9711");X$.keys().map((function(t){var e=t.match(/\w+/)[0],n=e.toLowerCase(),i=X$(t).default;i.extends=Z$,B["a"].component("k-block-type-"+n,i)})),B["a"].component("k-dialog",bt),B["a"].component("k-error-dialog",_t),B["a"].component("k-file-rename-dialog",Bt),B["a"].component("k-file-remove-dialog",Et),B["a"].component("k-file-sort-dialog",Ft),B["a"].component("k-files-dialog",Wt),B["a"].component("k-form-dialog",te),B["a"].component("k-language-create-dialog",ae),B["a"].component("k-language-remove-dialog",de),B["a"].component("k-language-update-dialog",ke),B["a"].component("k-page-create-dialog",Oe),B["a"].component("k-page-duplicate-dialog",Te),B["a"].component("k-page-remove-dialog",Me),B["a"].component("k-page-sort-dialog",Qe),B["a"].component("k-page-rename-dialog",ze),B["a"].component("k-page-status-dialog",Je),B["a"].component("k-page-template-dialog",an),B["a"].component("k-pages-dialog",dn),B["a"].component("k-remove-dialog",vn),B["a"].component("k-site-rename-dialog",xn),B["a"].component("k-text-dialog",Rn),B["a"].component("k-user-create-dialog",Dn),B["a"].component("k-user-email-dialog",Un),B["a"].component("k-user-language-dialog",Wn),B["a"].component("k-user-password-dialog",ti),B["a"].component("k-user-remove-dialog",ai),B["a"].component("k-user-rename-dialog",di),B["a"].component("k-user-role-dialog",vi),B["a"].component("k-users-dialog",xi),B["a"].component("k-drawer",Ri),B["a"].component("k-form-drawer",Di),B["a"].component("k-calendar",Wi),B["a"].component("k-counter",tr),B["a"].component("k-autocomplete",Ui),B["a"].component("k-form",ar),B["a"].component("k-form-buttons",dr),B["a"].component("k-form-indicator",vr),B["a"].component("k-field",xr),B["a"].component("k-fieldset",Rr),B["a"].component("k-input",Dr),B["a"].component("k-login",Ur),B["a"].component("k-login-code",Wr),B["a"].component("k-upload",ts),B["a"].component("k-writer",Aa),B["a"].component("k-checkbox-input",Fa),B["a"].component("k-checkboxes-input",Ga),B["a"].component("k-date-input",Qa),B["a"].component("k-datetime-input",so),B["a"].component("k-email-input",bo),B["a"].component("k-list-input",xo),B["a"].component("k-multiselect-input",Ro),B["a"].component("k-number-input",Do),B["a"].component("k-password-input",qo),B["a"].component("k-radio-input",Yo),B["a"].component("k-range-input",Xo),B["a"].component("k-select-input",ru),B["a"].component("k-tags-input",lu),B["a"].component("k-tel-input",hu),B["a"].component("k-text-input",fo),B["a"].component("k-textarea-input",$u),B["a"].component("k-time-input",xu),B["a"].component("k-toggle-input",Ru),B["a"].component("k-url-input",Au),B["a"].component("k-blocks-field",qu),B["a"].component("k-checkboxes-field",Yu),B["a"].component("k-date-field",Xu),B["a"].component("k-email-field",rc),B["a"].component("k-files-field",pc),B["a"].component("k-gap-field",gc),B["a"].component("k-headline-field",wc),B["a"].component("k-info-field",Sc),B["a"].component("k-layout-field",Xc),B["a"].component("k-line-field",il),B["a"].component("k-list-field",cl),B["a"].component("k-multiselect-field",ml),B["a"].component("k-number-field",yl),B["a"].component("k-pages-field",Cl),B["a"].component("k-password-field",Il),B["a"].component("k-radio-field",Pl),B["a"].component("k-range-field",Kl),B["a"].component("k-select-field",Zl),B["a"].component("k-structure-field",ip),B["a"].component("k-tags-field",cp),B["a"].component("k-text-field",yp),B["a"].component("k-textarea-field",Cp),B["a"].component("k-tel-field",mp),B["a"].component("k-time-field",Ip),B["a"].component("k-toggle-field",Pp),B["a"].component("k-url-field",Kp),B["a"].component("k-users-field",Zp),B["a"].component("k-writer-field",id),B["a"].component("k-toolbar",ld),B["a"].component("k-toolbar-email-dialog",gd),B["a"].component("k-toolbar-link-dialog",wd),B["a"].component("k-date-field-preview",Sd),B["a"].component("k-email-field-preview",Nd),B["a"].component("k-files-field-preview",Vd),B["a"].component("k-pages-field-preview",nf),B["a"].component("k-toggle-field-preview",mf),B["a"].component("k-time-field-preview",cf),B["a"].component("k-url-field-preview",Ad),B["a"].component("k-users-field-preview",yf),B["a"].component("k-aspect-ratio",Cf),B["a"].component("k-bar",Lf),B["a"].component("k-box",Nf),B["a"].component("k-card",Hf),B["a"].component("k-cards",Vf),B["a"].component("k-collection",nh),B["a"].component("k-column",uh),B["a"].component("k-dropzone",hh),B["a"].component("k-empty",$h),B["a"].component("k-file-preview",jh),B["a"].component("k-grid",Lh),B["a"].component("k-header",Nh),B["a"].component("k-list",Hh),B["a"].component("k-list-item",Vh),B["a"].component("k-overlay",nm),B["a"].component("k-tabs",um),B["a"].component("k-view",hm),B["a"].component("k-draggable",wm),B["a"].component("k-error-boundary",jm),B["a"].component("k-headline",Lm),B["a"].component("k-icon",Nm),B["a"].component("k-image",Hm),B["a"].component("k-loader",Jm),B["a"].component("k-progress",eg),B["a"].component("k-status-icon",fg),B["a"].component("k-sort-handle",og),B["a"].component("k-text",kg),B["a"].component("k-user-info",Og),B["a"].component("k-button",Tg),B["a"].component("k-button-disabled",Mg),B["a"].component("k-button-group",Ug),B["a"].component("k-button-link",Wg),B["a"].component("k-button-native",eb),B["a"].component("k-dropdown",ab),B["a"].component("k-dropdown-content",fb),B["a"].component("k-dropdown-item",kb),B["a"].component("k-languages-dropdown",Tb),B["a"].component("k-link",Ob),B["a"].component("k-pagination",Mb),B["a"].component("k-prev-next",zb),B["a"].component("k-search",Jb),B["a"].component("k-tag",ev),B["a"].component("k-topbar",uv),B["a"].component("k-sections",hv),B["a"].component("k-info-section",yv),B["a"].component("k-pages-section",Sv),B["a"].component("k-files-section",Av),B["a"].component("k-fields-section",qv),B["a"].component("k-browser-view",Gv),B["a"].component("k-custom-view",Qv),B["a"].component("k-error-view",rk),B["a"].component("k-file-view",pk),B["a"].component("k-installation-view",bk),B["a"].component("k-login-view",_k),B["a"].component("k-page-view",Ek),B["a"].component("k-reset-password-view",Bk),B["a"].component("k-settings-view",Fk),B["a"].component("k-site-view",Gk),B["a"].component("k-users-view",Qk),B["a"].component("k-user-view",s$);var Q$=n("2f62"),ty={namespaced:!0,state:{current:null},mutations:{CURRENT:function(t,e){t.current=e}},actions:{current:function(t,e){t.commit("CURRENT",e)}}},ey=function(t,e){localStorage.setItem("kirby$content$"+t,JSON.stringify(e))},ny={namespaced:!0,state:{current:null,models:{},status:{enabled:!0,lock:null,unlock:null}},getters:{exists:function(t){return function(e){return Object.prototype.hasOwnProperty.call(t.models,e)}},hasChanges:function(t,e){return function(t){var n=e.model(t).changes;return Object.keys(n).length>0}},isCurrent:function(t){return function(e){return t.current===e}},id:function(t,e,n){return function(e){return e=e||t.current,n.languages.current?e+"/"+n.languages.current.code:e}},model:function(t,e){return function(n){return n=n||t.current,!0===e.exists(n)?t.models[n]:{api:null,originals:{},values:{},changes:{}}}},originals:function(t,e){return function(t){return Z(e.model(t).originals)}},values:function(t,e){return function(t){return Object(x["a"])(Object(x["a"])({},e.originals(t)),e.changes(t))}},changes:function(t,e){return function(t){return Z(e.model(t).changes)}}},mutations:{CREATE:function(t,e){var n=Object(rs["a"])(e,2),i=n[0],r=n[1];if(!r)return!1;var s=t.models[i]?t.models[i].changes:r.changes;B["a"].set(t.models,i,{api:r.api,originals:r.originals,changes:s||{}})},CURRENT:function(t,e){t.current=e},LOCK:function(t,e){B["a"].set(t.status,"lock",e)},MOVE:function(t,e){var n=Object(rs["a"])(e,2),i=n[0],r=n[1],s=Z(t.models[i]);B["a"].delete(t.models,i),B["a"].set(t.models,r,s);var a=localStorage.getItem("kirby$content$"+i);localStorage.removeItem("kirby$content$"+i),localStorage.setItem("kirby$content$"+r,a)},REMOVE:function(t,e){B["a"].delete(t.models,e),localStorage.removeItem("kirby$content$"+e)},REVERT:function(t,e){t.models[e]&&(B["a"].set(t.models[e],"changes",{}),localStorage.removeItem("kirby$content$"+e))},STATUS:function(t,e){B["a"].set(t.status,"enabled",e)},UNLOCK:function(t,e){e&&B["a"].set(t.models[t.current],"changes",{}),B["a"].set(t.status,"unlock",e)},UPDATE:function(t,e){var n=Object(rs["a"])(e,3),i=n[0],r=n[1],s=n[2];if(!t.models[i])return!1;s=Z(s);var a=JSON.stringify(s),o=JSON.stringify(t.models[i].originals[r]);o==a?B["a"].delete(t.models[i].changes,r):B["a"].set(t.models[i].changes,r,s),ey(i,{api:t.models[i].api,originals:t.models[i].originals,changes:t.models[i].changes})}},actions:{init:function(t){Object.keys(localStorage).filter((function(t){return t.startsWith("kirby$content$")})).map((function(t){return t.split("kirby$content$")[1]})).forEach((function(e){var n=localStorage.getItem("kirby$content$"+e);t.commit("CREATE",[e,JSON.parse(n)])})),Object.keys(localStorage).filter((function(t){return t.startsWith("kirby$form$")})).map((function(t){return t.split("kirby$form$")[1]})).forEach((function(e){var n=localStorage.getItem("kirby$form$"+e),i=null;try{i=JSON.parse(n)}catch(s){}if(!i||!i.api)return localStorage.removeItem("kirby$form$"+e),!1;var r={api:i.api,originals:i.originals,changes:i.values};t.commit("CREATE",[e,r]),ey(e,r),localStorage.removeItem("kirby$form$"+e)}))},create:function(t,e){e.id=t.getters.id(e.id),(e.id.startsWith("pages/")||e.id.startsWith("site"))&&delete e.content.title;var n={api:e.api,originals:Z(e.content),changes:{}};B["a"].$api.get(e.api+"/unlock").then((function(n){!0===n.supported&&!0===n.unlocked&&t.commit("UNLOCK",t.state.models[e.id].changes)})).catch((function(){})),t.commit("CREATE",[e.id,n]),t.dispatch("current",e.id)},current:function(t,e){t.commit("CURRENT",e)},disable:function(t){t.commit("STATUS",!1)},enable:function(t){t.commit("STATUS",!0)},lock:function(t,e){t.commit("LOCK",e)},move:function(t,e){var n=Object(rs["a"])(e,2),i=n[0],r=n[1];i=t.getters.id(i),r=t.getters.id(r),t.commit("MOVE",[i,r])},remove:function(t,e){t.commit("REMOVE",e),t.getters.isCurrent(e)&&t.commit("CURRENT",null)},revert:function(t,e){e=e||t.state.current,t.commit("REVERT",e)},save:function(t,e){if(e=e||t.state.current,t.getters.isCurrent(e)&&!1===t.state.status.enabled)return!1;t.dispatch("disable");var n=t.getters.model(e),i=Object(x["a"])(Object(x["a"])({},n.originals),n.changes);return B["a"].$api.patch(n.api,i).then((function(){t.commit("CREATE",[e,Object(x["a"])(Object(x["a"])({},n),{},{originals:i})]),t.dispatch("revert",e),t.dispatch("enable")})).catch((function(e){throw t.dispatch("enable"),e}))},unlock:function(t,e){t.commit("UNLOCK",e)},update:function(t,e){var n=Object(rs["a"])(e,3),i=n[0],r=n[1],s=n[2];s=s||t.state.current,t.commit("UPDATE",[s,i,r])}}},iy={namespaced:!0,state:{instance:null,clock:0,step:5,beats:[]},mutations:{ADD:function(t,e){t.beats.push(e)},CLEAR:function(t){clearInterval(t.instance),t.clock=0},CLOCK:function(t){t.clock+=t.step},INITIALIZE:function(t,e){t.instance=e},REMOVE:function(t,e){var n=t.beats.map((function(t){return t.handler})).indexOf(e);-1!==n&&B["a"].delete(t.beats,n)}},actions:{add:function(t,e){e={handler:e[0]||e,interval:e[1]||t.state.step},e.handler(),t.commit("ADD",e),1===t.state.beats.length&&t.dispatch("run")},clear:function(t){t.commit("CLEAR")},remove:function(t,e){t.commit("REMOVE",e),t.state.beats.length<1&&t.commit("CLEAR")},run:function(t){t.commit("CLEAR"),t.commit("INITIALIZE",setInterval((function(){t.commit("CLOCK"),t.state.beats.forEach((function(e){t.state.clock%e.interval===0&&e.handler()}))}),1e3*t.state.step))}}},ry={namespaced:!0,state:{all:[],current:null,default:null},mutations:{SET_ALL:function(t,e){t.all=e.map((function(t){return{code:t.code,default:t.default,direction:t.direction,locale:t.locale,name:t.name,rules:t.rules,url:t.url}}))},SET_CURRENT:function(t,e){t.current=e,e&&e.code&&localStorage.setItem("kirby$language",e.code)},SET_DEFAULT:function(t,e){t.default=e}},actions:{current:function(t,e){t.commit("SET_CURRENT",e)},install:function(t,e){var n=e.filter((function(t){return t.default}))[0];t.commit("SET_ALL",e),t.commit("SET_DEFAULT",n);var i=localStorage.getItem("kirby$language");if(i){var r=e.filter((function(t){return t.code===i}))[0];if(r)return void t.dispatch("current",r)}t.dispatch("current",n||e[0]||null)},load:function(t){return Object(v["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B["a"].$api.languages.list();case 2:n=e.sent,t.dispatch("install",n.data);case 4:case"end":return e.stop()}}),e)})))()}}},sy={timer:null,namespaced:!0,state:{type:null,message:null,details:null,timeout:null},mutations:{SET:function(t,e){t.type=e.type,t.message=e.message,t.details=e.details,t.timeout=e.timeout},UNSET:function(t){t.type=null,t.message=null,t.details=null,t.timeout=null}},actions:{close:function(t){clearTimeout(this.timer),t.commit("UNSET")},open:function(t,e){t.dispatch("close"),t.commit("SET",e),e.timeout&&(this.timer=setTimeout((function(){t.dispatch("close")}),e.timeout))},success:function(t,e){"string"===typeof e&&(e={message:e}),t.dispatch("open",Object(x["a"])({type:"success",timeout:4e3},e))},error:function(t,e){"string"===typeof e&&(e={message:e}),t.dispatch("open",Object(x["a"])({type:"error"},e))}}},ay={namespaced:!0,state:{info:{title:null}},mutations:{SET_INFO:function(t,e){t.info=e},SET_LICENSE:function(t,e){t.info.license=e},SET_TITLE:function(t,e){t.info.title=e}},actions:{load:function(t,e){return Object(v["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e||!t.state.info.isReady||!t.rootState.user.current){n.next=2;break}return n.abrupt("return",new Promise((function(e){e(t.state.info)})));case 2:return n.prev=2,n.next=5,B["a"].$api.system.get();case 5:return i=n.sent,t.commit("SET_INFO",Object(x["a"])({isReady:i.isInstalled&&i.isOk},i)),i.languages&&t.dispatch("languages/install",i.languages,{root:!0}),t.dispatch("translation/install",i.translation,{root:!0}),t.dispatch("translation/activate",i.translation.id,{root:!0}),i.user&&t.dispatch("user/current",i.user,{root:!0}),n.abrupt("return",t.state.info);case 14:n.prev=14,n.t0=n["catch"](2),t.commit("SET_INFO",{isBroken:!0,error:n.t0.message});case 17:case"end":return n.stop()}}),n,null,[[2,14]])})))()},register:function(t,e){t.commit("SET_LICENSE",e)},title:function(t,e){t.commit("SET_TITLE",e)}}},oy={namespaced:!0,state:{current:null,installed:[]},mutations:{SET_CURRENT:function(t,e){t.current=e},INSTALL:function(t,e){t.installed[e.id]=e}},actions:{load:function(t,e){return B["a"].$api.translations.get(e)},install:function(t,e){t.commit("INSTALL",e),B["a"].i18n.add(e.id,e.data)},activate:function(t,e){return Object(v["a"])(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=t.state.installed[e],i){n.next=8;break}return n.next=4,t.dispatch("load",e);case 4:return r=n.sent,t.dispatch("install",r),t.dispatch("activate",e),n.abrupt("return");case 8:B["a"].i18n.set(e),t.commit("SET_CURRENT",e),document.dir=i.direction,document.documentElement.lang=e;case 12:case"end":return n.stop()}}),n)})))()}}},uy={namespaced:!0,state:{current:null,path:null,pendingEmail:null,pendingChallenge:null},mutations:{SET_CURRENT:function(t,e){t.current=e,t.pendingEmail=null,t.pendingChallenge=null,e&&e.permissions?(B["a"].prototype.$user=e,B["a"].prototype.$permissions=e.permissions):(B["a"].prototype.$user=null,B["a"].prototype.$permissions=null)},SET_PATH:function(t,e){t.path=e},SET_PENDING:function(t,e){var n=e.email,i=e.challenge;t.pendingEmail=n,t.pendingChallenge=i,t.user=null,B["a"].prototype.$user=null,B["a"].prototype.$permissions=null}},actions:{current:function(t,e){t.commit("SET_CURRENT",e)},email:function(t,e){t.commit("SET_CURRENT",Object(x["a"])(Object(x["a"])({},t.state.current),{},{email:e}))},language:function(t,e){t.dispatch("translation/activate",e,{root:!0}),t.commit("SET_CURRENT",Object(x["a"])(Object(x["a"])({},t.state.current),{},{language:e}))},load:function(t){return Object(v["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B["a"].$api.auth.user();case 2:return n=e.sent,t.commit("SET_CURRENT",n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))()},login:function(t,e){return t.commit("SET_CURRENT",e),t.dispatch("translation/activate",e.language,{root:!0}),B["a"].prototype.$go(t.state.path||"/"),e},logout:function(t,e){return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.commit("SET_CURRENT",null),!e){n.next=4;break}return window.location.href=(window.panel.url||"")+"/login",n.abrupt("return");case 4:return n.prev=4,n.next=7,B["a"].$api.auth.logout();case 7:return n.prev=7,B["a"].prototype.$go("/login"),n.finish(7);case 10:case"end":return n.stop()}}),n,null,[[4,,7,10]])})))()},name:function(t,e){t.commit("SET_CURRENT",Object(x["a"])(Object(x["a"])({},t.state.current),{},{name:e}))},pending:function(t,e){t.commit("SET_PENDING",e)},visit:function(t,e){t.commit("SET_PATH",e)}}};B["a"].use(Q$["a"]);var cy=new Q$["a"].Store({strict:!1,state:{breadcrumb:[],dialog:null,drag:null,fatal:null,isLoading:!1,title:null,view:null},mutations:{SET_BREADCRUMB:function(t,e){t.breadcrumb=e},SET_DIALOG:function(t,e){t.dialog=e},SET_DRAG:function(t,e){t.drag=e},SET_FATAL:function(t,e){t.fatal=e},SET_TITLE:function(t,e){t.title=e},SET_VIEW:function(t,e){t.view=e},START_LOADING:function(t){t.isLoading=!0},STOP_LOADING:function(t){t.isLoading=!1}},actions:{breadcrumb:function(t,e){t.commit("SET_BREADCRUMB",e)},dialog:function(t,e){t.commit("SET_DIALOG",e)},drag:function(t,e){t.commit("SET_DRAG",e)},fatal:function(t,e){t.commit("SET_FATAL",e)},isLoading:function(t,e){t.commit(!0===e?"START_LOADING":"STOP_LOADING")},title:function(t,e){var n;n=t.state.user.current?B["a"].$api.site.get(["title"]):new Promise((function(e){e(t.state.system.info)})),n.then((function(n){t.commit("SET_TITLE",e),t.dispatch("system/title",n.title),document.title=e||"",document.title+=null!==e?" | "+n.title:n.title}))},view:function(t,e){t.commit("SET_VIEW",e)}},modules:{blocks:ty,content:ny,heartbeat:iy,languages:ry,notification:sy,system:ay,translation:oy,user:uy}});B["a"].config.errorHandler=function(t){C.debug&&window.console.error(t),cy.dispatch("notification/error",{message:t.message||"An error occurred. Please reload the Panel."})},window.panel=window.panel||{},window.panel.error=function(t,e){C.debug&&window.console.error(t+": "+e),cy.dispatch("error",t+". See the console for more information.")};var ly=n("f2f3");B["a"].use(ly["a"].plugin,cy);var py=n("19e9"),dy=n.n(py),fy=n("5a0c"),hy=n.n(fy),my=n("f906"),gy=n.n(my),by=n("0ecf"),vy=n.n(by);hy.a.extend(gy.a),hy.a.extend(vy.a),B["a"].prototype.$library={autosize:dy.a,dayjs:hy.a};var ky={};for(var $y in B["a"].options.components)ky[$y]=B["a"].options.components[$y];var yy={section:bv};Object.entries(window.panel.plugins.components).forEach((function(t){var e=Object(rs["a"])(t,2),n=e[0],i=e[1];i.template||i.render||i.extends?(i.extends&&"string"===typeof i.extends&&(i.extends=ky[i.extends].extend({options:i,components:Object(x["a"])(Object(x["a"])({},ky),i.components||{})}),i.template&&(i.render=null)),i.mixins&&(i.mixins=i.mixins.map((function(t){return"string"===typeof t?yy[t]:t}))),ky[n]&&window.console.warn('Plugin is replacing "'.concat(n,'"')),B["a"].component(n,i),ky[n]=B["a"].options.components[n]):cy.dispatch("notification/error",'Neither template or render method provided nor extending a component when loading plugin component "'.concat(n,'". The component has not been registered.'))})),Object.entries(window.panel.plugins.views).forEach((function(t){var e=Object(rs["a"])(t,2),n=e[0],i=e[1];if(!i.component)return cy.dispatch("notification/error",'No view component provided when loading view "'.concat(n,'". The view has not been registered.')),void delete window.panel.plugins.views[n];i.link="/plugins/"+n,void 0===i.icon&&(i.icon="page"),void 0===i.menu&&(i.menu=!0),window.panel.plugins.views[n]={id:n,text:i.text||i.label,link:i.link,icon:i.icon,menu:i.menu},B["a"].component("k-"+n+"-plugin-view",i.component)})),window.panel.plugins.use.forEach((function(t){B["a"].use(t)}));var wy=n("82f1"),_y=n("8c4f"),xy=function(t,e,n){cy.dispatch("system/load").then((function(){var e=cy.state.user.current;if(!e)return cy.dispatch("user/visit",t.path),cy.dispatch("user/logout"),!1;var i=e.permissions.access;return!1===i.panel?(window.location.href=C.site,!1):!1===i[t.meta.view]?(cy.dispatch("notification/error",{message:B["a"].i18n.translate("error.access.view")}),n(!1===i.site?"/account":"/")):void n()}))},Oy=[{path:"/",name:"Home",redirect:"/site"},{path:"/browser",name:"Browser",component:B["a"].component("k-browser-view"),meta:{outside:!0}},{path:"/login",component:B["a"].component("k-login-view"),meta:{outside:!0}},{path:"/logout",beforeEnter:function(){Object.keys(localStorage).forEach((function(t){t.startsWith("kirby$content$")&&localStorage.removeItem(t)})),cy.dispatch("user/logout")},meta:{outside:!0}},{path:"/installation",component:B["a"].component("k-installation-view"),meta:{outside:!0}},{path:"/site",name:"Site",meta:{view:"site"},component:B["a"].component("k-site-view"),beforeEnter:xy,props:function(t){return{tab:t.hash.slice(1)||"main"}}},{path:"/site/files/:filename",name:"SiteFile",meta:{view:"site"},component:B["a"].component("k-file-view"),beforeEnter:xy,props:function(t){return{filename:t.params.filename,path:"site",tab:t.hash.slice(1)||"main"}}},{path:"/pages/:path/files/:filename",name:"PageFile",meta:{view:"site"},component:B["a"].component("k-file-view"),beforeEnter:xy,props:function(t){return{filename:t.params.filename,path:"pages/"+t.params.path,tab:t.hash.slice(1)||"main"}}},{path:"/users/:path/files/:filename",name:"UserFile",meta:{view:"users"},component:B["a"].component("k-file-view"),beforeEnter:xy,props:function(t){return{filename:t.params.filename,path:"users/"+t.params.path,tab:t.hash.slice(1)||"main"}}},{path:"/pages/:path",name:"Page",meta:{view:"site"},component:B["a"].component("k-page-view"),beforeEnter:xy,props:function(t){return{path:t.params.path,tab:t.hash.slice(1)||"main"}}},{path:"/settings",name:"Settings",meta:{view:"settings"},component:B["a"].component("k-settings-view"),beforeEnter:xy},{path:"/users/role/:role",name:"UsersByRole",meta:{view:"users"},component:B["a"].component("k-users-view"),beforeEnter:xy,props:function(t){return{role:t.params.role}}},{path:"/users",name:"Users",meta:{view:"users"},beforeEnter:xy,component:B["a"].component("k-users-view")},{path:"/users/:id",name:"User",meta:{view:"users"},component:B["a"].component("k-user-view"),beforeEnter:xy,props:function(t){return{id:t.params.id,tab:t.hash.slice(1)||"main"}}},{path:"/account",name:"Account",meta:{view:"account"},component:B["a"].component("k-user-view"),beforeEnter:xy,props:function(){return{id:!!cy.state.user.current&&cy.state.user.current.id}}},{path:"/reset-password",name:"Reset password",meta:{view:"resetPassword"},component:B["a"].component("k-reset-password-view"),beforeEnter:xy},{path:"/plugins/:id",name:"Plugin",meta:{view:"plugin"},props:function(t){return{plugin:t.params.id,hash:t.hash.slice(1)}},beforeEnter:xy,component:B["a"].component("k-custom-view")}];Oy.push({path:"*",name:"NotFound",beforeEnter:function(t,e,n){n("/")}});var jy=Oy;B["a"].use(_y["a"]);var Cy=new _y["a"]({mode:"history",routes:jy,url:"/"===C.url?"":C.url});Cy.beforeEach((function(t,e,n){"Browser"!==t.name&&!1===zv.all()&&n("/browser"),t.meta.outside||cy.dispatch("user/visit",t.path),"plugin"===t.meta.view?cy.dispatch("view",t.params.id):cy.dispatch("view",t.meta.view),cy.dispatch("content/lock",null),cy.dispatch("content/unlock",null),cy.dispatch("heartbeat/clear"),n()}));var Sy=Cy;B["a"].config.productionTip=!1,B["a"].config.devtools=!0,B["a"].use(ct),B["a"].use(W),B["a"].use(G),B["a"].use(V.a),B["a"].use(wy["a"]),B["a"].use(Y,cy),B["a"].prototype.$go=function(t){t=t.split("#"),t={path:t[0],hash:t[1]||null},Sy.push(t).catch((function(t){if(t&&t.name&&"NavigationDuplicated"===t.name)return!0;throw t}))},new B["a"]({router:Sy,store:cy,created:function(){var t=this;window.panel.app=this,window.panel.plugins.created.forEach((function(e){e(t)})),this.$store.dispatch("content/init")},render:function(t){return t(I)}}).$mount("#app")},5772:function(t,e,n){},5796:function(t,e,n){},"580a":function(t,e,n){"use strict";var i=n("aa9a"),r=n.n(i);r.a},"58e5":function(t,e,n){},5958:function(t,e,n){},"5aee":function(t,e,n){"use strict";var i=n("41cf"),r=n.n(i);r.a},"5b23":function(t,e,n){"use strict";var i=n("3fec"),r=n.n(i);r.a},"5c0b":function(t,e,n){"use strict";var i=n("e332"),r=n.n(i);r.a},"5cae":function(t,e,n){},"5d33":function(t,e,n){"use strict";var i=n("2246"),r=n.n(i);r.a},"5d8f":function(t,e,n){},"5f34":function(t,e,n){"use strict";var i=n("2463"),r=n.n(i);r.a},"5f52":function(t,e,n){"use strict";var i=n("0faf"),r=n.n(i);r.a},6018:function(t,e,n){"use strict";var i=n("e30b"),r=n.n(i);r.a},"60ed":function(t,e,n){},"625a":function(t,e,n){"use strict";var i=n("8d42"),r=n.n(i);r.a},6284:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-input",{ref:"input",staticClass:"k-block-type-markdown-input",attrs:{buttons:!1,placeholder:t.placeholder,spellcheck:!1,value:t.content.text,type:"textarea"},on:{input:function(e){return t.update({text:e})}}})},r=[],s={computed:{placeholder:function(){return this.field("text",{}).placeholder}},methods:{focus:function(){this.$refs.input.focus()}}},a=s,o=(n("af44"),n("2877")),u=Object(o["a"])(a,i,r,!1,null,null,null);e["default"]=u.exports},"64e4":function(t,e,n){"use strict";var i=n("b681"),r=n.n(i);r.a},6624:function(t,e,n){},6855:function(t,e,n){},"685a":function(t,e,n){},"696b":function(t,e,n){"use strict";var i=n("e373"),r=n.n(i);r.a},"6a16":function(t,e,n){"use strict";var i=n("d232"),r=n.n(i);r.a},"6a18":function(t,e,n){"use strict";var i=n("fd6f"),r=n.n(i);r.a},"6ab9":function(t,e,n){},"6b21":function(t,e,n){},"6bcd":function(t,e,n){"use strict";var i=n("d81c"),r=n.n(i);r.a},"6d68":function(t,e,n){},"6da7":function(t,e,n){},"6ec7":function(t,e,n){},"6ec76":function(t,e,n){},"6f7b":function(t,e,n){},"6f7be":function(t,e,n){"use strict";var i=n("9d3c"),r=n.n(i);r.a},"716d":function(t,e,n){},"718c":function(t,e,n){"use strict";var i=n("9a12"),r=n.n(i);r.a},"73ca":function(t,e,n){},7568:function(t,e,n){"use strict";var i=n("b03f"),r=n.n(i);r.a},"76cb":function(t,e,n){},7737:function(t,e,n){"use strict";var i=n("a77a"),r=n.n(i);r.a},7949:function(t,e,n){},"79f1":function(t,e,n){},"7a7d":function(t,e,n){"use strict";var i=n("d4f1"),r=n.n(i);r.a},"7aaf":function(t,e,n){},"7d5d":function(t,e,n){"use strict";var i=n("6ab9"),r=n.n(i);r.a},"7dc7":function(t,e,n){"use strict";var i=n("9a9c"),r=n.n(i);r.a},"7e3b":function(t,e,n){},"7e85":function(t,e,n){"use strict";var i=n("dff1"),r=n.n(i);r.a},"7e93":function(t,e,n){},"7f51":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-block-type-heading-input",attrs:{"data-level":t.content.level}},[n("k-writer",{ref:"input",attrs:{inline:!0,marks:t.textField.marks,placeholder:t.textField.placeholder,value:t.content.text},on:{input:function(e){return t.update({text:e})}}})],1)},r=[],s={computed:{textField:function(){return this.field("text",{marks:!0})}},methods:{focus:function(){this.$refs.input.focus()}}},a=s,o=(n("455b"),n("2877")),u=Object(o["a"])(a,i,r,!1,null,null,null);e["default"]=u.exports},"7f6e":function(t,e,n){"use strict";var i=n("d814"),r=n.n(i);r.a},"82c9":function(t,e,n){"use strict";var i=n("8fda"),r=n.n(i);r.a},"862b":function(t,e,n){"use strict";var i=n("a194"),r=n.n(i);r.a},"86c7":function(t,e,n){n("4d63"),n("ac1f"),n("25f0"),n("5319"),RegExp.escape=function(t){return t.replace(new RegExp("[-/\\\\^$*+?.()[\\]{}]","gu"),"\\$&")}},"893d":function(t,e,n){"use strict";var i=n("5d8f"),r=n.n(i);r.a},"8c28":function(t,e,n){"use strict";var i=n("7e93"),r=n.n(i);r.a},"8d42":function(t,e,n){},"8d8b":function(t,e,n){"use strict";var i=n("a2dc"),r=n.n(i);r.a},"8f7d":function(t,e,n){"use strict";var i=n("4439"),r=n.n(i);r.a},"8f9d":function(t,e,n){},"8fda":function(t,e,n){},"91a7":function(t,e,n){"use strict";var i=n("2426"),r=n.n(i);r.a},"96a5":function(t,e,n){"use strict";var i=n("7e3b"),r=n.n(i);r.a},9711:function(t,e,n){var i={"./Code.vue":"1bde","./Default.vue":"367b","./Gallery.vue":"3273","./Heading.vue":"7f51","./Image.vue":"9978","./List.vue":"1991","./Markdown.vue":"6284","./Quote.vue":"d55e","./Table.vue":"e54a","./Text.vue":"dc40","./Video.vue":"a08f"};function r(t){var e=s(t);return n(e)}function s(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=s,t.exports=r,r.id="9711"},"977f":function(t,e,n){"use strict";var i=n("24a4"),r=n.n(i);r.a},9799:function(t,e,n){"use strict";var i=n("9fe4"),r=n.n(i);r.a},"98a1":function(t,e,n){"use strict";var i=n("cbf0"),r=n.n(i);r.a},9978:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-block-figure",{attrs:{caption:t.content.caption,"caption-marks":t.captionMarks,"empty-text":t.$t("field.blocks.image.placeholder")+" …","is-empty":!t.src,"empty-icon":"image"},on:{open:t.open,update:t.update}},[t.src?[t.ratio?n("k-aspect-ratio",{attrs:{ratio:t.ratio,cover:t.crop}},[n("img",{attrs:{alt:t.content.alt,src:t.src}})]):n("img",{staticClass:"k-block-type-image-auto",attrs:{alt:t.content.alt,src:t.src}})]:t._e()],2)},r=[],s={computed:{captionMarks:function(){return this.field("caption",{marks:!0}).marks},crop:function(){return this.content.crop||!1},src:function(){return"web"===this.content.location?this.content.src:!(!this.content.image[0]||!this.content.image[0].url)&&this.content.image[0].url},ratio:function(){return this.content.ratio||!1}}},a=s,o=(n("625a"),n("2877")),u=Object(o["a"])(a,i,r,!1,null,null,null);e["default"]=u.exports},"9a12":function(t,e,n){},"9a9c":function(t,e,n){},"9ab0":function(t,e,n){},"9b4b":function(t,e,n){},"9b58":function(t,e,n){},"9bd5":function(t,e,n){"use strict";var i=n("bb2f"),r=n.n(i);r.a},"9c44":function(t,e,n){"use strict";var i=n("e2f6"),r=n.n(i);r.a},"9d3c":function(t,e,n){},"9e26":function(t,e,n){"use strict";var i=n("5958"),r=n.n(i);r.a},"9ef9":function(t,e,n){},"9f92":function(t,e,n){},"9fe4":function(t,e,n){},a08f:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-block-figure",{attrs:{caption:t.content.caption,"empty-text":t.$t("field.blocks.video.placeholder")+" …","is-empty":!t.video,"empty-icon":"video"},on:{open:t.open,update:t.update}},[n("k-aspect-ratio",{attrs:{ratio:"16/9"}},[t.video?n("iframe",{attrs:{src:t.video}}):t._e()])],1)},r=[],s=(n("ac1f"),n("466d"),{computed:{video:function(){var t=this.content.url;if(!t)return!1;var e=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,n=t.match(e);if(n)return"https://www.youtube.com/embed/"+n[2];var i=/vimeo\.com\/([0-9]+)/,r=t.match(i);return!!r&&"https://player.vimeo.com/video/"+r[1]}}}),a=s,o=n("2877"),u=Object(o["a"])(a,i,r,!1,null,null,null);e["default"]=u.exports},a134:function(t,e,n){"use strict";var i=n("08eb"),r=n.n(i);r.a},a194:function(t,e,n){},a2dc:function(t,e,n){},a402:function(t,e,n){},a53e:function(t,e,n){},a567:function(t,e,n){"use strict";var i=n("6f7b"),r=n.n(i);r.a},a5f3:function(t,e,n){"use strict";var i=n("fc43"),r=n.n(i);r.a},a60e:function(t,e,n){},a659:function(t,e,n){"use strict";var i=n("6da7"),r=n.n(i);r.a},a66d:function(t,e,n){"use strict";var i=n("2bfd"),r=n.n(i);r.a},a77a:function(t,e,n){},a9b5:function(t,e,n){},aa9a:function(t,e,n){},ab3d:function(t,e,n){},ab7d:function(t,e,n){},ac27:function(t,e,n){"use strict";var i=n("60ed"),r=n.n(i);r.a},ae14:function(t,e,n){"use strict";var i=n("7949"),r=n.n(i);r.a},ae1b:function(t,e,n){"use strict";var i=n("e0dc"),r=n.n(i);r.a},ae60:function(t,e,n){},af44:function(t,e,n){"use strict";var i=n("5cae"),r=n.n(i);r.a},b03f:function(t,e,n){},b0d6:function(t,e,n){"use strict";var i=n("c5a7"),r=n.n(i);r.a},b5d2:function(t,e,n){"use strict";var i=n("f271"),r=n.n(i);r.a},b681:function(t,e,n){},b746:function(t,e,n){"use strict";var i=n("4eb7"),r=n.n(i);r.a},b7a8:function(t,e,n){"use strict";var i=n("532d"),r=n.n(i);r.a},ba56:function(t,e,n){},ba8f:function(t,e,n){"use strict";var i=n("d87b"),r=n.n(i);r.a},bb2f:function(t,e,n){},bb41:function(t,e,n){"use strict";var i=n("3d84"),r=n.n(i);r.a},bb4d:function(t,e,n){},bbdf:function(t,e,n){"use strict";var i=n("46b2"),r=n.n(i);r.a},bc9b:function(t,e,n){},bd96:function(t,e,n){"use strict";var i=n("0a47"),r=n.n(i);r.a},bf53:function(t,e,n){"use strict";var i=n("7aaf"),r=n.n(i);r.a},c092:function(t,e,n){},c119:function(t,e,n){"use strict";var i=n("ae60"),r=n.n(i);r.a},c21a:function(t,e,n){"use strict";var i=n("9ab0"),r=n.n(i);r.a},c500:function(t,e,n){},c5a7:function(t,e,n){},c735:function(t,e,n){},c7c8:function(t,e,n){"use strict";var i=n("c735"),r=n.n(i);r.a},c857:function(t,e,n){"use strict";var i=n("3915"),r=n.n(i);r.a},c873:function(t,e,n){},c9cb:function(t,e,n){"use strict";var i=n("76cb"),r=n.n(i);r.a},cb8f:function(t,e,n){"use strict";var i=n("fbac"),r=n.n(i);r.a},cbf0:function(t,e,n){},cc79:function(t,e,n){"use strict";var i=n("19ed"),r=n.n(i);r.a},cca8:function(t,e,n){"use strict";var i=n("41d3"),r=n.n(i);r.a},cf62:function(t,e,n){},d01b:function(t,e,n){},d0c1:function(t,e,n){"use strict";var i=n("cf62"),r=n.n(i);r.a},d0f9:function(t,e,n){},d218:function(t,e,n){},d221:function(t,e,n){"use strict";var i=n("4ab0"),r=n.n(i);r.a},d232:function(t,e,n){},d4f1:function(t,e,n){},d55e:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"k-block-type-quote-editor"},[n("k-writer",{ref:"text",staticClass:"k-block-type-quote-text",attrs:{inline:!0,placeholder:t.textField.placeholder,value:t.content.text},on:{input:function(e){return t.update({text:e})}}}),n("k-writer",{ref:"citation",staticClass:"k-block-type-quote-citation",attrs:{inline:!0,placeholder:t.citationField.placeholder,value:t.content.citation},on:{input:function(e){return t.update({citation:e})}}})],1)},r=[],s={computed:{citationField:function(){return this.field("citation",{})},textField:function(){return this.field("text",{})}},methods:{focus:function(){this.$refs.text.focus()}}},a=s,o=(n("91a7"),n("2877")),u=Object(o["a"])(a,i,r,!1,null,null,null);e["default"]=u.exports},d6fc:function(t,e,n){"use strict";var i=n("bb4d"),r=n.n(i);r.a},d78f:function(t,e,n){},d814:function(t,e,n){},d81c:function(t,e,n){},d87b:function(t,e,n){},d9e0:function(t,e,n){},daa8:function(t,e,n){"use strict";var i=n("0ded"),r=n.n(i);r.a},dc40:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("k-writer",{ref:"input",staticClass:"k-block-type-text-input",attrs:{nodes:!1,placeholder:t.placeholder,value:t.content.text},on:{input:function(e){return t.update({text:e})}}})},r=[],s={computed:{placeholder:function(){return this.field("text",{}).placeholder}},methods:{focus:function(){this.$refs.input.focus()}}},a=s,o=(n("f293"),n("2877")),u=Object(o["a"])(a,i,r,!1,null,null,null);e["default"]=u.exports},dd70:function(t,e,n){"use strict";var i=n("a53e"),r=n.n(i);r.a},ddfd:function(t,e,n){"use strict";var i=n("6855"),r=n.n(i);r.a},df0d:function(t,e,n){"use strict";var i=n("0118"),r=n.n(i);r.a},dff1:function(t,e,n){},e077:function(t,e,n){},e0dc:function(t,e,n){},e0eb:function(t,e,n){},e123:function(t,e,n){},e1f3:function(t,e,n){"use strict";var i=n("d9e0"),r=n.n(i);r.a},e2f6:function(t,e,n){},e30b:function(t,e,n){},e332:function(t,e,n){},e373:function(t,e,n){},e54a:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"k-block-type-table-preview",on:{click:function(e){return t.$emit("open")}}},[n("tr",t._l(t.columns,(function(e,i){return n("th",{key:i,attrs:{"data-align":e.align}},[t._v("\n      "+t._s(e.label)+"\n    ")])})),0),0===t.rows.length?n("tr",[n("td",{attrs:{colspan:t.columnsCount}},[n("small",{staticClass:"k-block-type-table-preview-empty"},[t._v(t._s(t.$t("field.structure.empty")))])])]):t._l(t.rows,(function(e,i){return n("tr",{key:i},t._l(t.columns,(function(r,s){return n("td",{key:i+"-"+s,attrs:{"data-align":r.align}},[t._v("\n      "+t._s(r.before)+" "+t._s(e[s])+" "+t._s(r.after)+"\n    ")])})),0)}))],2)},r=[],s=(n("4160"),n("b64b"),n("07ac"),n("159b"),{inheritAttrs:!1,computed:{columns:function(){return this.table.columns||this.table.fields||{}},columnsCount:function(){return Object.keys(this.columns).length},rows:function(){return this.content.rows||[]},table:function(){var t=null;return Object.values(this.fieldset.tabs).forEach((function(e){e.fields.rows&&(t=e.fields.rows)})),t||{}}}}),a=s,o=(n("f635"),n("2877")),u=Object(o["a"])(a,i,r,!1,null,null,null);e["default"]=u.exports},e78b:function(t,e,n){},e791:function(t,e,n){"use strict";var i=n("04a6"),r=n.n(i);r.a},e808:function(t,e,n){},e913:function(t,e,n){},ee15:function(t,e,n){"use strict";var i=n("288b"),r=n.n(i);r.a},f271:function(t,e,n){},f293:function(t,e,n){"use strict";var i=n("ba56"),r=n.n(i);r.a},f2fc:function(t,e,n){"use strict";var i=n("9f92"),r=n.n(i);r.a},f470:function(t,e,n){"use strict";var i=n("6b21"),r=n.n(i);r.a},f4ad:function(t,e,n){},f56d:function(t,e,n){"use strict";var i=n("9b4b"),r=n.n(i);r.a},f635:function(t,e,n){"use strict";var i=n("c873"),r=n.n(i);r.a},f6c2:function(t,e,n){"use strict";var i=n("04cb"),r=n.n(i);r.a},f7f5:function(t,e,n){"use strict";var i=n("49aa"),r=n.n(i);r.a},f8a7:function(t,e,n){"use strict";var i=n("0587"),r=n.n(i);r.a},f95f:function(t,e,n){"use strict";var i=n("ab7d"),r=n.n(i);r.a},f9aa:function(t,e,n){"use strict";var i=n("685a"),r=n.n(i);r.a},fa6a:function(t,e,n){"use strict";var i=n("342a"),r=n.n(i);r.a},fbac:function(t,e,n){},fc0f:function(t,e,n){"use strict";var i=n("9b58"),r=n.n(i);r.a},fc43:function(t,e,n){},fd6f:function(t,e,n){}});